
> zatona-web@1.0.0 test
> nx run-many --target=test --all


 NX   Running target test for 12 projects:

- shared-components
- shared-contexts
- shared-atoms
- shared-hooks
- shared-types
- database
- website
- admin
- utils
- auth
- ui
- zatona-web



> nx run shared-hooks:test  [local cache]

 DEPRECATED  "cache.dir" is deprecated, use Vite's "cacheDir" instead if you want to change the cache director. Note caches will be written to "cacheDir/vitest"

> nx run shared-contexts:test  [local cache]

 DEPRECATED  "cache.dir" is deprecated, use Vite's "cacheDir" instead if you want to change the cache director. Note caches will be written to "cacheDir/vitest"

> nx run shared-components:test  [local cache]

 DEPRECATED  "cache.dir" is deprecated, use Vite's "cacheDir" instead if you want to change the cache director. Note caches will be written to "cacheDir/vitest"

> nx run shared-atoms:test  [local cache]

 DEPRECATED  "cache.dir" is deprecated, use Vite's "cacheDir" instead if you want to change the cache director. Note caches will be written to "cacheDir/vitest"

> nx run shared-types:test  [local cache]

 DEPRECATED  "cache.dir" is deprecated, use Vite's "cacheDir" instead if you want to change the cache director. Note caches will be written to "cacheDir/vitest"

> nx run auth:test  [local cache]

No tests found, exiting with code 0

> nx run database:test  [local cache]

PASS database libs/database/src/lib/__tests__/database-switching.test.ts
  Database Switching
    ‚úì should create Firebase service when NEXT_PUBLIC_USE_FIREBASE=true (4 ms)
    ‚úì should create Supabase service when NEXT_PUBLIC_USE_FIREBASE=false (1 ms)
    ‚úì should default to Supabase when NEXT_PUBLIC_USE_FIREBASE is not set
  Database Service Usage
    ‚úì should handle get operation (1 ms)
    ‚úì should handle add operation (1 ms)
    ‚úì should handle error cases
  Database Integration
    ‚úì should work with React Context

Test Suites: 1 passed, 1 total
Tests:       7 passed, 7 total
Snapshots:   0 total
Time:        0.315 s, estimated 1 s
Ran all test suites.

> nx run utils:test  [local cache]

No tests found, exiting with code 0

> nx run ui:test  [local cache]

No tests found, exiting with code 0

> nx run admin:test


 NX   > Couldn't find any `pages` or `app` directory. Please create one under the project root

Pass --verbose to see the stacktrace.


> nx run website:test

‚óè Validation Warning:

  Unknown option "coverageProvider" with value "v8" was found.
  This is probably a typing mistake. Fixing it will remove this message.

  Configuration Documentation:
  https://jestjs.io/docs/configuration

FAIL tests/admin/admin-auth-integration.test.ts
  ‚óè Console

    console.error
      Admin authentication error: Error: Database connection failed
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:394:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:423:29)

    console.error
      Admin authentication error: SyntaxError: Unexpected token 'i', "invalid json" is not valid JSON
          at JSON.parse (<anonymous>)
          at NextRequest.parse [as json] (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/jest.setup.js:58:21)
          at json (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/admin/auth/route.ts:13:47)
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:443:43)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:443:29)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:541:29)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 0)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 1)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 2)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 3)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 4)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 5)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 6)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 7)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 8)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 9)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

  ‚óè Admin Authentication Integration ‚Ä∫ Session Management ‚Ä∫ should create valid session after successful login

    expect(received).toBe(expected) // Object.is equality

    Expected: "test@example.com"
    Received: "admin_123"

      309 |       };
      310 |
    > 311 |       expect(decoded.adminId).toBe(mockAdmin.email);
          |                               ^
      312 |       expect(decoded.email).toBe(mockAdmin.email);
      313 |       expect(decoded.role).toBe(mockAdmin.role);
      314 |     });

      at Object.toBe (../../tests/admin/admin-auth-integration.test.ts:311:31)

  ‚óè Admin Authentication Integration ‚Ä∫ Error Handling ‚Ä∫ should handle malformed requests

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      444 |       const loginData = await getResponseData(loginResponse);
      445 |
    > 446 |       expect(loginResponse.status).toBe(400);
          |                                    ^
      447 |       expect(loginData.success).toBe(false);
      448 |       expect(loginData.error).toBeDefined();
      449 |     });

      at Object.toBe (../../tests/admin/admin-auth-integration.test.ts:446:36)

  ‚óè Admin Authentication Integration ‚Ä∫ Error Handling ‚Ä∫ should handle missing environment variables

    expect(received).toBe(expected) // Object.is equality

    Expected: 500
    Received: 200

      501 |       const loginData = await getResponseData(loginResponse);
      502 |
    > 503 |       expect(loginResponse.status).toBe(500);
          |                                    ^
      504 |       expect(loginData.success).toBe(false);
      505 |       expect(loginData.error).toBeDefined();
      506 |     });

      at Object.toBe (../../tests/admin/admin-auth-integration.test.ts:503:36)

  ‚óè Admin Authentication Integration ‚Ä∫ Security Tests ‚Ä∫ should rate limit login attempts

    expect(received).toContain(expected) // indexOf

    Expected value: 500
    Received array: [400, 401, 429]

      570 |       // All requests should be handled (even if they fail)
      571 |       responses.forEach(response => {
    > 572 |         expect([400, 401, 429]).toContain(response.status);
          |                                 ^
      573 |       });
      574 |     });
      575 |

      at toContain (../../tests/admin/admin-auth-integration.test.ts:572:33)
          at Array.forEach (<anonymous>)
      at Object.forEach (../../tests/admin/admin-auth-integration.test.ts:571:17)

FAIL tests/admin/navbar-switching-fix.test.tsx
  ‚óè Navbar Switching Fix ‚Ä∫ ConditionalLayout Component ‚Ä∫ should render website layout for non-admin routes during SSR

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

      228 |       expect(
      229 |         container.querySelector('[data-testid="website-navbar"]')
    > 230 |       ).toBeInTheDocument();
          |         ^
      231 |       expect(screen.getByText('Home Page Content')).toBeInTheDocument();
      232 |     });
      233 |

      at __EXTERNAL_MATCHER_TRAP__ (../../node_modules/expect/build/index.js:2240:22)
      at Object.throwingMatcher [as toBeInTheDocument] (../../node_modules/expect/build/index.js:2241:6)
      at Object.toBeInTheDocument (../../tests/admin/navbar-switching-fix.test.tsx:230:9)

  ‚óè Navbar Switching Fix ‚Ä∫ ConditionalLayout Component ‚Ä∫ should render website layout for non-admin routes after hydration

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

      244 |       expect(
      245 |         container.querySelector('[data-testid="website-navbar"]')
    > 246 |       ).toBeInTheDocument();
          |         ^
      247 |       expect(screen.getByText('Practice Page Content')).toBeInTheDocument();
      248 |     });
      249 |

      at __EXTERNAL_MATCHER_TRAP__ (../../node_modules/expect/build/index.js:2240:22)
      at Object.throwingMatcher [as toBeInTheDocument] (../../node_modules/expect/build/index.js:2241:6)
      at Object.toBeInTheDocument (../../tests/admin/navbar-switching-fix.test.tsx:246:9)

  ‚óè Navbar Switching Fix ‚Ä∫ Admin Layout Component ‚Ä∫ should render admin navbar for authenticated users

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

      316 |       expect(
      317 |         container.querySelector('[data-testid="admin-navbar"]')
    > 318 |       ).toBeInTheDocument();
          |         ^
      319 |       expect(screen.getByText('Admin Dashboard Content')).toBeInTheDocument();
      320 |     });
      321 |

      at __EXTERNAL_MATCHER_TRAP__ (../../node_modules/expect/build/index.js:2240:22)
      at Object.throwingMatcher [as toBeInTheDocument] (../../node_modules/expect/build/index.js:2241:6)
      at Object.toBeInTheDocument (../../tests/admin/navbar-switching-fix.test.tsx:318:9)

  ‚óè Navbar Switching Fix ‚Ä∫ Admin Layout Component ‚Ä∫ should show loading state while checking authentication

    TestingLibraryElementError: Unable to find an element with the text: Loading admin panel.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      342 |       );
      343 |
    > 344 |       expect(screen.getByText('Loading admin panel...')).toBeInTheDocument();
          |                     ^
      345 |       expect(
      346 |         screen.queryByText('Admin Dashboard Content')
      347 |       ).not.toBeInTheDocument();

      at Object.getElementError (../../node_modules/@testing-library/dom/dist/config.js:37:19)
      at ../../node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at ../../node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at ../../node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (../../tests/admin/navbar-switching-fix.test.tsx:344:21)

  ‚óè Navbar Switching Fix ‚Ä∫ Route Detection ‚Ä∫ should correctly identify non-admin routes

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

      501 |         expect(
      502 |           container.querySelector('[data-testid="website-navbar"]')
    > 503 |         ).toBeInTheDocument();
          |           ^
      504 |         expect(screen.getByText(`Content for ${route}`)).toBeInTheDocument();
      505 |       });
      506 |     });

      at __EXTERNAL_MATCHER_TRAP__ (../../node_modules/expect/build/index.js:2240:22)
      at Object.throwingMatcher [as toBeInTheDocument] (../../node_modules/expect/build/index.js:2241:6)
      at toBeInTheDocument (../../tests/admin/navbar-switching-fix.test.tsx:503:11)
          at Array.forEach (<anonymous>)
      at Object.forEach (../../tests/admin/navbar-switching-fix.test.tsx:491:22)

  ‚óè Navbar Switching Fix ‚Ä∫ Edge Cases ‚Ä∫ should handle undefined pathname

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

      520 |       expect(
      521 |         container.querySelector('[data-testid="website-navbar"]')
    > 522 |       ).toBeInTheDocument();
          |         ^
      523 |     });
      524 |
      525 |     it('should handle null pathname', () => {

      at __EXTERNAL_MATCHER_TRAP__ (../../node_modules/expect/build/index.js:2240:22)
      at Object.throwingMatcher [as toBeInTheDocument] (../../node_modules/expect/build/index.js:2241:6)
      at Object.toBeInTheDocument (../../tests/admin/navbar-switching-fix.test.tsx:522:9)

  ‚óè Navbar Switching Fix ‚Ä∫ Edge Cases ‚Ä∫ should handle null pathname

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

      535 |       expect(
      536 |         container.querySelector('[data-testid="website-navbar"]')
    > 537 |       ).toBeInTheDocument();
          |         ^
      538 |     });
      539 |
      540 |     it('should handle empty pathname', () => {

      at __EXTERNAL_MATCHER_TRAP__ (../../node_modules/expect/build/index.js:2240:22)
      at Object.throwingMatcher [as toBeInTheDocument] (../../node_modules/expect/build/index.js:2241:6)
      at Object.toBeInTheDocument (../../tests/admin/navbar-switching-fix.test.tsx:537:9)

  ‚óè Navbar Switching Fix ‚Ä∫ Edge Cases ‚Ä∫ should handle empty pathname

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

      550 |       expect(
      551 |         container.querySelector('[data-testid="website-navbar"]')
    > 552 |       ).toBeInTheDocument();
          |         ^
      553 |     });
      554 |
      555 |     it('should handle routes that start with admin but are not admin routes', () => {

      at __EXTERNAL_MATCHER_TRAP__ (../../node_modules/expect/build/index.js:2240:22)
      at Object.throwingMatcher [as toBeInTheDocument] (../../node_modules/expect/build/index.js:2241:6)
      at Object.toBeInTheDocument (../../tests/admin/navbar-switching-fix.test.tsx:552:9)

  ‚óè Navbar Switching Fix ‚Ä∫ Edge Cases ‚Ä∫ should handle routes that start with admin but are not admin routes

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

      565 |       expect(
      566 |         container.querySelector('[data-testid="website-navbar"]')
    > 567 |       ).toBeInTheDocument();
          |         ^
      568 |       expect(
      569 |         screen.getByText('Public Admin Panel Content')
      570 |       ).toBeInTheDocument();

      at __EXTERNAL_MATCHER_TRAP__ (../../node_modules/expect/build/index.js:2240:22)
      at Object.throwingMatcher [as toBeInTheDocument] (../../node_modules/expect/build/index.js:2241:6)
      at Object.toBeInTheDocument (../../tests/admin/navbar-switching-fix.test.tsx:567:9)

  ‚óè Navbar Switching Fix ‚Ä∫ Performance ‚Ä∫ should not cause unnecessary re-renders

    expect(received).toBe(expected) // Object.is equality

    Expected: 1
    Received: 2

      605 |
      606 |       // Should not cause additional renders
    > 607 |       expect(renderSpy.mock.calls.length).toBe(initialRenderCount);
          |                                           ^
      608 |     });
      609 |
      610 |     it('should handle rapid route changes efficiently', () => {

      at Object.toBe (../../tests/admin/navbar-switching-fix.test.tsx:607:43)

FAIL tests/unit/learning-type-context.test.tsx (5.346 s)
  ‚óè Console

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://hpnewqkvpnthpohvxcmq.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.error
      Warning: An update to LearningTypeProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/context/LearningTypeContext.tsx:38:3)

      222 |
      223 |   const setLearningType = useCallback((type: LearningType) => {
    > 224 |     setLearningTypeState(type);
          |     ^
      225 |     // Optionally sync preference to API here in future
      226 |   }, []);
      227 |

      at printWarning (../../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLearningTypeState (src/context/LearningTypeContext.tsx:224:5)
      at setLearningType (../../tests/unit/learning-type-context.test.tsx:15:30)
      at HTMLUnknownElement.callCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at fireAnEvent (../../node_modules/jsdom/lib/jsdom/living/helpers/events.js:18:36)
      at HTMLButtonElementImpl.click (../../node_modules/jsdom/lib/jsdom/living/nodes/HTMLElement-impl.js:85:5)
      at HTMLButtonElement.click (../../node_modules/jsdom/lib/jsdom/living/generated/HTMLElement.js:108:34)
      at Object.click (../../tests/unit/learning-type-context.test.tsx:41:34)

    console.error
      Warning: An update to LearningTypeProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/context/LearningTypeContext.tsx:38:3)

      123 |       (_event, session) => {
      124 |         const newUserId = session?.user?.id ?? null;
    > 125 |         setUserId(newUserId);
          |         ^
      126 |
      127 |         // Reload learning type when auth state changes
      128 |         const universalTypeKey = buildStorageKey(null, 'type');

      at printWarning (../../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.setUserId [as callback] (src/context/LearningTypeContext.tsx:125:9)
      at ../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:2144:49
      at SupabaseAuthClient._useSession (../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:1501:20)
      at SupabaseAuthClient._emitInitialSession (../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:2136:12)

    console.error
      Warning: An update to LearningTypeProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/context/LearningTypeContext.tsx:38:3)

      137 |             rawType === 'custom'
      138 |           ) {
    > 139 |             setLearningTypeState(rawType);
          |             ^
      140 |           }
      141 |         } catch (_e) {
      142 |           // ignore

      at printWarning (../../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.setLearningTypeState [as callback] (src/context/LearningTypeContext.tsx:139:13)
      at ../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:2144:49
      at SupabaseAuthClient._useSession (../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:1501:20)
      at SupabaseAuthClient._emitInitialSession (../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:2136:12)

    console.error
      Warning: An update to LearningTypeProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/context/LearningTypeContext.tsx:38:3)

      77 |         if (!mounted) return;
      78 |         const newUserId = data.user?.id ?? null;
    > 79 |         setUserId(newUserId);
         |         ^
      80 |
      81 |         // When userId changes (including logout), reload learning type from appropriate storage
      82 |         const universalTypeKey = buildStorageKey(null, 'type');

      at printWarning (../../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setUserId (src/context/LearningTypeContext.tsx:79:9)

    console.error
      Warning: An update to LearningTypeProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/context/LearningTypeContext.tsx:38:3)

      91 |             rawType === 'custom'
      92 |           ) {
    > 93 |             setLearningTypeState(rawType);
         |             ^
      94 |           }
      95 |         } catch (_e) {
      96 |           // ignore

      at printWarning (../../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLearningTypeState (src/context/LearningTypeContext.tsx:93:13)

  ‚óè LearningTypeContext ‚Ä∫ updates learning type

    expect(element).toHaveTextContent()

    Expected element to have text content:
      free-style
    Received:
      guided

      40 |     );
      41 |     screen.getByText('set-free').click();
    > 42 |     expect(screen.getByTestId('type')).toHaveTextContent('free-style');
         |                                        ^
      43 |   });
      44 | });
      45 |

      at Object.toHaveTextContent (../../tests/unit/learning-type-context.test.tsx:42:40)

FAIL tests/admin/admin-integration.test.tsx (5.9 s)
  ‚óè Console

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

  ‚óè Admin Integration Tests ‚Ä∫ Complete Card Management Workflow ‚Ä∫ should create, read, update, and delete a learning card

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/content-management/page.tsx:17:27)
      at ../../tests/admin/admin-integration.test.tsx:127:15
      at Object.<anonymous> (../../tests/admin/admin-integration.test.tsx:127:9)

  ‚óè Admin Integration Tests ‚Ä∫ Complete Question Management Workflow ‚Ä∫ should create, read, update, and delete a question

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/content/questions/page.tsx:15:27)
      at ../../tests/admin/admin-integration.test.tsx:248:36
      at Object.<anonymous> (../../tests/admin/admin-integration.test.tsx:248:30)

  ‚óè Admin Integration Tests ‚Ä∫ Cross-Component Data Consistency ‚Ä∫ should maintain data consistency between content management and questions pages

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/content-management/page.tsx:17:27)
      at ../../tests/admin/admin-integration.test.tsx:382:15
      at Object.<anonymous> (../../tests/admin/admin-integration.test.tsx:382:9)

  ‚óè Admin Integration Tests ‚Ä∫ Search and Filter Integration ‚Ä∫ should maintain search state across different admin pages

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/content/questions/page.tsx:15:27)
      at ../../tests/admin/admin-integration.test.tsx:432:36
      at Object.<anonymous> (../../tests/admin/admin-integration.test.tsx:432:30)

  ‚óè Admin Integration Tests ‚Ä∫ Bulk Operations Integration ‚Ä∫ should handle bulk operations across multiple content types

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/content/questions/page.tsx:15:27)
      at ../../tests/admin/admin-integration.test.tsx:483:36
      at Object.<anonymous> (../../tests/admin/admin-integration.test.tsx:483:30)

  ‚óè Admin Integration Tests ‚Ä∫ Error Recovery Integration ‚Ä∫ should handle and recover from errors gracefully across components

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/content-management/page.tsx:17:27)
      at ../../tests/admin/admin-integration.test.tsx:517:15
      at Object.<anonymous> (../../tests/admin/admin-integration.test.tsx:517:9)

  ‚óè Admin Integration Tests ‚Ä∫ Performance Integration ‚Ä∫ should handle large datasets efficiently

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/content/questions/page.tsx:15:27)
      at ../../tests/admin/admin-integration.test.tsx:559:36
      at Object.<anonymous> (../../tests/admin/admin-integration.test.tsx:559:30)

FAIL apps/website/src/__tests__/learning-type-context.test.tsx
  ‚óè LearningTypeContext (app colocated) ‚Ä∫ updates learning type

    expect(element).toHaveTextContent()

    Expected element to have text content:
      free-style
    Received:
      guided

      55 |       screen.getByText('set-free').click();
      56 |     });
    > 57 |     expect(screen.getByTestId('type')).toHaveTextContent('free-style');
         |                                        ^
      58 |   });
      59 |
      60 |   it('persists learning type under user-scoped key when session exists', async () => {

      at Object.toHaveTextContent (src/__tests__/learning-type-context.test.tsx:57:40)

  ‚óè LearningTypeContext (app colocated) ‚Ä∫ persists learning type under user-scoped key when session exists

    expect(received).toBe(expected) // Object.is equality

    Expected: "free-style"
    Received: null

      71 |     expect(
      72 |       window.localStorage.getItem('learning-preferences:user_123:type')
    > 73 |     ).toBe('free-style');
         |       ^
      74 |   });
      75 | });
      76 |

      at Object.toBe (src/__tests__/learning-type-context.test.tsx:73:7)

FAIL tests/admin/frontend-problem-solving-api.test.ts
  ‚óè Console

    console.log
      üîÑ API: Fetching frontend tasks...

      at log (src/app/api/admin/frontend-tasks/route.ts:19:13)

    console.error
      ‚ùå API: Error fetching frontend tasks: TypeError: Cannot read properties of undefined (reading 'order')
          at order (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/admin/frontend-tasks/route.ts:40:19)
          at Object.GET (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/frontend-problem-solving-api.test.ts:82:32)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)

      80 |     return NextResponse.json(response);
      81 |   } catch (error) {
    > 82 |     console.error('‚ùå API: Error fetching frontend tasks:', error);
         |             ^
      83 |     return NextResponse.json(
      84 |       { success: false, error: 'Failed to fetch frontend tasks' },
      85 |       { status: 500 }

      at error (src/app/api/admin/frontend-tasks/route.ts:82:13)
      at Object.GET (../../tests/admin/frontend-problem-solving-api.test.ts:82:32)

    console.log
      üîÑ API: Fetching frontend tasks...

      at log (src/app/api/admin/frontend-tasks/route.ts:19:13)

    console.error
      ‚ùå API: Error fetching frontend tasks: TypeError: Cannot read properties of undefined (reading 'eq')
          at eq (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/admin/frontend-tasks/route.ts:36:21)
          at Object.GET (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/frontend-problem-solving-api.test.ts:126:32)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)

      80 |     return NextResponse.json(response);
      81 |   } catch (error) {
    > 82 |     console.error('‚ùå API: Error fetching frontend tasks:', error);
         |             ^
      83 |     return NextResponse.json(
      84 |       { success: false, error: 'Failed to fetch frontend tasks' },
      85 |       { status: 500 }

      at error (src/app/api/admin/frontend-tasks/route.ts:82:13)
      at Object.GET (../../tests/admin/frontend-problem-solving-api.test.ts:126:32)

    console.log
      üîÑ API: Creating new frontend task...

      at log (src/app/api/admin/frontend-tasks/route.ts:93:13)

    console.error
      ‚ùå API: Error creating frontend task: TypeError: Cannot read properties of undefined (reading 'select')
          at taskData (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/admin/frontend-tasks/route.ts:116:15)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/frontend-problem-solving-api.test.ts:181:26)

      131 |     return NextResponse.json(response, { status: 201 });
      132 |   } catch (error) {
    > 133 |     console.error('‚ùå API: Error creating frontend task:', error);
          |             ^
      134 |     return NextResponse.json(
      135 |       { success: false, error: 'Failed to create frontend task' },
      136 |       { status: 500 }

      at error (src/app/api/admin/frontend-tasks/route.ts:133:13)
      at Object.<anonymous> (../../tests/admin/frontend-problem-solving-api.test.ts:181:26)

    console.log
      üîÑ API: Creating new frontend task...

      at log (src/app/api/admin/frontend-tasks/route.ts:93:13)

    console.log
      üîÑ API: Updating frontend task...

      at log (src/app/api/admin/frontend-tasks/[id]/route.ts:70:13)

    console.log
      üîÑ API: Deleting frontend task...

      at log (src/app/api/admin/frontend-tasks/[id]/route.ts:136:13)

    console.error
      ‚ùå API: Error deleting frontend task: TypeError: Cannot read properties of undefined (reading 'eq')
          at DELETE (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/admin/frontend-tasks/[id]/route.ts:150:15)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/frontend-problem-solving-api.test.ts:289:26)

      178 |     return NextResponse.json(response);
      179 |   } catch (error) {
    > 180 |     console.error('‚ùå API: Error deleting frontend task:', error);
          |             ^
      181 |     return NextResponse.json(
      182 |       { success: false, error: 'Failed to delete frontend task' },
      183 |       { status: 500 }

      at error (src/app/api/admin/frontend-tasks/[id]/route.ts:180:13)
      at Object.<anonymous> (../../tests/admin/frontend-problem-solving-api.test.ts:289:26)

    console.log
      üîÑ API: Fetching problem solving tasks...

      at log (src/app/api/admin/problem-solving/route.ts:19:13)

    console.error
      ‚ùå API: Error fetching problem solving tasks: TypeError: Cannot read properties of undefined (reading 'order')
          at GET (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/admin/problem-solving/route.ts:31:15)
          at Object.GET (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/frontend-problem-solving-api.test.ts:338:32)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)

      83 |     return NextResponse.json(response);
      84 |   } catch (error) {
    > 85 |     console.error('‚ùå API: Error fetching problem solving tasks:', error);
         |             ^
      86 |     return NextResponse.json(
      87 |       { success: false, error: 'Failed to fetch problem solving tasks' },
      88 |       { status: 500 }

      at error (src/app/api/admin/problem-solving/route.ts:85:13)
      at Object.GET (../../tests/admin/frontend-problem-solving-api.test.ts:338:32)

    console.log
      üîÑ API: Fetching problem solving tasks...

      at log (src/app/api/admin/problem-solving/route.ts:19:13)

    console.error
      ‚ùå API: Error fetching problem solving tasks: TypeError: Cannot read properties of undefined (reading 'order')
          at GET (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/admin/problem-solving/route.ts:31:15)
          at Object.GET (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/frontend-problem-solving-api.test.ts:382:32)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)

      83 |     return NextResponse.json(response);
      84 |   } catch (error) {
    > 85 |     console.error('‚ùå API: Error fetching problem solving tasks:', error);
         |             ^
      86 |     return NextResponse.json(
      87 |       { success: false, error: 'Failed to fetch problem solving tasks' },
      88 |       { status: 500 }

      at error (src/app/api/admin/problem-solving/route.ts:85:13)
      at Object.GET (../../tests/admin/frontend-problem-solving-api.test.ts:382:32)

    console.log
      üîÑ API: Creating new problem solving task...

      at log (src/app/api/admin/problem-solving/route.ts:96:13)

    console.log
      üîÑ API: Creating new problem solving task...

      at log (src/app/api/admin/problem-solving/route.ts:96:13)

    console.log
      üîÑ API: Updating problem solving task...

      at log (src/app/api/admin/problem-solving/[id]/route.ts:74:13)

    console.error
      ‚ùå API: Error updating problem solving task: TypeError: Cannot read properties of undefined (reading 'eq')
          at PUT (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/admin/problem-solving/[id]/route.ts:89:14)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/frontend-problem-solving-api.test.ts:510:26)

      120 |     return NextResponse.json(response);
      121 |   } catch (error) {
    > 122 |     console.error('‚ùå API: Error updating problem solving task:', error);
          |             ^
      123 |     return NextResponse.json(
      124 |       { success: false, error: 'Failed to update problem solving task' },
      125 |       { status: 500 }

      at error (src/app/api/admin/problem-solving/[id]/route.ts:122:13)
      at Object.<anonymous> (../../tests/admin/frontend-problem-solving-api.test.ts:510:26)

    console.log
      üîÑ API: Deleting problem solving task...

      at log (src/app/api/admin/problem-solving/[id]/route.ts:136:13)

    console.error
      ‚ùå API: Error deleting problem solving task: TypeError: Cannot read properties of undefined (reading 'eq')
          at DELETE (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/admin/problem-solving/[id]/route.ts:150:14)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/frontend-problem-solving-api.test.ts:543:26)

      181 |     return NextResponse.json(response);
      182 |   } catch (error) {
    > 183 |     console.error('‚ùå API: Error deleting problem solving task:', error);
          |             ^
      184 |     return NextResponse.json(
      185 |       { success: false, error: 'Failed to delete problem solving task' },
      186 |       { status: 500 }

      at error (src/app/api/admin/problem-solving/[id]/route.ts:183:13)
      at Object.<anonymous> (../../tests/admin/frontend-problem-solving-api.test.ts:543:26)

    console.log
      üîÑ API: Fetching frontend tasks...

      at log (src/app/api/admin/frontend-tasks/route.ts:19:13)

    console.error
      ‚ùå API: Error fetching frontend tasks: TypeError: Cannot read properties of undefined (reading 'order')
          at order (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/admin/frontend-tasks/route.ts:40:19)
          at Object.GET (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/frontend-problem-solving-api.test.ts:571:30)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)

      80 |     return NextResponse.json(response);
      81 |   } catch (error) {
    > 82 |     console.error('‚ùå API: Error fetching frontend tasks:', error);
         |             ^
      83 |     return NextResponse.json(
      84 |       { success: false, error: 'Failed to fetch frontend tasks' },
      85 |       { status: 500 }

      at error (src/app/api/admin/frontend-tasks/route.ts:82:13)
      at Object.GET (../../tests/admin/frontend-problem-solving-api.test.ts:571:30)

    console.log
      üîÑ API: Creating new frontend task...

      at log (src/app/api/admin/frontend-tasks/route.ts:93:13)

    console.error
      ‚ùå API: Error creating frontend task: SyntaxError: Unexpected token 'i', "invalid json" is not valid JSON
          at JSON.parse (<anonymous>)
          at NextRequest.parse [as json] (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/jest.setup.js:58:21)
          at json (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/admin/frontend-tasks/route.ts:95:54)
          at Object.POST (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/frontend-problem-solving-api.test.ts:592:30)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)

      131 |     return NextResponse.json(response, { status: 201 });
      132 |   } catch (error) {
    > 133 |     console.error('‚ùå API: Error creating frontend task:', error);
          |             ^
      134 |     return NextResponse.json(
      135 |       { success: false, error: 'Failed to create frontend task' },
      136 |       { status: 500 }

      at error (src/app/api/admin/frontend-tasks/route.ts:133:13)
      at Object.<anonymous> (../../tests/admin/frontend-problem-solving-api.test.ts:592:24)

    console.log
      üîÑ API: Creating new frontend task...

      at log (src/app/api/admin/frontend-tasks/route.ts:93:13)

  ‚óè Frontend Tasks & Problem Solving API Tests ‚Ä∫ Frontend Tasks API ‚Ä∫ GET /api/frontend-tasks ‚Ä∫ should return all frontend tasks

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      83 |         const data = await response.json();
      84 |
    > 85 |         expect(response.status).toBe(200);
         |                                 ^
      86 |         expect(data.success).toBe(true);
      87 |         expect(data.data).toHaveLength(1);
      88 |         expect(data.data[0].title).toBe('Build a Todo App');

      at Object.toBe (../../tests/admin/frontend-problem-solving-api.test.ts:85:33)

  ‚óè Frontend Tasks & Problem Solving API Tests ‚Ä∫ Frontend Tasks API ‚Ä∫ GET /api/frontend-tasks ‚Ä∫ should filter tasks by difficulty

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      127 |         const data = await response.json();
      128 |
    > 129 |         expect(response.status).toBe(200);
          |                                 ^
      130 |         expect(data.success).toBe(true);
      131 |         expect(data.data).toHaveLength(1);
      132 |         expect(data.data[0].difficulty).toBe('easy');

      at Object.toBe (../../tests/admin/frontend-problem-solving-api.test.ts:129:33)

  ‚óè Frontend Tasks & Problem Solving API Tests ‚Ä∫ Frontend Tasks API ‚Ä∫ POST /api/frontend-tasks ‚Ä∫ should create a new frontend task

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 500

      182 |         const data = await response.json();
      183 |
    > 184 |         expect(response.status).toBe(201);
          |                                 ^
      185 |         expect(data.success).toBe(true);
      186 |         expect(data.data.id).toBe('test-task-id');
      187 |         expect(data.data.title).toBe('Build a Calculator');

      at Object.toBe (../../tests/admin/frontend-problem-solving-api.test.ts:184:33)

  ‚óè Frontend Tasks & Problem Solving API Tests ‚Ä∫ Frontend Tasks API ‚Ä∫ POST /api/frontend-tasks ‚Ä∫ should validate required fields for frontend tasks

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: undefined

      209 |
      210 |         expect(response.status).toBe(400);
    > 211 |         expect(data.success).toBe(false);
          |                              ^
      212 |         expect(data.error).toBeDefined();
      213 |       });
      214 |     });

      at Object.toBe (../../tests/admin/frontend-problem-solving-api.test.ts:211:30)

  ‚óè Frontend Tasks & Problem Solving API Tests ‚Ä∫ Frontend Tasks API ‚Ä∫ PUT /api/admin/frontend-tasks/[id] ‚Ä∫ should update an existing frontend task

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      257 |         const data = await response.json();
      258 |
    > 259 |         expect(response.status).toBe(200);
          |                                 ^
      260 |         expect(data.success).toBe(true);
      261 |       });
      262 |     });

      at Object.toBe (../../tests/admin/frontend-problem-solving-api.test.ts:259:33)

  ‚óè Frontend Tasks & Problem Solving API Tests ‚Ä∫ Frontend Tasks API ‚Ä∫ DELETE /api/admin/frontend-tasks/[id] ‚Ä∫ should delete a frontend task

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      290 |         const data = await response.json();
      291 |
    > 292 |         expect(response.status).toBe(200);
          |                                 ^
      293 |         expect(data.success).toBe(true);
      294 |       });
      295 |     });

      at Object.toBe (../../tests/admin/frontend-problem-solving-api.test.ts:292:33)

  ‚óè Frontend Tasks & Problem Solving API Tests ‚Ä∫ Problem Solving API ‚Ä∫ GET /api/admin/problem-solving ‚Ä∫ should return all problem solving tasks

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      339 |         const data = await response.json();
      340 |
    > 341 |         expect(response.status).toBe(200);
          |                                 ^
      342 |         expect(data.success).toBe(true);
      343 |         expect(data.data).toHaveLength(1);
      344 |         expect(data.data[0].title).toBe('Two Sum');

      at Object.toBe (../../tests/admin/frontend-problem-solving-api.test.ts:341:33)

  ‚óè Frontend Tasks & Problem Solving API Tests ‚Ä∫ Problem Solving API ‚Ä∫ GET /api/admin/problem-solving ‚Ä∫ should filter problems by category

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      383 |         const data = await response.json();
      384 |
    > 385 |         expect(response.status).toBe(200);
          |                                 ^
      386 |         expect(data.success).toBe(true);
      387 |         expect(data.data).toHaveLength(1);
      388 |         expect(data.data[0].category).toBe('arrays');

      at Object.toBe (../../tests/admin/frontend-problem-solving-api.test.ts:385:33)

  ‚óè Frontend Tasks & Problem Solving API Tests ‚Ä∫ Problem Solving API ‚Ä∫ POST /api/admin/problem-solving ‚Ä∫ should create a new problem solving task

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 400

      436 |         const data = await response.json();
      437 |
    > 438 |         expect(response.status).toBe(201);
          |                                 ^
      439 |         expect(data.success).toBe(true);
      440 |         expect(data.data.id).toBe('test-problem-id');
      441 |         expect(data.data.title).toBe('Reverse String');

      at Object.toBe (../../tests/admin/frontend-problem-solving-api.test.ts:438:33)

  ‚óè Frontend Tasks & Problem Solving API Tests ‚Ä∫ Problem Solving API ‚Ä∫ POST /api/admin/problem-solving ‚Ä∫ should validate required fields for problem solving tasks

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: undefined

      463 |
      464 |         expect(response.status).toBe(400);
    > 465 |         expect(data.success).toBe(false);
          |                              ^
      466 |         expect(data.error).toBeDefined();
      467 |       });
      468 |     });

      at Object.toBe (../../tests/admin/frontend-problem-solving-api.test.ts:465:30)

  ‚óè Frontend Tasks & Problem Solving API Tests ‚Ä∫ Problem Solving API ‚Ä∫ PUT /api/admin/problem-solving/[id] ‚Ä∫ should update an existing problem solving task

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      511 |         const data = await response.json();
      512 |
    > 513 |         expect(response.status).toBe(200);
          |                                 ^
      514 |         expect(data.success).toBe(true);
      515 |       });
      516 |     });

      at Object.toBe (../../tests/admin/frontend-problem-solving-api.test.ts:513:33)

  ‚óè Frontend Tasks & Problem Solving API Tests ‚Ä∫ Problem Solving API ‚Ä∫ DELETE /api/admin/problem-solving/[id] ‚Ä∫ should delete a problem solving task

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      544 |         const data = await response.json();
      545 |
    > 546 |         expect(response.status).toBe(200);
          |                                 ^
      547 |         expect(data.success).toBe(true);
      548 |       });
      549 |     });

      at Object.toBe (../../tests/admin/frontend-problem-solving-api.test.ts:546:33)

  ‚óè Frontend Tasks & Problem Solving API Tests ‚Ä∫ Error Handling ‚Ä∫ should handle Supabase connection errors gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: undefined

      573 |
      574 |       expect(response.status).toBe(500);
    > 575 |       expect(data.success).toBe(false);
          |                            ^
      576 |       expect(data.error).toBeDefined();
      577 |     });
      578 |

      at Object.toBe (../../tests/admin/frontend-problem-solving-api.test.ts:575:28)

  ‚óè Frontend Tasks & Problem Solving API Tests ‚Ä∫ Error Handling ‚Ä∫ should handle invalid JSON in request body

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      593 |       const data = await response.json();
      594 |
    > 595 |       expect(response.status).toBe(400);
          |                               ^
      596 |       expect(data.success).toBe(false);
      597 |       expect(data.error).toBeDefined();
      598 |     });

      at Object.toBe (../../tests/admin/frontend-problem-solving-api.test.ts:595:31)

  ‚óè Frontend Tasks & Problem Solving API Tests ‚Ä∫ Error Handling ‚Ä∫ should handle missing Content-Type header

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: undefined

      612 |
      613 |       expect(response.status).toBe(400);
    > 614 |       expect(data.success).toBe(false);
          |                            ^
      615 |       expect(data.error).toBeDefined();
      616 |     });
      617 |   });

      at Object.toBe (../../tests/admin/frontend-problem-solving-api.test.ts:614:28)

PASS apps/website/src/__tests__/flashcards-utils.test.ts
FAIL tests/admin/content-management-api.test.ts
  ‚óè Console

    console.log
      ‚úÖ Supabase server initialized successfully with service role key!

      at Object.log (src/lib/supabase-server.ts:22:11)

    console.error
      Error fetching cards: TypeError: Cannot read properties of undefined (reading 'order')
          at Object.order [as getLearningCards] (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/lib/supabase-server.ts:53:21)
          at getLearningCards (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/cards/route.ts:58:32)
          at Object.GET (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/content-management-api.test.ts:87:32)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)

      84 |     });
      85 |   } catch (error) {
    > 86 |     console.error('Error fetching cards:', error);
         |             ^
      87 |     return NextResponse.json(
      88 |       { success: false, error: 'Failed to fetch cards' },
      89 |       { status: 500 }

      at error (src/app/api/cards/route.ts:86:13)
      at Object.<anonymous> (../../tests/admin/content-management-api.test.ts:87:26)

    console.error
      Error fetching cards: TypeError: Cannot read properties of undefined (reading 'order')
          at Object.order [as getLearningCards] (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/lib/supabase-server.ts:53:21)
          at getLearningCards (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/cards/route.ts:58:32)
          at Object.GET (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/content-management-api.test.ts:117:32)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)

      84 |     });
      85 |   } catch (error) {
    > 86 |     console.error('Error fetching cards:', error);
         |             ^
      87 |     return NextResponse.json(
      88 |       { success: false, error: 'Failed to fetch cards' },
      89 |       { status: 500 }

      at error (src/app/api/cards/route.ts:86:13)
      at Object.<anonymous> (../../tests/admin/content-management-api.test.ts:117:26)

    console.error
      Error creating card: TypeError: Cannot read properties of undefined (reading 'select')
          at supabaseCardData (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/cards/route.ts:172:15)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/content-management-api.test.ts:160:26)

      204 |     });
      205 |   } catch (error) {
    > 206 |     console.error('Error creating card:', error);
          |             ^
      207 |     return NextResponse.json(
      208 |       { success: false, error: 'Failed to create card' },
      209 |       { status: 500 }

      at error (src/app/api/cards/route.ts:206:13)
      at Object.<anonymous> (../../tests/admin/content-management-api.test.ts:160:26)

    console.error
      Error creating card: TypeError: Cannot read properties of undefined (reading 'select')
          at supabaseCardData (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/cards/route.ts:172:15)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/content-management-api.test.ts:183:26)

      204 |     });
      205 |   } catch (error) {
    > 206 |     console.error('Error creating card:', error);
          |             ^
      207 |     return NextResponse.json(
      208 |       { success: false, error: 'Failed to create card' },
      209 |       { status: 500 }

      at error (src/app/api/cards/route.ts:206:13)
      at Object.<anonymous> (../../tests/admin/content-management-api.test.ts:183:26)

    console.error
      Error updating card: TypeError: Cannot read properties of undefined (reading 'eq')
          at PUT (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/cards/[id]/route.ts:52:69)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/content-management-api.test.ts:232:26)

      62 |     });
      63 |   } catch (error) {
    > 64 |     console.error('Error updating card:', error);
         |             ^
      65 |     return NextResponse.json(
      66 |       { success: false, error: 'Failed to update card' },
      67 |       { status: 500 }

      at error (src/app/api/cards/[id]/route.ts:64:13)
      at Object.<anonymous> (../../tests/admin/content-management-api.test.ts:232:26)

    console.error
      Error deleting card: TypeError: Cannot read properties of undefined (reading 'eq')
          at DELETE (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/cards/[id]/route.ts:82:14)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/content-management-api.test.ts:266:26)

      92 |     });
      93 |   } catch (error) {
    > 94 |     console.error('Error deleting card:', error);
         |             ^
      95 |     return NextResponse.json(
      96 |       { success: false, error: 'Failed to delete card' },
      97 |       { status: 500 }

      at error (src/app/api/cards/[id]/route.ts:94:13)
      at Object.<anonymous> (../../tests/admin/content-management-api.test.ts:266:26)

    console.log
      üîç API Debug: Starting GET /api/plans

      at log (src/app/api/plans/route.ts:23:13)

    console.log
      üîç API Debug: Supabase client created

      at log (src/app/api/plans/route.ts:26:13)

    console.error
      ‚ùå Error in GET /api/plans: TypeError: Cannot read properties of undefined (reading 'order')
          at GET (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/plans/route.ts:30:15)
          at Object.GET (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/content-management-api.test.ts:306:32)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)

      62 |     });
      63 |   } catch (error) {
    > 64 |     console.error('‚ùå Error in GET /api/plans:', error);
         |             ^
      65 |     const errorMessage =
      66 |       error instanceof Error ? error.message : 'Unknown error';
      67 |     const isFetchError =

      at error (src/app/api/plans/route.ts:64:13)
      at Object.GET (../../tests/admin/content-management-api.test.ts:306:32)

    console.error
      ‚ùå Error in POST /api/plans: TypeError: Cannot read properties of undefined (reading 'select')
          at planWithTimestamps (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/plans/route.ts:101:15)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/content-management-api.test.ts:349:26)

      121 |     });
      122 |   } catch (error) {
    > 123 |     console.error('‚ùå Error in POST /api/plans:', error);
          |             ^
      124 |     const errorMessage =
      125 |       error instanceof Error ? error.message : 'Unknown error';
      126 |     return NextResponse.json(

      at error (src/app/api/plans/route.ts:123:13)
      at Object.<anonymous> (../../tests/admin/content-management-api.test.ts:349:26)

    console.error
      Error fetching categories: TypeError: Cannot read properties of undefined (reading 'eq')
          at GET (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/categories/route.ts:26:15)
          at Object.GET (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/content-management-api.test.ts:389:32)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)

      55 |     });
      56 |   } catch (error) {
    > 57 |     console.error('Error fetching categories:', error);
         |             ^
      58 |     return NextResponse.json(
      59 |       {
      60 |         success: false,

      at error (src/app/api/categories/route.ts:57:13)
      at Object.GET (../../tests/admin/content-management-api.test.ts:389:32)

    console.error
      Error creating category: TypeError: Cannot read properties of undefined (reading 'select')
          at supabaseCategoryData (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/categories/route.ts:99:15)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/content-management-api.test.ts:434:26)

      128 |     });
      129 |   } catch (error) {
    > 130 |     console.error('Error creating category:', error);
          |             ^
      131 |     return NextResponse.json(
      132 |       {
      133 |         success: false,

      at error (src/app/api/categories/route.ts:130:13)
      at Object.<anonymous> (../../tests/admin/content-management-api.test.ts:434:26)

    console.log
      üîÑ API: Fetching topics...

      at log (src/app/api/topics/route.ts:10:13)

    console.error
      ‚ùå API: Error fetching topics: TypeError: Cannot read properties of undefined (reading 'eq')
          at Object.eq [as getTopics] (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/lib/supabase-server.ts:191:21)
          at getTopics (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/topics/route.ts:12:62)
          at Object.GET (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/content-management-api.test.ts:475:32)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)

      44 |     });
      45 |   } catch (error) {
    > 46 |     console.error('‚ùå API: Error fetching topics:', error);
         |             ^
      47 |     return NextResponse.json(
      48 |       {
      49 |         success: false,

      at error (src/app/api/topics/route.ts:46:13)
      at Object.<anonymous> (../../tests/admin/content-management-api.test.ts:475:26)

    console.log
      üîÑ API: Creating topic with data: {
        name: 'Test Topic',
        description: 'Test topic description',
        category_id: 'react',
        difficulty: 'beginner'
      }

      at log (src/app/api/topics/route.ts:61:13)

    console.log
      ‚úÖ API: All required fields present, creating topic...

      at log (src/app/api/topics/route.ts:78:13)

    console.error
      ‚ùå API: Error creating topic: TypeError: Cannot read properties of undefined (reading 'select')
          at Object.data [as createTopic] (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/lib/supabase-server.ts:222:15)
          at createTopic (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/topics/route.ts:90:32)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/content-management-api.test.ts:518:26)

      115 |     });
      116 |   } catch (error) {
    > 117 |     console.error('‚ùå API: Error creating topic:', error);
          |             ^
      118 |     return NextResponse.json(
      119 |       {
      120 |         success: false,

      at error (src/app/api/topics/route.ts:117:13)
      at Object.<anonymous> (../../tests/admin/content-management-api.test.ts:518:26)

    console.log
      üîç API Questions Route - Applied Filters: {
        topicId: 'none',
        categoryId: 'none',
        difficulty: 'none',
        questionType: 'none',
        limit: 10
      }

      at log (src/app/api/questions/route.ts:153:13)

    console.error
      Error fetching questions: TypeError: Cannot read properties of undefined (reading 'eq')
          at eq (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/questions/route.ts:170:29)
          at Object.GET (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/content-management-api.test.ts:561:32)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)

      295 |     });
      296 |   } catch (error) {
    > 297 |     console.error('Error fetching questions:', error);
          |             ^
      298 |     const errorMessage =
      299 |       error instanceof Error ? error.message : 'Failed to fetch questions';
      300 |     return NextResponse.json(

      at error (src/app/api/questions/route.ts:297:13)
      at Object.GET (../../tests/admin/content-management-api.test.ts:561:32)

    console.error
      Error creating question: TypeError: Cannot read properties of undefined (reading 'select')
          at Object.data [as createQuestion] (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/lib/supabase-server.ts:302:15)
          at createQuestion (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/questions/route.ts:334:32)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/content-management-api.test.ts:606:26)

      366 |     });
      367 |   } catch (error) {
    > 368 |     console.error('Error creating question:', error);
          |             ^
      369 |     return NextResponse.json(
      370 |       { success: false, error: 'Failed to create question' },
      371 |       { status: 500 }

      at error (src/app/api/questions/route.ts:368:13)
      at Object.<anonymous> (../../tests/admin/content-management-api.test.ts:606:26)

  ‚óè Content Management API Tests ‚Ä∫ Cards API ‚Ä∫ GET /api/cards ‚Ä∫ should return all learning cards

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      88 |         const data = await response.json();
      89 |
    > 90 |         expect(response.status).toBe(200);
         |                                 ^
      91 |         expect(data.success).toBe(true);
      92 |         expect(data.data).toHaveLength(2);
      93 |         expect(data.data[0]).toMatchObject({

      at Object.toBe (../../tests/admin/content-management-api.test.ts:90:33)

  ‚óè Content Management API Tests ‚Ä∫ Cards API ‚Ä∫ GET /api/cards ‚Ä∫ should handle Supabase errors gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: undefined

      119 |
      120 |         expect(response.status).toBe(500);
    > 121 |         expect(data.success).toBe(false);
          |                              ^
      122 |         expect(data.error).toBeDefined();
      123 |       });
      124 |     });

      at Object.toBe (../../tests/admin/content-management-api.test.ts:121:30)

  ‚óè Content Management API Tests ‚Ä∫ Cards API ‚Ä∫ POST /api/cards ‚Ä∫ should create a new learning card

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 500

      161 |         const data = await response.json();
      162 |
    > 163 |         expect(response.status).toBe(201);
          |                                 ^
      164 |         expect(data.success).toBe(true);
      165 |         expect(data.data.id).toBe('test-card-id');
      166 |         expect(data.data.name).toBe('Test Card');

      at Object.toBe (../../tests/admin/content-management-api.test.ts:163:33)

  ‚óè Content Management API Tests ‚Ä∫ Cards API ‚Ä∫ POST /api/cards ‚Ä∫ should validate required fields

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      184 |         const data = await response.json();
      185 |
    > 186 |         expect(response.status).toBe(400);
          |                                 ^
      187 |         expect(data.success).toBe(false);
      188 |         expect(data.error).toBeDefined();
      189 |       });

      at Object.toBe (../../tests/admin/content-management-api.test.ts:186:33)

  ‚óè Content Management API Tests ‚Ä∫ Cards API ‚Ä∫ PUT /api/cards/[id] ‚Ä∫ should update an existing learning card

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      233 |         const data = await response.json();
      234 |
    > 235 |         expect(response.status).toBe(200);
          |                                 ^
      236 |         expect(data.success).toBe(true);
      237 |       });
      238 |     });

      at Object.toBe (../../tests/admin/content-management-api.test.ts:235:33)

  ‚óè Content Management API Tests ‚Ä∫ Cards API ‚Ä∫ DELETE /api/cards/[id] ‚Ä∫ should delete a learning card

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      267 |         const data = await response.json();
      268 |
    > 269 |         expect(response.status).toBe(200);
          |                                 ^
      270 |         expect(data.success).toBe(true);
      271 |       });
      272 |     });

      at Object.toBe (../../tests/admin/content-management-api.test.ts:269:33)

  ‚óè Content Management API Tests ‚Ä∫ Plans API ‚Ä∫ GET /api/plans ‚Ä∫ should return all learning plans

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      307 |         const data = await response.json();
      308 |
    > 309 |         expect(response.status).toBe(200);
          |                                 ^
      310 |         expect(data.success).toBe(true);
      311 |         expect(data.data).toHaveLength(1);
      312 |         expect(data.data[0].name).toBe('1 Day Plan');

      at Object.toBe (../../tests/admin/content-management-api.test.ts:309:33)

  ‚óè Content Management API Tests ‚Ä∫ Plans API ‚Ä∫ POST /api/plans ‚Ä∫ should create a new learning plan

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 500

      350 |         const data = await response.json();
      351 |
    > 352 |         expect(response.status).toBe(201);
          |                                 ^
      353 |         expect(data.success).toBe(true);
      354 |         expect(data.data.id).toBe('test-plan-id');
      355 |       });

      at Object.toBe (../../tests/admin/content-management-api.test.ts:352:33)

  ‚óè Content Management API Tests ‚Ä∫ Categories API ‚Ä∫ GET /api/categories ‚Ä∫ should return all categories

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      390 |         const data = await response.json();
      391 |
    > 392 |         expect(response.status).toBe(200);
          |                                 ^
      393 |         expect(data.success).toBe(true);
      394 |         expect(data.data).toHaveLength(1);
      395 |         expect(data.data[0].name).toBe('React');

      at Object.toBe (../../tests/admin/content-management-api.test.ts:392:33)

  ‚óè Content Management API Tests ‚Ä∫ Categories API ‚Ä∫ POST /api/categories ‚Ä∫ should create a new category

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 500

      435 |         const data = await response.json();
      436 |
    > 437 |         expect(response.status).toBe(201);
          |                                 ^
      438 |         expect(data.success).toBe(true);
      439 |         expect(data.data.id).toBe('test-category-id');
      440 |       });

      at Object.toBe (../../tests/admin/content-management-api.test.ts:437:33)

  ‚óè Content Management API Tests ‚Ä∫ Topics API ‚Ä∫ GET /api/topics ‚Ä∫ should return all topics

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      476 |         const data = await response.json();
      477 |
    > 478 |         expect(response.status).toBe(200);
          |                                 ^
      479 |         expect(data.success).toBe(true);
      480 |         expect(data.data).toHaveLength(1);
      481 |         expect(data.data[0].name).toBe('React Hooks');

      at Object.toBe (../../tests/admin/content-management-api.test.ts:478:33)

  ‚óè Content Management API Tests ‚Ä∫ Topics API ‚Ä∫ POST /api/topics ‚Ä∫ should create a new topic

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 500

      519 |         const data = await response.json();
      520 |
    > 521 |         expect(response.status).toBe(201);
          |                                 ^
      522 |         expect(data.success).toBe(true);
      523 |         expect(data.data.id).toBe('test-topic-id');
      524 |       });

      at Object.toBe (../../tests/admin/content-management-api.test.ts:521:33)

  ‚óè Content Management API Tests ‚Ä∫ Questions API ‚Ä∫ GET /api/questions ‚Ä∫ should return all questions with pagination

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      562 |         const data = await response.json();
      563 |
    > 564 |         expect(response.status).toBe(200);
          |                                 ^
      565 |         expect(data.success).toBe(true);
      566 |         expect(data.data).toHaveLength(1);
      567 |         expect(data.data[0].question).toBe('What is React?');

      at Object.toBe (../../tests/admin/content-management-api.test.ts:564:33)

  ‚óè Content Management API Tests ‚Ä∫ Questions API ‚Ä∫ POST /api/questions ‚Ä∫ should create a new question

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 500

      607 |         const data = await response.json();
      608 |
    > 609 |         expect(response.status).toBe(201);
          |                                 ^
      610 |         expect(data.success).toBe(true);
      611 |         expect(data.data.id).toBe('test-question-id');
      612 |       });

      at Object.toBe (../../tests/admin/content-management-api.test.ts:609:33)

PASS tests/simple.test.js
FAIL apps/website/src/__tests__/navbar-simple.test.tsx (6.753 s)
  ‚óè Console

    console.warn
      Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      18 |   const supabaseUrl = process.env['NEXT_PUBLIC_SUPABASE_URL'];
      19 |   const supabaseServiceRoleKey = process.env['SUPABASE_SERVICE_ROLE_KEY'];
    > 20 |   supabase = createClient(supabaseUrl, supabaseServiceRoleKey);
         |              ^
      21 | }
      22 |
      23 | type Language = 'en' | 'ar';

      at new GoTrueClient (../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:272:15)
      at new SupabaseAuthClient (../../node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (../../node_modules/@supabase/supabase-js/src/SupabaseClient.ts:351:12)
      at new SupabaseClient (../../node_modules/@supabase/supabase-js/src/SupabaseClient.ts:134:24)
      at createClient (../../node_modules/@supabase/supabase-js/src/index.ts:46:10)
      at Object.createClient (../../libs/shared-contexts/src/lib/LanguageContext.tsx:20:14)
      at Object.<anonymous> (../../libs/shared-contexts/src/lib/shared-contexts.ts:9:14)
      at Object.<anonymous> (../../libs/shared-contexts/src/index.ts:5:14)
      at Object.<anonymous> (src/components/AlzatonaLogo.tsx:23:25)
      at Object.<anonymous> (src/components/NavbarSimple.tsx:25:62)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:106:62)

    console.warn
      Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      12 |   const supabaseUrl = process.env['NEXT_PUBLIC_SUPABASE_URL'];
      13 |   const supabaseServiceRoleKey = process.env['SUPABASE_SERVICE_ROLE_KEY'];
    > 14 |   supabase = createClient(supabaseUrl, supabaseServiceRoleKey);
         |              ^
      15 | }
      16 |
      17 | interface MobileMenuContextType {

      at new GoTrueClient (../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:272:15)
      at new SupabaseAuthClient (../../node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (../../node_modules/@supabase/supabase-js/src/SupabaseClient.ts:351:12)
      at new SupabaseClient (../../node_modules/@supabase/supabase-js/src/SupabaseClient.ts:134:24)
      at createClient (../../node_modules/@supabase/supabase-js/src/index.ts:46:10)
      at Object.createClient (../../libs/shared-contexts/src/lib/MobileMenuContext.tsx:14:14)
      at Object.<anonymous> (../../libs/shared-contexts/src/lib/shared-contexts.ts:10:14)
      at Object.<anonymous> (../../libs/shared-contexts/src/index.ts:5:14)
      at Object.<anonymous> (src/components/AlzatonaLogo.tsx:23:25)
      at Object.<anonymous> (src/components/NavbarSimple.tsx:25:62)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:106:62)

    console.warn
      Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      10 |   const supabaseUrl = process.env['NEXT_PUBLIC_SUPABASE_URL'];
      11 |   const supabaseServiceRoleKey = process.env['SUPABASE_SERVICE_ROLE_KEY'];
    > 12 |   supabase = createClient(supabaseUrl, supabaseServiceRoleKey);
         |              ^
      13 | }
      14 | import React, {
      15 |   useState,

      at new GoTrueClient (../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:272:15)
      at new SupabaseAuthClient (../../node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (../../node_modules/@supabase/supabase-js/src/SupabaseClient.ts:351:12)
      at new SupabaseClient (../../node_modules/@supabase/supabase-js/src/SupabaseClient.ts:134:24)
      at createClient (../../node_modules/@supabase/supabase-js/src/index.ts:46:10)
      at Object.createClient (../../libs/shared-contexts/src/lib/NotificationContext.tsx:12:14)
      at Object.<anonymous> (../../libs/shared-contexts/src/lib/shared-contexts.ts:11:14)
      at Object.<anonymous> (../../libs/shared-contexts/src/index.ts:5:14)
      at Object.<anonymous> (src/components/AlzatonaLogo.tsx:23:25)
      at Object.<anonymous> (src/components/NavbarSimple.tsx:25:62)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:106:62)

    console.warn
      Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      10 |   const supabaseUrl = process.env['NEXT_PUBLIC_SUPABASE_URL'];
      11 |   const supabaseServiceRoleKey = process.env['SUPABASE_SERVICE_ROLE_KEY'];
    > 12 |   supabase = createClient(supabaseUrl, supabaseServiceRoleKey);
         |              ^
      13 | }
      14 | import React, {
      15 |   useState,

      at new GoTrueClient (../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:272:15)
      at new SupabaseAuthClient (../../node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (../../node_modules/@supabase/supabase-js/src/SupabaseClient.ts:351:12)
      at new SupabaseClient (../../node_modules/@supabase/supabase-js/src/SupabaseClient.ts:134:24)
      at createClient (../../node_modules/@supabase/supabase-js/src/index.ts:46:10)
      at Object.createClient (../../libs/shared-contexts/src/lib/OnboardingContext.tsx:12:14)
      at Object.<anonymous> (../../libs/shared-contexts/src/lib/shared-contexts.ts:12:14)
      at Object.<anonymous> (../../libs/shared-contexts/src/index.ts:5:14)
      at Object.<anonymous> (src/components/AlzatonaLogo.tsx:23:25)
      at Object.<anonymous> (src/components/NavbarSimple.tsx:25:62)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:106:62)

    console.warn
      Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      18 |   const supabaseUrl = process.env['NEXT_PUBLIC_SUPABASE_URL'];
      19 |   const supabaseServiceRoleKey = process.env['SUPABASE_SERVICE_ROLE_KEY'];
    > 20 |   supabase = createClient(supabaseUrl, supabaseServiceRoleKey);
         |              ^
      21 | }
      22 |
      23 | interface ThemeContextType {

      at new GoTrueClient (../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:272:15)
      at new SupabaseAuthClient (../../node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (../../node_modules/@supabase/supabase-js/src/SupabaseClient.ts:351:12)
      at new SupabaseClient (../../node_modules/@supabase/supabase-js/src/SupabaseClient.ts:134:24)
      at createClient (../../node_modules/@supabase/supabase-js/src/index.ts:46:10)
      at Object.createClient (../../libs/shared-contexts/src/lib/ThemeContext.tsx:20:14)
      at Object.<anonymous> (../../libs/shared-contexts/src/lib/shared-contexts.ts:13:14)
      at Object.<anonymous> (../../libs/shared-contexts/src/index.ts:5:14)
      at Object.<anonymous> (src/components/AlzatonaLogo.tsx:23:25)
      at Object.<anonymous> (src/components/NavbarSimple.tsx:25:62)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:106:62)

    console.warn
      Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      10 |   const supabaseUrl = process.env['NEXT_PUBLIC_SUPABASE_URL'];
      11 |   const supabaseServiceRoleKey = process.env['SUPABASE_SERVICE_ROLE_KEY'];
    > 12 |   supabase = createClient(supabaseUrl, supabaseServiceRoleKey);
         |              ^
      13 | }
      14 | import {
      15 |   createContext,

      at new GoTrueClient (../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:272:15)
      at new SupabaseAuthClient (../../node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (../../node_modules/@supabase/supabase-js/src/SupabaseClient.ts:351:12)
      at new SupabaseClient (../../node_modules/@supabase/supabase-js/src/SupabaseClient.ts:134:24)
      at createClient (../../node_modules/@supabase/supabase-js/src/index.ts:46:10)
      at Object.createClient (../../libs/shared-contexts/src/lib/UserPreferencesContext.tsx:12:14)
      at Object.<anonymous> (../../libs/shared-contexts/src/lib/shared-contexts.ts:14:14)
      at Object.<anonymous> (../../libs/shared-contexts/src/index.ts:5:14)
      at Object.<anonymous> (src/components/AlzatonaLogo.tsx:23:25)
      at Object.<anonymous> (src/components/NavbarSimple.tsx:25:62)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:106:62)

    console.warn
      Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      10 |   const supabaseUrl = process.env['NEXT_PUBLIC_SUPABASE_URL'];
      11 |   const supabaseServiceRoleKey = process.env['SUPABASE_SERVICE_ROLE_KEY'];
    > 12 |   supabase = createClient(supabaseUrl, supabaseServiceRoleKey);
         |              ^
      13 | }
      14 | import React, {
      15 |   useState,

      at new GoTrueClient (../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:272:15)
      at new SupabaseAuthClient (../../node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (../../node_modules/@supabase/supabase-js/src/SupabaseClient.ts:351:12)
      at new SupabaseClient (../../node_modules/@supabase/supabase-js/src/SupabaseClient.ts:134:24)
      at createClient (../../node_modules/@supabase/supabase-js/src/index.ts:46:10)
      at Object.createClient (../../libs/shared-contexts/src/lib/UserTypeContextSafe.tsx:12:14)
      at Object.<anonymous> (../../libs/shared-contexts/src/lib/shared-contexts.ts:15:14)
      at Object.<anonymous> (../../libs/shared-contexts/src/index.ts:5:14)
      at Object.<anonymous> (src/components/AlzatonaLogo.tsx:23:25)
      at Object.<anonymous> (src/components/NavbarSimple.tsx:25:62)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:106:62)

    console.error
      Error: Uncaught [Error: useUserType must be used within a UserTypeProvider]
          at Object.<anonymous> (apps/website/src/__tests__/navbar-simple.test.tsx:46:11)
          at new Promise (<anonymous>) {
        detail: Error: useUserType must be used within a UserTypeProvider
            at useUserType (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/UserTypeContextSafe.tsx:132:11)
            at NavbarSimple (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/components/NavbarSimple.tsx:48:48)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/__tests__/navbar-simple.test.tsx:46:11)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      44 |
      45 |   it('renders Sign In by default', () => {
    > 46 |     render(<NavbarSimple />);
         |           ^
      47 |     expect(screen.getByText('Sign In')).toBeInTheDocument();
      48 |   });
      49 |

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:46:11)

    console.error
      Error: Uncaught [Error: useUserType must be used within a UserTypeProvider]
          at Object.<anonymous> (apps/website/src/__tests__/navbar-simple.test.tsx:46:11)
          at new Promise (<anonymous>) {
        detail: Error: useUserType must be used within a UserTypeProvider
            at useUserType (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/UserTypeContextSafe.tsx:132:11)
            at NavbarSimple (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/components/NavbarSimple.tsx:48:48)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/__tests__/navbar-simple.test.tsx:46:11)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      44 |
      45 |   it('renders Sign In by default', () => {
    > 46 |     render(<NavbarSimple />);
         |           ^
      47 |     expect(screen.getByText('Sign In')).toBeInTheDocument();
      48 |   });
      49 |

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:46:11)

    console.error
      The above error occurred in the <NavbarSimple> component:
      
          at NavbarSimple (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/components/NavbarSimple.tsx:31:47)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      44 |
      45 |   it('renders Sign In by default', () => {
    > 46 |     render(<NavbarSimple />);
         |           ^
      47 |     expect(screen.getByText('Sign In')).toBeInTheDocument();
      48 |   });
      49 |

      at logCapturedError (../../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:46:11)

    console.error
      Error: Uncaught [Error: useUserType must be used within a UserTypeProvider]
          at Object.<anonymous> (apps/website/src/__tests__/navbar-simple.test.tsx:55:11)
          at new Promise (<anonymous>) {
        detail: Error: useUserType must be used within a UserTypeProvider
            at useUserType (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/UserTypeContextSafe.tsx:132:11)
            at NavbarSimple (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/components/NavbarSimple.tsx:48:48)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/__tests__/navbar-simple.test.tsx:55:11)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      53 |       JSON.stringify({ isAuthenticated: true, isLoading: false })
      54 |     );
    > 55 |     render(<NavbarSimple />);
         |           ^
      56 |     expect(screen.getByText('Dashboard')).toBeInTheDocument();
      57 |     expect(screen.queryByText('Sign In')).not.toBeInTheDocument();
      58 |   });

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:55:11)

    console.error
      Error: Uncaught [Error: useUserType must be used within a UserTypeProvider]
          at Object.<anonymous> (apps/website/src/__tests__/navbar-simple.test.tsx:55:11)
          at new Promise (<anonymous>) {
        detail: Error: useUserType must be used within a UserTypeProvider
            at useUserType (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/UserTypeContextSafe.tsx:132:11)
            at NavbarSimple (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/components/NavbarSimple.tsx:48:48)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/__tests__/navbar-simple.test.tsx:55:11)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      53 |       JSON.stringify({ isAuthenticated: true, isLoading: false })
      54 |     );
    > 55 |     render(<NavbarSimple />);
         |           ^
      56 |     expect(screen.getByText('Dashboard')).toBeInTheDocument();
      57 |     expect(screen.queryByText('Sign In')).not.toBeInTheDocument();
      58 |   });

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:55:11)

    console.error
      The above error occurred in the <NavbarSimple> component:
      
          at NavbarSimple (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/components/NavbarSimple.tsx:31:47)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      53 |       JSON.stringify({ isAuthenticated: true, isLoading: false })
      54 |     );
    > 55 |     render(<NavbarSimple />);
         |           ^
      56 |     expect(screen.getByText('Dashboard')).toBeInTheDocument();
      57 |     expect(screen.queryByText('Sign In')).not.toBeInTheDocument();
      58 |   });

      at logCapturedError (../../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:55:11)

    console.error
      Error: Uncaught [Error: useUserType must be used within a UserTypeProvider]
          at Object.<anonymous> (apps/website/src/__tests__/navbar-simple.test.tsx:119:11)
          at new Promise (<anonymous>) {
        detail: Error: useUserType must be used within a UserTypeProvider
            at useUserType (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/UserTypeContextSafe.tsx:132:11)
            at NavbarSimple (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/components/NavbarSimple.tsx:48:48)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/__tests__/navbar-simple.test.tsx:119:11)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      117 |
      118 |   it('renders Sign In by default (unauthenticated)', () => {
    > 119 |     render(<NavbarSimple />);
          |           ^
      120 |     expect(screen.getByText('Sign In')).toBeInTheDocument();
      121 |   });
      122 |

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:119:11)

    console.error
      Error: Uncaught [Error: useUserType must be used within a UserTypeProvider]
          at Object.<anonymous> (apps/website/src/__tests__/navbar-simple.test.tsx:119:11)
          at new Promise (<anonymous>) {
        detail: Error: useUserType must be used within a UserTypeProvider
            at useUserType (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/UserTypeContextSafe.tsx:132:11)
            at NavbarSimple (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/components/NavbarSimple.tsx:48:48)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/__tests__/navbar-simple.test.tsx:119:11)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      117 |
      118 |   it('renders Sign In by default (unauthenticated)', () => {
    > 119 |     render(<NavbarSimple />);
          |           ^
      120 |     expect(screen.getByText('Sign In')).toBeInTheDocument();
      121 |   });
      122 |

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:119:11)

    console.error
      The above error occurred in the <NavbarSimple> component:
      
          at NavbarSimple (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/components/NavbarSimple.tsx:31:47)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      117 |
      118 |   it('renders Sign In by default (unauthenticated)', () => {
    > 119 |     render(<NavbarSimple />);
          |           ^
      120 |     expect(screen.getByText('Sign In')).toBeInTheDocument();
      121 |   });
      122 |

      at logCapturedError (../../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:119:11)

    console.error
      Error: Uncaught [Error: useUserType must be used within a UserTypeProvider]
          at Object.<anonymous> (apps/website/src/__tests__/navbar-simple.test.tsx:128:11)
          at new Promise (<anonymous>) {
        detail: Error: useUserType must be used within a UserTypeProvider
            at useUserType (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/UserTypeContextSafe.tsx:132:11)
            at NavbarSimple (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/components/NavbarSimple.tsx:48:48)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/__tests__/navbar-simple.test.tsx:128:11)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      126 |       JSON.stringify({ isAuthenticated: true, isLoading: false })
      127 |     );
    > 128 |     render(<NavbarSimple />);
          |           ^
      129 |     expect(screen.getByText('Dashboard')).toBeInTheDocument();
      130 |   });
      131 | });

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:128:11)

    console.error
      Error: Uncaught [Error: useUserType must be used within a UserTypeProvider]
          at Object.<anonymous> (apps/website/src/__tests__/navbar-simple.test.tsx:128:11)
          at new Promise (<anonymous>) {
        detail: Error: useUserType must be used within a UserTypeProvider
            at useUserType (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/UserTypeContextSafe.tsx:132:11)
            at NavbarSimple (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/components/NavbarSimple.tsx:48:48)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/__tests__/navbar-simple.test.tsx:128:11)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      126 |       JSON.stringify({ isAuthenticated: true, isLoading: false })
      127 |     );
    > 128 |     render(<NavbarSimple />);
          |           ^
      129 |     expect(screen.getByText('Dashboard')).toBeInTheDocument();
      130 |   });
      131 | });

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:128:11)

    console.error
      The above error occurred in the <NavbarSimple> component:
      
          at NavbarSimple (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/components/NavbarSimple.tsx:31:47)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      126 |       JSON.stringify({ isAuthenticated: true, isLoading: false })
      127 |     );
    > 128 |     render(<NavbarSimple />);
          |           ^
      129 |     expect(screen.getByText('Dashboard')).toBeInTheDocument();
      130 |   });
      131 | });

      at logCapturedError (../../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:128:11)

  ‚óè NavbarSimple ‚Ä∫ renders Sign In by default

    useUserType must be used within a UserTypeProvider

      130 |   const context = useContext(UserTypeContext);
      131 |   if (context === undefined) {
    > 132 |     throw new Error('useUserType must be used within a UserTypeProvider');
          |           ^
      133 |   }
      134 |   return context;
      135 | };

      at useUserType (../../libs/shared-contexts/src/lib/UserTypeContextSafe.tsx:132:11)
      at NavbarSimple (src/components/NavbarSimple.tsx:48:48)
      at renderWithHooks (../../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:46:11)

  ‚óè NavbarSimple ‚Ä∫ renders Dashboard when authenticated (via sessionStorage stable state)

    useUserType must be used within a UserTypeProvider

      130 |   const context = useContext(UserTypeContext);
      131 |   if (context === undefined) {
    > 132 |     throw new Error('useUserType must be used within a UserTypeProvider');
          |           ^
      133 |   }
      134 |   return context;
      135 | };

      at useUserType (../../libs/shared-contexts/src/lib/UserTypeContextSafe.tsx:132:11)
      at NavbarSimple (src/components/NavbarSimple.tsx:48:48)
      at renderWithHooks (../../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:55:11)

  ‚óè NavbarSimple ‚Ä∫ renders Sign In by default (unauthenticated)

    useUserType must be used within a UserTypeProvider

      130 |   const context = useContext(UserTypeContext);
      131 |   if (context === undefined) {
    > 132 |     throw new Error('useUserType must be used within a UserTypeProvider');
          |           ^
      133 |   }
      134 |   return context;
      135 | };

      at useUserType (../../libs/shared-contexts/src/lib/UserTypeContextSafe.tsx:132:11)
      at NavbarSimple (src/components/NavbarSimple.tsx:48:48)
      at renderWithHooks (../../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:119:11)

  ‚óè NavbarSimple ‚Ä∫ renders Dashboard when persisted auth is set in sessionStorage (no flicker path)

    useUserType must be used within a UserTypeProvider

      130 |   const context = useContext(UserTypeContext);
      131 |   if (context === undefined) {
    > 132 |     throw new Error('useUserType must be used within a UserTypeProvider');
          |           ^
      133 |   }
      134 |   return context;
      135 | };

      at useUserType (../../libs/shared-contexts/src/lib/UserTypeContextSafe.tsx:132:11)
      at NavbarSimple (src/components/NavbarSimple.tsx:48:48)
      at renderWithHooks (../../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/__tests__/navbar-simple.test.tsx:128:11)

FAIL tests/admin/admin-ui-components.test.tsx (7.023 s)
  ‚óè Console

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.error
      Error: Uncaught [Error: useAdminAuth must be used within an AdminAuthProvider]
          at Object.<anonymous> (tests/admin/admin-ui-components.test.tsx:596:13) {
        detail: Error: useAdminAuth must be used within an AdminAuthProvider
            at useAdminAuth (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:325:11)
            at AdminDashboard (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/admin/dashboard/page.tsx:98:32)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-ui-components.test.tsx:596:13)
            at processTicksAndRejections (node:internal/process/task_queues:105:5),
        type: 'unhandled exception'
      }

      594 |       const DashboardPage = (await import('@/app/admin/dashboard/page'))
      595 |         .default;
    > 596 |       render(<DashboardPage />);
          |             ^
      597 |
      598 |       await waitFor(() => {
      599 |         expect(screen.getByText('100')).toBeInTheDocument();

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:596:13)

    console.error
      Error: Uncaught [Error: useAdminAuth must be used within an AdminAuthProvider]
          at Object.<anonymous> (tests/admin/admin-ui-components.test.tsx:596:13) {
        detail: Error: useAdminAuth must be used within an AdminAuthProvider
            at useAdminAuth (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:325:11)
            at AdminDashboard (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/admin/dashboard/page.tsx:98:32)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-ui-components.test.tsx:596:13)
            at processTicksAndRejections (node:internal/process/task_queues:105:5),
        type: 'unhandled exception'
      }

      594 |       const DashboardPage = (await import('@/app/admin/dashboard/page'))
      595 |         .default;
    > 596 |       render(<DashboardPage />);
          |             ^
      597 |
      598 |       await waitFor(() => {
      599 |         expect(screen.getByText('100')).toBeInTheDocument();

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:596:13)

    console.error
      The above error occurred in the <AdminDashboard> component:
      
          at AdminDashboard (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/admin/dashboard/page.tsx:98:32)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      594 |       const DashboardPage = (await import('@/app/admin/dashboard/page'))
      595 |         .default;
    > 596 |       render(<DashboardPage />);
          |             ^
      597 |
      598 |       await waitFor(() => {
      599 |         expect(screen.getByText('100')).toBeInTheDocument();

      at logCapturedError (../../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:596:13)

    console.error
      Error: Uncaught [Error: useAdminAuth must be used within an AdminAuthProvider]
          at Object.<anonymous> (tests/admin/admin-ui-components.test.tsx:624:13) {
        detail: Error: useAdminAuth must be used within an AdminAuthProvider
            at useAdminAuth (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:325:11)
            at AdminDashboard (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/admin/dashboard/page.tsx:98:32)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-ui-components.test.tsx:624:13)
            at processTicksAndRejections (node:internal/process/task_queues:105:5),
        type: 'unhandled exception'
      }

      622 |       const DashboardPage = (await import('@/app/admin/dashboard/page'))
      623 |         .default;
    > 624 |       render(<DashboardPage />);
          |             ^
      625 |
      626 |       const refreshButton = screen.getByText(/refresh/i);
      627 |       await userEvent.click(refreshButton);

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:624:13)

    console.error
      Error: Uncaught [Error: useAdminAuth must be used within an AdminAuthProvider]
          at Object.<anonymous> (tests/admin/admin-ui-components.test.tsx:624:13) {
        detail: Error: useAdminAuth must be used within an AdminAuthProvider
            at useAdminAuth (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:325:11)
            at AdminDashboard (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/admin/dashboard/page.tsx:98:32)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-ui-components.test.tsx:624:13)
            at processTicksAndRejections (node:internal/process/task_queues:105:5),
        type: 'unhandled exception'
      }

      622 |       const DashboardPage = (await import('@/app/admin/dashboard/page'))
      623 |         .default;
    > 624 |       render(<DashboardPage />);
          |             ^
      625 |
      626 |       const refreshButton = screen.getByText(/refresh/i);
      627 |       await userEvent.click(refreshButton);

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:624:13)

    console.error
      The above error occurred in the <AdminDashboard> component:
      
          at AdminDashboard (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/admin/dashboard/page.tsx:98:32)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      622 |       const DashboardPage = (await import('@/app/admin/dashboard/page'))
      623 |         .default;
    > 624 |       render(<DashboardPage />);
          |             ^
      625 |
      626 |       const refreshButton = screen.getByText(/refresh/i);
      627 |       await userEvent.click(refreshButton);

      at logCapturedError (../../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:624:13)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

  ‚óè Admin UI Component Tests ‚Ä∫ Content Management Page ‚Ä∫ should render content management page with loading state

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/content-management/page.tsx:17:27)
      at ../../tests/admin/admin-ui-components.test.tsx:113:15
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:113:9)

  ‚óè Admin UI Component Tests ‚Ä∫ Content Management Page ‚Ä∫ should render content management page with data

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/content-management/page.tsx:17:27)
      at ../../tests/admin/admin-ui-components.test.tsx:180:15
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:180:9)

  ‚óè Admin UI Component Tests ‚Ä∫ Content Management Page ‚Ä∫ should handle search functionality

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/content-management/page.tsx:17:27)
      at ../../tests/admin/admin-ui-components.test.tsx:208:15
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:208:9)

  ‚óè Admin UI Component Tests ‚Ä∫ Content Management Page ‚Ä∫ should handle filter by card type

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/content-management/page.tsx:17:27)
      at ../../tests/admin/admin-ui-components.test.tsx:240:15
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:240:9)

  ‚óè Admin UI Component Tests ‚Ä∫ Questions Page ‚Ä∫ should render questions page with data

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/content/questions/page.tsx:15:27)
      at ../../tests/admin/admin-ui-components.test.tsx:287:36
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:287:30)

  ‚óè Admin UI Component Tests ‚Ä∫ Questions Page ‚Ä∫ should handle question creation

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/content/questions/page.tsx:15:27)
      at ../../tests/admin/admin-ui-components.test.tsx:315:36
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:315:30)

  ‚óè Admin UI Component Tests ‚Ä∫ Questions Page ‚Ä∫ should handle question editing

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/content/questions/page.tsx:15:27)
      at ../../tests/admin/admin-ui-components.test.tsx:365:36
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:365:30)

  ‚óè Admin UI Component Tests ‚Ä∫ Questions Page ‚Ä∫ should handle question deletion

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/content/questions/page.tsx:15:27)
      at ../../tests/admin/admin-ui-components.test.tsx:416:36
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:416:30)

  ‚óè Admin UI Component Tests ‚Ä∫ Frontend Tasks Page ‚Ä∫ should render frontend tasks page with data

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/frontend-tasks/page.tsx:17:27)
      at ../../tests/admin/admin-ui-components.test.tsx:453:15
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:453:9)

  ‚óè Admin UI Component Tests ‚Ä∫ Frontend Tasks Page ‚Ä∫ should handle task creation

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/frontend-tasks/page.tsx:17:27)
      at ../../tests/admin/admin-ui-components.test.tsx:482:15
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:482:9)

  ‚óè Admin UI Component Tests ‚Ä∫ Problem Solving Page ‚Ä∫ should render problem solving page with data

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/problem-solving/page.tsx:17:27)
      at ../../tests/admin/admin-ui-components.test.tsx:525:15
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:525:9)

  ‚óè Admin UI Component Tests ‚Ä∫ Problem Solving Page ‚Ä∫ should handle problem creation

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/problem-solving/page.tsx:17:27)
      at ../../tests/admin/admin-ui-components.test.tsx:554:15
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:554:9)

  ‚óè Admin UI Component Tests ‚Ä∫ Dashboard Page ‚Ä∫ should render dashboard with stats

    useAdminAuth must be used within an AdminAuthProvider

      323 |   const context = useContext(AdminAuthContext);
      324 |   if (context === undefined) {
    > 325 |     throw new Error('useAdminAuth must be used within an AdminAuthProvider');
          |           ^
      326 |   }
      327 |   return context;
      328 | }

      at useAdminAuth (../../libs/shared-contexts/src/lib/AdminAuthContext.tsx:325:11)
      at AdminDashboard (src/app/admin/dashboard/page.tsx:98:32)
      at renderWithHooks (../../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:596:13)

  ‚óè Admin UI Component Tests ‚Ä∫ Dashboard Page ‚Ä∫ should handle refresh functionality

    useAdminAuth must be used within an AdminAuthProvider

      323 |   const context = useContext(AdminAuthContext);
      324 |   if (context === undefined) {
    > 325 |     throw new Error('useAdminAuth must be used within an AdminAuthProvider');
          |           ^
      326 |   }
      327 |   return context;
      328 | }

      at useAdminAuth (../../libs/shared-contexts/src/lib/AdminAuthContext.tsx:325:11)
      at AdminDashboard (src/app/admin/dashboard/page.tsx:98:32)
      at renderWithHooks (../../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:624:13)

  ‚óè Admin UI Component Tests ‚Ä∫ Error Handling ‚Ä∫ should display error messages when API calls fail

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/content-management/page.tsx:17:27)
      at ../../tests/admin/admin-ui-components.test.tsx:642:15
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:642:9)

  ‚óè Admin UI Component Tests ‚Ä∫ Error Handling ‚Ä∫ should handle mutation errors

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/content/questions/page.tsx:15:27)
      at ../../tests/admin/admin-ui-components.test.tsx:668:36
      at Object.<anonymous> (../../tests/admin/admin-ui-components.test.tsx:668:30)

PASS apps/website/src/__tests__/cart-utils.test.ts
FAIL tests/admin/admin-login-ui.test.tsx
  ‚óè Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/login/page.tsx:17:27)
      at Object.<anonymous> (../../tests/admin/admin-login-ui.test.tsx:129:54)

PASS tests/admin/admin-login-api.test.ts
  ‚óè Console

    console.error
      Admin authentication error: Error: Database connection failed
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-api.test.ts:341:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
      at Object.<anonymous> (../../tests/admin/admin-login-api.test.ts:367:24)

FAIL tests/admin/admin-dashboard-redirection.test.tsx
  ‚óè Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/login/page.tsx:17:27)
      at Object.<anonymous> (../../tests/admin/admin-dashboard-redirection.test.tsx:121:54)

FAIL tests/admin/admin-login-integration.test.tsx (8.343 s)
  ‚óè Console

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://hpnewqkvpnthpohvxcmq.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:139:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:139:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      137 |   describe('Authentication Flow', () => {
      138 |     it('should complete successful login flow', async () => {
    > 139 |       render(
          |             ^
      140 |         <QueryClientProvider client={queryClient}>
      141 |           <AdminAuthProvider>
      142 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:139:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:139:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:139:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      137 |   describe('Authentication Flow', () => {
      138 |     it('should complete successful login flow', async () => {
    > 139 |       render(
          |             ^
      140 |         <QueryClientProvider client={queryClient}>
      141 |           <AdminAuthProvider>
      142 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:139:13)

    console.error
      The above error occurred in the <AdminAuthProvider> component:
      
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:53:37)
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:46:29)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      137 |   describe('Authentication Flow', () => {
      138 |     it('should complete successful login flow', async () => {
    > 139 |       render(
          |             ^
      140 |         <QueryClientProvider client={queryClient}>
      141 |           <AdminAuthProvider>
      142 |             <ThemeProvider>

      at logCapturedError (../../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:139:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:188:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:188:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      186 |       });
      187 |
    > 188 |       render(
          |             ^
      189 |         <QueryClientProvider client={queryClient}>
      190 |           <AdminAuthProvider>
      191 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:188:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:188:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:188:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      186 |       });
      187 |
    > 188 |       render(
          |             ^
      189 |         <QueryClientProvider client={queryClient}>
      190 |           <AdminAuthProvider>
      191 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:188:13)

    console.error
      The above error occurred in the <AdminAuthProvider> component:
      
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:53:37)
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:46:29)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      186 |       });
      187 |
    > 188 |       render(
          |             ^
      189 |         <QueryClientProvider client={queryClient}>
      190 |           <AdminAuthProvider>
      191 |             <ThemeProvider>

      at logCapturedError (../../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:188:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:221:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:221:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      219 |       (global.fetch as jest.Mock).mockRejectedValue(new Error('Network error'));
      220 |
    > 221 |       render(
          |             ^
      222 |         <QueryClientProvider client={queryClient}>
      223 |           <AdminAuthProvider>
      224 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:221:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:221:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:221:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      219 |       (global.fetch as jest.Mock).mockRejectedValue(new Error('Network error'));
      220 |
    > 221 |       render(
          |             ^
      222 |         <QueryClientProvider client={queryClient}>
      223 |           <AdminAuthProvider>
      224 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:221:13)

    console.error
      The above error occurred in the <AdminAuthProvider> component:
      
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:53:37)
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:46:29)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      219 |       (global.fetch as jest.Mock).mockRejectedValue(new Error('Network error'));
      220 |
    > 221 |       render(
          |             ^
      222 |         <QueryClientProvider client={queryClient}>
      223 |           <AdminAuthProvider>
      224 |             <ThemeProvider>

      at logCapturedError (../../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:221:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:279:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:279:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      277 |       }));
      278 |
    > 279 |       render(
          |             ^
      280 |         <QueryClientProvider client={queryClient}>
      281 |           <AdminAuthProvider>
      282 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:279:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:279:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:279:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      277 |       }));
      278 |
    > 279 |       render(
          |             ^
      280 |         <QueryClientProvider client={queryClient}>
      281 |           <AdminAuthProvider>
      282 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:279:13)

    console.error
      The above error occurred in the <AdminAuthProvider> component:
      
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:53:37)
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:46:29)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      277 |       }));
      278 |
    > 279 |       render(
          |             ^
      280 |         <QueryClientProvider client={queryClient}>
      281 |           <AdminAuthProvider>
      282 |             <ThemeProvider>

      at logCapturedError (../../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:279:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:303:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:303:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      301 |       });
      302 |
    > 303 |       render(
          |             ^
      304 |         <QueryClientProvider client={queryClient}>
      305 |           <AdminAuthProvider>
      306 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:303:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:303:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:303:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      301 |       });
      302 |
    > 303 |       render(
          |             ^
      304 |         <QueryClientProvider client={queryClient}>
      305 |           <AdminAuthProvider>
      306 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:303:13)

    console.error
      The above error occurred in the <AdminAuthProvider> component:
      
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:53:37)
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:46:29)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      301 |       });
      302 |
    > 303 |       render(
          |             ^
      304 |         <QueryClientProvider client={queryClient}>
      305 |           <AdminAuthProvider>
      306 |             <ThemeProvider>

      at logCapturedError (../../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:303:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:352:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:352:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      350 |       });
      351 |
    > 352 |       render(
          |             ^
      353 |         <QueryClientProvider client={queryClient}>
      354 |           <AdminAuthProvider>
      355 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:352:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:352:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:352:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      350 |       });
      351 |
    > 352 |       render(
          |             ^
      353 |         <QueryClientProvider client={queryClient}>
      354 |           <AdminAuthProvider>
      355 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:352:13)

    console.error
      The above error occurred in the <AdminAuthProvider> component:
      
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:53:37)
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:46:29)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      350 |       });
      351 |
    > 352 |       render(
          |             ^
      353 |         <QueryClientProvider client={queryClient}>
      354 |           <AdminAuthProvider>
      355 |             <ThemeProvider>

      at logCapturedError (../../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:352:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:399:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:399:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      397 |       });
      398 |
    > 399 |       render(
          |             ^
      400 |         <QueryClientProvider client={queryClient}>
      401 |           <AdminAuthProvider>
      402 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:399:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:399:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:399:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      397 |       });
      398 |
    > 399 |       render(
          |             ^
      400 |         <QueryClientProvider client={queryClient}>
      401 |           <AdminAuthProvider>
      402 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:399:13)

    console.error
      The above error occurred in the <AdminAuthProvider> component:
      
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:53:37)
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:46:29)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      397 |       });
      398 |
    > 399 |       render(
          |             ^
      400 |         <QueryClientProvider client={queryClient}>
      401 |           <AdminAuthProvider>
      402 |             <ThemeProvider>

      at logCapturedError (../../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:399:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:425:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:425:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      423 |   describe('Form State Management', () => {
      424 |     it('should maintain form state during authentication', async () => {
    > 425 |       render(
          |             ^
      426 |         <QueryClientProvider client={queryClient}>
      427 |           <AdminAuthProvider>
      428 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:425:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:425:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:425:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      423 |   describe('Form State Management', () => {
      424 |     it('should maintain form state during authentication', async () => {
    > 425 |       render(
          |             ^
      426 |         <QueryClientProvider client={queryClient}>
      427 |           <AdminAuthProvider>
      428 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:425:13)

    console.error
      The above error occurred in the <AdminAuthProvider> component:
      
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:53:37)
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:46:29)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      423 |   describe('Form State Management', () => {
      424 |     it('should maintain form state during authentication', async () => {
    > 425 |       render(
          |             ^
      426 |         <QueryClientProvider client={queryClient}>
      427 |           <AdminAuthProvider>
      428 |             <ThemeProvider>

      at logCapturedError (../../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:425:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:464:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:464:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      462 |
      463 |     it('should clear form after successful login', async () => {
    > 464 |       render(
          |             ^
      465 |         <QueryClientProvider client={queryClient}>
      466 |           <AdminAuthProvider>
      467 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:464:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:464:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:464:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      462 |
      463 |     it('should clear form after successful login', async () => {
    > 464 |       render(
          |             ^
      465 |         <QueryClientProvider client={queryClient}>
      466 |           <AdminAuthProvider>
      467 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:464:13)

    console.error
      The above error occurred in the <AdminAuthProvider> component:
      
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:53:37)
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:46:29)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      462 |
      463 |     it('should clear form after successful login', async () => {
    > 464 |       render(
          |             ^
      465 |         <QueryClientProvider client={queryClient}>
      466 |           <AdminAuthProvider>
      467 |             <ThemeProvider>

      at logCapturedError (../../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:464:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:525:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:525:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      523 |         });
      524 |
    > 525 |       render(
          |             ^
      526 |         <QueryClientProvider client={queryClient}>
      527 |           <AdminAuthProvider>
      528 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:525:13)

    console.error
      Error: Uncaught [TypeError: (0 , _navigation.usePathname) is not a function]
          at Object.<anonymous> (tests/admin/admin-login-integration.test.tsx:525:13)
          at new Promise (<anonymous>) {
        detail: TypeError: (0 , _navigation.usePathname) is not a function
            at AdminAuthProvider (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
            at renderWithHooks (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:525:13)
            at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      523 |         });
      524 |
    > 525 |       render(
          |             ^
      526 |         <QueryClientProvider client={queryClient}>
      527 |           <AdminAuthProvider>
      528 |             <ThemeProvider>

      at VirtualConsole.<anonymous> (../../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:525:13)

    console.error
      The above error occurred in the <AdminAuthProvider> component:
      
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-contexts/src/lib/AdminAuthContext.tsx:53:37)
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-login-integration.test.tsx:46:29)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      523 |         });
      524 |
    > 525 |       render(
          |             ^
      526 |         <QueryClientProvider client={queryClient}>
      527 |           <AdminAuthProvider>
      528 |             <ThemeProvider>

      at logCapturedError (../../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:525:13)

  ‚óè Admin Login Integration ‚Ä∫ Authentication Flow ‚Ä∫ should complete successful login flow

    TypeError: (0 , _navigation.usePathname) is not a function

      59 |
      60 |   const router = useRouter();
    > 61 |   const pathname = usePathname();
         |                               ^
      62 |
      63 |   // Load session from localStorage on mount (for mock authentication)
      64 |   useEffect(() => {

      at AdminAuthProvider (../../libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
      at renderWithHooks (../../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:139:13)

  ‚óè Admin Login Integration ‚Ä∫ Authentication Flow ‚Ä∫ should handle authentication failure

    TypeError: (0 , _navigation.usePathname) is not a function

      59 |
      60 |   const router = useRouter();
    > 61 |   const pathname = usePathname();
         |                               ^
      62 |
      63 |   // Load session from localStorage on mount (for mock authentication)
      64 |   useEffect(() => {

      at AdminAuthProvider (../../libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
      at renderWithHooks (../../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:188:13)

  ‚óè Admin Login Integration ‚Ä∫ Authentication Flow ‚Ä∫ should handle network errors during authentication

    TypeError: (0 , _navigation.usePathname) is not a function

      59 |
      60 |   const router = useRouter();
    > 61 |   const pathname = usePathname();
         |                               ^
      62 |
      63 |   // Load session from localStorage on mount (for mock authentication)
      64 |   useEffect(() => {

      at AdminAuthProvider (../../libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
      at renderWithHooks (../../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:221:13)

  ‚óè Admin Login Integration ‚Ä∫ Session Management ‚Ä∫ should redirect authenticated users away from login page

    TypeError: (0 , _navigation.usePathname) is not a function

      59 |
      60 |   const router = useRouter();
    > 61 |   const pathname = usePathname();
         |                               ^
      62 |
      63 |   // Load session from localStorage on mount (for mock authentication)
      64 |   useEffect(() => {

      at AdminAuthProvider (../../libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
      at renderWithHooks (../../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:279:13)

  ‚óè Admin Login Integration ‚Ä∫ Session Management ‚Ä∫ should handle session expiration gracefully

    TypeError: (0 , _navigation.usePathname) is not a function

      59 |
      60 |   const router = useRouter();
    > 61 |   const pathname = usePathname();
         |                               ^
      62 |
      63 |   // Load session from localStorage on mount (for mock authentication)
      64 |   useEffect(() => {

      at AdminAuthProvider (../../libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
      at renderWithHooks (../../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:303:13)

  ‚óè Admin Login Integration ‚Ä∫ Admin Role Validation ‚Ä∫ should validate admin role after successful login

    TypeError: (0 , _navigation.usePathname) is not a function

      59 |
      60 |   const router = useRouter();
    > 61 |   const pathname = usePathname();
         |                               ^
      62 |
      63 |   // Load session from localStorage on mount (for mock authentication)
      64 |   useEffect(() => {

      at AdminAuthProvider (../../libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
      at renderWithHooks (../../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:352:13)

  ‚óè Admin Login Integration ‚Ä∫ Admin Role Validation ‚Ä∫ should reject non-admin users

    TypeError: (0 , _navigation.usePathname) is not a function

      59 |
      60 |   const router = useRouter();
    > 61 |   const pathname = usePathname();
         |                               ^
      62 |
      63 |   // Load session from localStorage on mount (for mock authentication)
      64 |   useEffect(() => {

      at AdminAuthProvider (../../libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
      at renderWithHooks (../../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:399:13)

  ‚óè Admin Login Integration ‚Ä∫ Form State Management ‚Ä∫ should maintain form state during authentication

    TypeError: (0 , _navigation.usePathname) is not a function

      59 |
      60 |   const router = useRouter();
    > 61 |   const pathname = usePathname();
         |                               ^
      62 |
      63 |   // Load session from localStorage on mount (for mock authentication)
      64 |   useEffect(() => {

      at AdminAuthProvider (../../libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
      at renderWithHooks (../../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:425:13)

  ‚óè Admin Login Integration ‚Ä∫ Form State Management ‚Ä∫ should clear form after successful login

    TypeError: (0 , _navigation.usePathname) is not a function

      59 |
      60 |   const router = useRouter();
    > 61 |   const pathname = usePathname();
         |                               ^
      62 |
      63 |   // Load session from localStorage on mount (for mock authentication)
      64 |   useEffect(() => {

      at AdminAuthProvider (../../libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
      at renderWithHooks (../../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:464:13)

  ‚óè Admin Login Integration ‚Ä∫ Error Recovery ‚Ä∫ should allow retry after authentication failure

    TypeError: (0 , _navigation.usePathname) is not a function

      59 |
      60 |   const router = useRouter();
    > 61 |   const pathname = usePathname();
         |                               ^
      62 |
      63 |   // Load session from localStorage on mount (for mock authentication)
      64 |   useEffect(() => {

      at AdminAuthProvider (../../libs/shared-contexts/src/lib/AdminAuthContext.tsx:61:31)
      at renderWithHooks (../../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../../node_modules/react/cjs/react.development.js:2667:24)
      at act (../../node_modules/react/cjs/react.development.js:2582:11)
      at ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (../../tests/admin/admin-login-integration.test.tsx:525:13)

FAIL tests/admin/admin-login-page.test.tsx
  ‚óè Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'onAuthStateChange')

      41 | // Mirror auth session to cookie for simple client persistence across reloads
      42 | if (supabaseClient) {
    > 43 |   supabaseClient.auth.onAuthStateChange((event, session) => {
         |                       ^
      44 |     try {
      45 |       if (typeof document === 'undefined') return;
      46 |       if (session?.access_token) {

      at Object.onAuthStateChange (src/lib/supabase-client.ts:43:23)
      at Object.<anonymous> (../../libs/shared-components/src/lib/common/EnhancedDashboard.tsx:18:25)
      at Object.<anonymous> (../../libs/shared-components/src/index.ts:171:67)
      at Object.<anonymous> (src/app/admin/login/page.tsx:17:27)
      at Object.<anonymous> (../../tests/admin/admin-login-page.test.tsx:96:54)

Test Suites: 13 failed, 4 passed, 17 total
Tests:       83 failed, 38 passed, 121 total
Snapshots:   0 total
Time:        14.062 s
Ran all test suites.

> nx run zatona-web:test


> zatona-web@1.0.0 test
> nx run-many --target=test --all


 NX   Running target test for 12 projects:

- shared-components
- shared-contexts
- shared-atoms
- shared-hooks
- shared-types
- database
- website
- admin
- utils
- auth
- ui
- zatona-web



> nx run shared-hooks:test  [local cache]

 DEPRECATED  "cache.dir" is deprecated, use Vite's "cacheDir" instead if you want to change the cache director. Note caches will be written to "cacheDir/vitest"

> nx run shared-contexts:test  [local cache]

 DEPRECATED  "cache.dir" is deprecated, use Vite's "cacheDir" instead if you want to change the cache director. Note caches will be written to "cacheDir/vitest"

> nx run shared-components:test  [local cache]

 DEPRECATED  "cache.dir" is deprecated, use Vite's "cacheDir" instead if you want to change the cache director. Note caches will be written to "cacheDir/vitest"

> nx run shared-atoms:test  [local cache]

 DEPRECATED  "cache.dir" is deprecated, use Vite's "cacheDir" instead if you want to change the cache director. Note caches will be written to "cacheDir/vitest"

> nx run shared-types:test  [local cache]

 DEPRECATED  "cache.dir" is deprecated, use Vite's "cacheDir" instead if you want to change the cache director. Note caches will be written to "cacheDir/vitest"

> nx run auth:test  [local cache]

No tests found, exiting with code 0

> nx run database:test  [local cache]

PASS database libs/database/src/lib/__tests__/database-switching.test.ts
  Database Switching
    ‚úì should create Firebase service when NEXT_PUBLIC_USE_FIREBASE=true (4 ms)
    ‚úì should create Supabase service when NEXT_PUBLIC_USE_FIREBASE=false (1 ms)
    ‚úì should default to Supabase when NEXT_PUBLIC_USE_FIREBASE is not set
  Database Service Usage
    ‚úì should handle get operation (1 ms)
    ‚úì should handle add operation (1 ms)
    ‚úì should handle error cases
  Database Integration
    ‚úì should work with React Context

Test Suites: 1 passed, 1 total
Tests:       7 passed, 7 total
Snapshots:   0 total
Time:        0.315 s, estimated 1 s
Ran all test suites.

> nx run utils:test  [local cache]

No tests found, exiting with code 0

> nx run ui:test  [local cache]

No tests found, exiting with code 0

> nx run admin:test


 NX   > Couldn't find any `pages` or `app` directory. Please create one under the project root

Pass --verbose to see the stacktrace.


> nx run website:test

‚óè Validation Warning:

  Unknown option "coverageProvider" with value "v8" was found.
  This is probably a typing mistake. Fixing it will remove this message.

  Configuration Documentation:
  https://jestjs.io/docs/configuration

FAIL tests/admin/admin-auth-integration.test.ts
  ‚óè Console

    console.error
      Admin authentication error: Error: Database connection failed
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:394:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:423:29)

    console.error
      Admin authentication error: SyntaxError: Unexpected token 'i', "invalid json" is not valid JSON
          at JSON.parse (<anonymous>)
          at NextRequest.parse [as json] (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/jest.setup.js:58:21)
          at json (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/api/admin/auth/route.ts:13:47)
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:443:43)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:443:29)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:541:29)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 0)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 1)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 2)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 3)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 4)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 5)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 6)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 7)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 8)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

    console.error
      Admin authentication error: Error: Database connection failed: password=secret123
          at Object.<anonymous> (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-auth-integration.test.ts:512:9)
          at Promise.finally.completed (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/node_modules/jest-runner/build/testWorker.js:497:12)

      81 |     return NextResponse.json({ success: true, admin: session });
      82 |   } catch (error) {
    > 83 |     console.error('Admin authentication error:', error);
         |             ^
      84 |     return NextResponse.json(
      85 |       { success: false, error: 'Internal server error' },
      86 |       { status: 500 }

      at error (src/app/api/admin/auth/route.ts:83:13)
          at async Promise.all (index 9)
      at Object.<anonymous> (../../tests/admin/admin-auth-integration.test.ts:568:25)

  ‚óè Admin Authentication Integration ‚Ä∫ Session Management ‚Ä∫ should create valid session after successful login

    expect(received).toBe(expected) // Object.is equality

    Expected: "test@example.com"
    Received: "admin_123"

      309 |       };
      310 |
    > 311 |       expect(decoded.adminId).toBe(mockAdmin.email);
          |                               ^
      312 |       expect(decoded.email).toBe(mockAdmin.email);
      313 |       expect(decoded.role).toBe(mockAdmin.role);
      314 |     });

      at Object.toBe (../../tests/admin/admin-auth-integration.test.ts:311:31)

  ‚óè Admin Authentication Integration ‚Ä∫ Error Handling ‚Ä∫ should handle malformed requests

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      444 |       const loginData = await getResponseData(loginResponse);
      445 |
    > 446 |       expect(loginResponse.status).toBe(400);
          |                                    ^
      447 |       expect(loginData.success).toBe(false);
      448 |       expect(loginData.error).toBeDefined();
      449 |     });

      at Object.toBe (../../tests/admin/admin-auth-integration.test.ts:446:36)

  ‚óè Admin Authentication Integration ‚Ä∫ Error Handling ‚Ä∫ should handle missing environment variables

    expect(received).toBe(expected) // Object.is equality

    Expected: 500
    Received: 200

      501 |       const loginData = await getResponseData(loginResponse);
      502 |
    > 503 |       expect(loginResponse.status).toBe(500);
          |                                    ^
      504 |       expect(loginData.success).toBe(false);
      505 |       expect(loginData.error).toBeDefined();
      506 |     });

      at Object.toBe (../../tests/admin/admin-auth-integration.test.ts:503:36)

  ‚óè Admin Authentication Integration ‚Ä∫ Security Tests ‚Ä∫ should rate limit login attempts

    expect(received).toContain(expected) // indexOf

    Expected value: 500
    Received array: [400, 401, 429]

      570 |       // All requests should be handled (even if they fail)
      571 |       responses.forEach(response => {
    > 572 |         expect([400, 401, 429]).toContain(response.status);
          |                                 ^
      573 |       });
      574 |     });
      575 |

      at toContain (../../tests/admin/admin-auth-integration.test.ts:572:33)
          at Array.forEach (<anonymous>)
      at Object.forEach (../../tests/admin/admin-auth-integration.test.ts:571:17)

FAIL tests/admin/navbar-switching-fix.test.tsx
  ‚óè Navbar Switching Fix ‚Ä∫ ConditionalLayout Component ‚Ä∫ should render website layout for non-admin routes during SSR

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

      228 |       expect(
      229 |         container.querySelector('[data-testid="website-navbar"]')
    > 230 |       ).toBeInTheDocument();
          |         ^
      231 |       expect(screen.getByText('Home Page Content')).toBeInTheDocument();
      232 |     });
      233 |

      at __EXTERNAL_MATCHER_TRAP__ (../../node_modules/expect/build/index.js:2240:22)
      at Object.throwingMatcher [as toBeInTheDocument] (../../node_modules/expect/build/index.js:2241:6)
      at Object.toBeInTheDocument (../../tests/admin/navbar-switching-fix.test.tsx:230:9)

  ‚óè Navbar Switching Fix ‚Ä∫ ConditionalLayout Component ‚Ä∫ should render website layout for non-admin routes after hydration

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

      244 |       expect(
      245 |         container.querySelector('[data-testid="website-navbar"]')
    > 246 |       ).toBeInTheDocument();
          |         ^
      247 |       expect(screen.getByText('Practice Page Content')).toBeInTheDocument();
      248 |     });
      249 |

      at __EXTERNAL_MATCHER_TRAP__ (../../node_modules/expect/build/index.js:2240:22)
      at Object.throwingMatcher [as toBeInTheDocument] (../../node_modules/expect/build/index.js:2241:6)
      at Object.toBeInTheDocument (../../tests/admin/navbar-switching-fix.test.tsx:246:9)

  ‚óè Navbar Switching Fix ‚Ä∫ Admin Layout Component ‚Ä∫ should render admin navbar for authenticated users

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

      316 |       expect(
      317 |         container.querySelector('[data-testid="admin-navbar"]')
    > 318 |       ).toBeInTheDocument();
          |         ^
      319 |       expect(screen.getByText('Admin Dashboard Content')).toBeInTheDocument();
      320 |     });
      321 |

      at __EXTERNAL_MATCHER_TRAP__ (../../node_modules/expect/build/index.js:2240:22)
      at Object.throwingMatcher [as toBeInTheDocument] (../../node_modules/expect/build/index.js:2241:6)
      at Object.toBeInTheDocument (../../tests/admin/navbar-switching-fix.test.tsx:318:9)

  ‚óè Navbar Switching Fix ‚Ä∫ Admin Layout Component ‚Ä∫ should show loading state while checking authentication

    TestingLibraryElementError: Unable to find an element with the text: Loading admin panel.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      342 |       );
      343 |
    > 344 |       expect(screen.getByText('Loading admin panel...')).toBeInTheDocument();
          |                     ^
      345 |       expect(
      346 |         screen.queryByText('Admin Dashboard Content')
      347 |       ).not.toBeInTheDocument();

      at Object.getElementError (../../node_modules/@testing-library/dom/dist/config.js:37:19)
      at ../../node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at ../../node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at ../../node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (../../tests/admin/navbar-switching-fix.test.tsx:344:21)

  ‚óè Navbar Switching Fix ‚Ä∫ Route Detection ‚Ä∫ should correctly identify non-admin routes

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

      501 |         expect(
      502 |           container.querySelector('[data-testid="website-navbar"]')
    > 503 |         ).toBeInTheDocument();
          |           ^
      504 |         expect(screen.getByText(`Content for ${route}`)).toBeInTheDocument();
      505 |       });
      506 |     });

      at __EXTERNAL_MATCHER_TRAP__ (../../node_modules/expect/build/index.js:2240:22)
      at Object.throwingMatcher [as toBeInTheDocument] (../../node_modules/expect/build/index.js:2241:6)
      at toBeInTheDocument (../../tests/admin/navbar-switching-fix.test.tsx:503:11)
          at Array.forEach (<anonymous>)
      at Object.forEach (../../tests/admin/navbar-switching-fix.test.tsx:491:22)

  ‚óè Navbar Switching Fix ‚Ä∫ Edge Cases ‚Ä∫ should handle undefined pathname

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

      520 |       expect(
      521 |         container.querySelector('[data-testid="website-navbar"]')
    > 522 |       ).toBeInTheDocument();
          |         ^
      523 |     });
      524 |
      525 |     it('should handle null pathname', () => {

      at __EXTERNAL_MATCHER_TRAP__ (../../node_modules/expect/build/index.js:2240:22)
      at Object.throwingMatcher [as toBeInTheDocument] (../../node_modules/expect/build/index.js:2241:6)
      at Object.toBeInTheDocument (../../tests/admin/navbar-switching-fix.test.tsx:522:9)

  ‚óè Navbar Switching Fix ‚Ä∫ Edge Cases ‚Ä∫ should handle null pathname

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

      535 |       expect(
      536 |         container.querySelector('[data-testid="website-navbar"]')
    > 537 |       ).toBeInTheDocument();
          |         ^
      538 |     });
      539 |
      540 |     it('should handle empty pathname', () => {

      at __EXTERNAL_MATCHER_TRAP__ (../../node_modules/expect/build/index.js:2240:22)
      at Object.throwingMatcher [as toBeInTheDocument] (../../node_modules/expect/build/index.js:2241:6)
      at Object.toBeInTheDocument (../../tests/admin/navbar-switching-fix.test.tsx:537:9)

  ‚óè Navbar Switching Fix ‚Ä∫ Edge Cases ‚Ä∫ should handle empty pathname

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

      550 |       expect(
      551 |         container.querySelector('[data-testid="website-navbar"]')
    > 552 |       ).toBeInTheDocument();
          |         ^
      553 |     });
      554 |
      555 |     it('should handle routes that start with admin but are not admin routes', () => {

      at __EXTERNAL_MATCHER_TRAP__ (../../node_modules/expect/build/index.js:2240:22)
      at Object.throwingMatcher [as toBeInTheDocument] (../../node_modules/expect/build/index.js:2241:6)
      at Object.toBeInTheDocument (../../tests/admin/navbar-switching-fix.test.tsx:552:9)

  ‚óè Navbar Switching Fix ‚Ä∫ Edge Cases ‚Ä∫ should handle routes that start with admin but are not admin routes

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

      565 |       expect(
      566 |         container.querySelector('[data-testid="website-navbar"]')
    > 567 |       ).toBeInTheDocument();
          |         ^
      568 |       expect(
      569 |         screen.getByText('Public Admin Panel Content')
      570 |       ).toBeInTheDocument();

      at __EXTERNAL_MATCHER_TRAP__ (../../node_modules/expect/build/index.js:2240:22)
      at Object.throwingMatcher [as toBeInTheDocument] (../../node_modules/expect/build/index.js:2241:6)
      at Object.toBeInTheDocument (../../tests/admin/navbar-switching-fix.test.tsx:567:9)

  ‚óè Navbar Switching Fix ‚Ä∫ Performance ‚Ä∫ should not cause unnecessary re-renders

    expect(received).toBe(expected) // Object.is equality

    Expected: 1
    Received: 2

      605 |
      606 |       // Should not cause additional renders
    > 607 |       expect(renderSpy.mock.calls.length).toBe(initialRenderCount);
          |                                           ^
      608 |     });
      609 |
      610 |     it('should handle rapid route changes efficiently', () => {

      at Object.toBe (../../tests/admin/navbar-switching-fix.test.tsx:607:43)

FAIL tests/unit/learning-type-context.test.tsx
  ‚óè Console

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://hpnewqkvpnthpohvxcmq.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.error
      Warning: An update to LearningTypeProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/context/LearningTypeContext.tsx:38:3)

      222 |
      223 |   const setLearningType = useCallback((type: LearningType) => {
    > 224 |     setLearningTypeState(type);
          |     ^
      225 |     // Optionally sync preference to API here in future
      226 |   }, []);
      227 |

      at printWarning (../../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLearningTypeState (src/context/LearningTypeContext.tsx:224:5)
      at setLearningType (../../tests/unit/learning-type-context.test.tsx:15:30)
      at HTMLUnknownElement.callCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at fireAnEvent (../../node_modules/jsdom/lib/jsdom/living/helpers/events.js:18:36)
      at HTMLButtonElementImpl.click (../../node_modules/jsdom/lib/jsdom/living/nodes/HTMLElement-impl.js:85:5)
      at HTMLButtonElement.click (../../node_modules/jsdom/lib/jsdom/living/generated/HTMLElement.js:108:34)
      at Object.click (../../tests/unit/learning-type-context.test.tsx:41:34)

    console.error
      Warning: An update to LearningTypeProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/context/LearningTypeContext.tsx:38:3)

      123 |       (_event, session) => {
      124 |         const newUserId = session?.user?.id ?? null;
    > 125 |         setUserId(newUserId);
          |         ^
      126 |
      127 |         // Reload learning type when auth state changes
      128 |         const universalTypeKey = buildStorageKey(null, 'type');

      at printWarning (../../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.setUserId [as callback] (src/context/LearningTypeContext.tsx:125:9)
      at ../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:2144:49
      at SupabaseAuthClient._useSession (../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:1501:20)
      at SupabaseAuthClient._emitInitialSession (../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:2136:12)

    console.error
      Warning: An update to LearningTypeProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/context/LearningTypeContext.tsx:38:3)

      137 |             rawType === 'custom'
      138 |           ) {
    > 139 |             setLearningTypeState(rawType);
          |             ^
      140 |           }
      141 |         } catch (_e) {
      142 |           // ignore

      at printWarning (../../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.setLearningTypeState [as callback] (src/context/LearningTypeContext.tsx:139:13)
      at ../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:2144:49
      at SupabaseAuthClient._useSession (../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:1501:20)
      at SupabaseAuthClient._emitInitialSession (../../node_modules/@supabase/auth-js/src/GoTrueClient.ts:2136:12)

    console.error
      Warning: An update to LearningTypeProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/context/LearningTypeContext.tsx:38:3)

      77 |         if (!mounted) return;
      78 |         const newUserId = data.user?.id ?? null;
    > 79 |         setUserId(newUserId);
         |         ^
      80 |
      81 |         // When userId changes (including logout), reload learning type from appropriate storage
      82 |         const universalTypeKey = buildStorageKey(null, 'type');

      at printWarning (../../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setUserId (src/context/LearningTypeContext.tsx:79:9)

    console.error
      Warning: An update to LearningTypeProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/context/LearningTypeContext.tsx:38:3)

      91 |             rawType === 'custom'
      92 |           ) {
    > 93 |             setLearningTypeState(rawType);
         |             ^
      94 |           }
      95 |         } catch (_e) {
      96 |           // ignore

      at printWarning (../../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLearningTypeState (src/context/LearningTypeContext.tsx:93:13)

  ‚óè LearningTypeContext ‚Ä∫ updates learning type

    expect(element).toHaveTextContent()

    Expected element to have text content:
      free-style
    Received:
      guided

      40 |     );
      41 |     screen.getByText('set-free').click();
    > 42 |     expect(screen.getByTestId('type')).toHaveTextContent('free-style');
         |                                        ^
      43 |   });
      44 | });
      45 |

      at Object.toHaveTextContent (../../tests/unit/learning-type-context.test.tsx:42:40)

FAIL apps/website/src/__tests__/learning-type-context.test.tsx
  ‚óè LearningTypeContext (app colocated) ‚Ä∫ updates learning type

    expect(element).toHaveTextContent()

    Expected element to have text content:
      free-style
    Received:
      guided

      55 |       screen.getByText('set-free').click();
      56 |     });
    > 57 |     expect(screen.getByTestId('type')).toHaveTextContent('free-style');
         |                                        ^
      58 |   });
      59 |
      60 |   it('persists learning type under user-scoped key when session exists', async () => {

      at Object.toHaveTextContent (src/__tests__/learning-type-context.test.tsx:57:40)

  ‚óè LearningTypeContext (app colocated) ‚Ä∫ persists learning type under user-scoped key when session exists

    expect(received).toBe(expected) // Object.is equality

    Expected: "free-style"
    Received: null

      71 |     expect(
      72 |       window.localStorage.getItem('learning-preferences:user_123:type')
    > 73 |     ).toBe('free-style');
         |       ^
      74 |   });
      75 | });
      76 |

      at Object.toBe (src/__tests__/learning-type-context.test.tsx:73:7)

FAIL tests/admin/admin-integration.test.tsx
  ‚óè Console

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.ts:23:11)

    console.log
      URL: https://test.supabase.co

      at Object.log (src/lib/supabase-client.ts:24:11)

    console.log
      ‚úÖ Supabase client configured successfully

      at Object.log (src/lib/supabase-client.t