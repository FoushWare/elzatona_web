#!/usr/bin/env sh

echo "ğŸ” Running FAST pre-commit checks (linting + build only)..."

# Run lint-staged first
echo "ğŸ“ Running lint-staged..."
npx lint-staged

# Check if lint-staged passed
if [ $? -ne 0 ]; then
  echo "âŒ Lint-staged failed. Please fix the issues before committing."
  exit 1
fi

# Run build check
echo "ğŸ—ï¸  Running build check..."
npm run build

# Check if build passed
if [ $? -ne 0 ]; then
  echo "âŒ Build failed! Please fix the build issues before committing."
  echo "ğŸ’¡ You can run 'npm run build' manually to see the specific errors."
  exit 1
fi

echo "âœ… Fast pre-commit checks passed! Linting and build are successful."
echo "ğŸ’¡ Note: Tests were skipped. Run 'npm test' manually if needed."
