-- Batch 29: Questions 281-290
INSERT INTO questions (id, title, content, type, difficulty, points, options, correct_answer, explanation, test_cases, hints, tags, stats, metadata, category_id, is_active, created_at, updated_at) VALUES
('edd39d03-2ec8-492b-8d22-4253ab446556', 'How does `useReducer` work? Explain with an example', 'Define a reducer function, call `useReducer(reducer, initialState)`, dispatch actions to update state.', 'multiple-choice', 'intermediate', 7, NULL, NULL, 'The reducer takes current state and an action, returns new state. Dispatch sends actions to the reducer.', NULL, ARRAY[]::text[], ARRAY['react','usereducer','example','hooks'], '{"views":0,"attempts":0,"correct_attempts":0,"average_time":0}', '{"original_id":"q280","original_type":"open-ended","topic":"useReducer","subcategory":"React Hooks","sample_answers":["```javascript\nfunction reducer(state, action) {\n  switch(action.type) {\n    case ''increment'': return { count: state.count + 1 };\n    default: return state;\n  }\n}\nconst [state, dispatch] = useReducer(reducer, { count: 0 });\n```","Dispatch with `dispatch({ type: ''increment'' })` to trigger state updates through the reducer."],"time_limit":120,"related_links":[],"created_by":"admin","updated_by":"system","topic_id":null}', 'ca612436-af48-4e3f-a7fd-f9a9b2c52374', true, '2024-01-01T00:00:00.000Z', '2024-01-01T00:00:00.000Z'),
('b3fa70a6-a69f-4c26-b880-cdc2a8b47ceb', 'Can you combine `useReducer` with `useContext`?', 'Yes. Wrap `useReducer` in a Context Provider to create a lightweight global state management system.', 'multiple-choice', 'intermediate', 6, '[{"id":"a","text":"True","isCorrect":true},{"id":"b","text":"False","isCorrect":false}]', NULL, 'This pattern mimics Redux without external libraries—ideal for medium-sized apps.', NULL, ARRAY[]::text[], ARRAY['react','usereducer','usecontext','global-state'], '{"views":0,"attempts":0,"correct_attempts":0,"average_time":0}', '{"original_id":"q281","original_type":"true-false","topic":"Context API","subcategory":"State Management","sample_answers":[],"time_limit":120,"related_links":[],"created_by":"admin","updated_by":"system","topic_id":null}', 'ca612436-af48-4e3f-a7fd-f9a9b2c52374', true, '2024-01-01T00:00:00.000Z', '2024-01-01T00:00:00.000Z'),
('c75c002b-bdb3-4725-9b51-f30b06b8d37f', 'Can you dispatch multiple actions in a row with useReducer?', 'Yes. Call `dispatch()` multiple times, or create a custom action that performs multiple state changes.', 'multiple-choice', 'intermediate', 6, NULL, NULL, 'Each `dispatch` queues an update; React processes them in order during the next render.', NULL, ARRAY[]::text[], ARRAY['react','usereducer','dispatch','actions'], '{"views":0,"attempts":0,"correct_attempts":0,"average_time":0}', '{"original_id":"q282","original_type":"open-ended","topic":"useReducer","subcategory":"React Hooks","sample_answers":["`dispatch({type:''inc''}); dispatch({type:''inc''});` increments twice. Or define `case ''inc_twice'': return { count: state.count + 2 };`","Multiple dispatches are batched into a single re-render, ensuring consistent state transitions."],"time_limit":120,"related_links":[],"created_by":"admin","updated_by":"system","topic_id":null}', 'ca612436-af48-4e3f-a7fd-f9a9b2c52374', true, '2024-01-01T00:00:00.000Z', '2024-01-01T00:00:00.000Z'),
('9d427468-8286-4c26-92db-2a7f3537c3cc', 'How does useContext work? Explain with an example', 'Create context, provide value via Provider, consume with `useContext` in child components.', 'multiple-choice', 'intermediate', 7, NULL, NULL, 'The example shows auth state shared across components without prop drilling.', NULL, ARRAY[]::text[], ARRAY['react','usecontext','example','authentication'], '{"views":0,"attempts":0,"correct_attempts":0,"average_time":0}', '{"original_id":"q283","original_type":"open-ended","topic":"Context API","subcategory":"Context API","sample_answers":["```javascript\nconst AuthContext = createContext();\nfunction AuthProvider({children}) {\n  const [user, setUser] = useState(null);\n  return <AuthContext.Provider value={{user, login, logout}}>{children}</AuthContext.Provider>;\n}\n// In child: const {user, login} = useContext(AuthContext);\n```","This pattern allows any component to access auth state and methods without passing props through every level."],"time_limit":120,"related_links":[],"created_by":"admin","updated_by":"system","topic_id":null}', 'ca612436-af48-4e3f-a7fd-f9a9b2c52374', true, '2024-01-01T00:00:00.000Z', '2024-01-01T00:00:00.000Z'),
('c782aa4a-b33e-4a4d-82e2-6a8f1a98d30e', 'Can you use multiple contexts in one component?', 'Yes. Call `useContext` once for each context in the same component.', 'multiple-choice', 'intermediate', 5, '[{"id":"a","text":"True","isCorrect":true},{"id":"b","text":"False","isCorrect":false}]', NULL, 'Components can consume as many contexts as needed by calling `useContext` multiple times.', NULL, ARRAY[]::text[], ARRAY['react','multiple-contexts','usecontext','composition'], '{"views":0,"attempts":0,"correct_attempts":0,"average_time":0}', '{"original_id":"q284","original_type":"true-false","topic":"Context API","subcategory":"Context API","sample_answers":[],"time_limit":120,"related_links":[],"created_by":"admin","updated_by":"system","topic_id":null}', 'ca612436-af48-4e3f-a7fd-f9a9b2c52374', true, '2024-01-01T00:00:00.000Z', '2024-01-01T00:00:00.000Z'),
('df5944ba-6e4c-4915-af25-fbb63baabffb', 'What''s a common pitfall when using useContext with objects?', 'Providing a new object literal as context value causes unnecessary re-renders of all consumers.', 'multiple-choice', 'advanced', 8, NULL, NULL, 'React compares context value by reference; a new object on every render triggers all consumers to re-render.', NULL, ARRAY[]::text[], ARRAY['react','context-pitfall','re-renders','usememo'], '{"views":0,"attempts":0,"correct_attempts":0,"average_time":0}', '{"original_id":"q285","original_type":"open-ended","topic":"Context API","subcategory":"Context API","sample_answers":["Avoid `<Provider value={{user, theme}}>`—instead, lift to state or memoize with `useMemo(() => ({user, theme}), [user, theme])`.","Split contexts by concern (e.g., `UserContext`, `ThemeContext`) to isolate re-renders to only affected components."],"time_limit":120,"related_links":[],"created_by":"admin","updated_by":"system","topic_id":null}', 'ca612436-af48-4e3f-a7fd-f9a9b2c52374', true, '2024-01-01T00:00:00.000Z', '2024-01-01T00:00:00.000Z'),
('3f585eab-4c6b-4170-aca7-f17bb8532455', 'What would the context value be for no matching provider?', 'The default value passed to `createContext(defaultValue)` is returned if no Provider is found.', 'multiple-choice', 'intermediate', 5, NULL, NULL, 'This is useful for testing components in isolation without wrapping them in a Provider.', NULL, ARRAY[]::text[], ARRAY['react','context','default-value','provider'], '{"views":0,"attempts":0,"correct_attempts":0,"average_time":0}', '{"original_id":"q286","original_type":"open-ended","topic":"Context API","subcategory":"Context API","sample_answers":["`const ThemeContext = createContext(''light'');` means `useContext(ThemeContext)` returns ''light'' if no Provider is present.","If no default is provided, the context value is `undefined` when no Provider exists."],"time_limit":120,"related_links":[],"created_by":"admin","updated_by":"system","topic_id":null}', 'ca612436-af48-4e3f-a7fd-f9a9b2c52374', true, '2024-01-01T00:00:00.000Z', '2024-01-01T00:00:00.000Z'),
('acf93510-7429-462a-b7ea-4f0aa141445e', 'How do reactive dependencies in useEffect affect execution?', 'Empty array: runs once. With deps: runs on mount and when deps change. No array: runs every render.', 'multiple-choice', 'intermediate', 6, '[{"id":"a","text":"Effect always runs once regardless of deps","isCorrect":false},{"id":"b","text":"[]: once; [deps]: on change; none: every render","isCorrect":true},{"id":"c","text":"Deps are deep-comparison","isCorrect":false},{"id":"d","text":"Effect runs before render","isCorrect":false}]', NULL, 'The dependency array controls when the effect re-runs, based on shallow equality of values.', NULL, ARRAY[]::text[], ARRAY['react','useeffect','dependencies','hooks'], '{"views":0,"attempts":0,"correct_attempts":0,"average_time":0}', '{"original_id":"q287","original_type":"multiple-choice","topic":"useEffect","subcategory":"React Hooks","sample_answers":[],"time_limit":120,"related_links":[],"created_by":"admin","updated_by":"system","topic_id":null}', 'ca612436-af48-4e3f-a7fd-f9a9b2c52374', true, '2024-01-01T00:00:00.000Z', '2024-01-01T00:00:00.000Z'),
('b4e573d7-3611-4e74-b92e-9b9169a3fc69', 'When does React invoke setup and cleanup in useEffect?', 'Setup: after mount or when deps change. Cleanup: before re-running effect or on unmount.', 'multiple-choice', 'intermediate', 6, NULL, NULL, 'Cleanup ensures side effects like subscriptions or timers are properly disposed of.', NULL, ARRAY[]::text[], ARRAY['react','useeffect','cleanup','lifecycle'], '{"views":0,"attempts":0,"correct_attempts":0,"average_time":0}', '{"original_id":"q288","original_type":"open-ended","topic":"useEffect","subcategory":"React Hooks","sample_answers":["Setup runs after the component mounts or when dependencies change. Cleanup runs before the next setup or when the component unmounts.","Example: `useEffect(() => { const id = setInterval(...); return () => clearInterval(id); }, [])` cleans up on unmount."],"time_limit":120,"related_links":[],"created_by":"admin","updated_by":"system","topic_id":null}', 'ca612436-af48-4e3f-a7fd-f9a9b2c52374', true, '2024-01-01T00:00:00.000Z', '2024-01-01T00:00:00.000Z'),
('a4e42fff-7f48-4200-aa4c-63252bd6dd17', 'What happens if you return a Promise from useEffect?', 'React ignores it. useEffect must return a cleanup function or nothing—not a Promise.', 'multiple-choice', 'intermediate', 6, NULL, NULL, 'Async functions return Promises, which useEffect doesn’t handle. Do async work inside the effect, not as the effect itself.', NULL, ARRAY[]::text[], ARRAY['react','useeffect','async','promise'], '{"views":0,"attempts":0,"correct_attempts":0,"average_time":0}', '{"original_id":"q289","original_type":"open-ended","topic":"useEffect","subcategory":"React Hooks","sample_answers":["Never write `useEffect(async () => { ... })`. Instead, define an async function inside: `useEffect(() => { const fn = async () => { ... }; fn(); }, []);`","Returning a Promise confuses React’s cleanup mechanism and may cause memory leaks or warnings."],"time_limit":120,"related_links":[],"created_by":"admin","updated_by":"system","topic_id":null}', 'ca612436-af48-4e3f-a7fd-f9a9b2c52374', true, '2024-01-01T00:00:00.000Z', '2024-01-01T00:00:00.000Z');
