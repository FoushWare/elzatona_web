{"version":3,"sources":["/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/admin/frontend-tasks/page.tsx"],"sourcesContent":["// v1.0 - Admin page for managing frontend tasks\n\n'use client';\n\nimport React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseServiceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY!;\nconst supabase = createClient(supabaseUrl, supabaseServiceRoleKey);\n\nimport { Plus, Edit, Trash2, Eye, Search, Filter, Code } from 'lucide-react';\nimport {\n  FrontendTask,\n  FrontendTaskFormData,\n  FrontendTaskFile,\n} from '@elzatona/shared-types';\nimport { FrontendTaskEditor } from '@elzatona/shared-components';\nimport {\n  useFrontendTasks,\n  useCreateFrontendTask,\n  useUpdateFrontendTask,\n  useDeleteFrontendTask,\n} from '@elzatona/shared-hooks';\n\nexport default function FrontendTasksAdminPage() {\n  // TanStack Query hooks\n  const {\n    data: tasksData,\n    isLoading: tasksLoading,\n    error: tasksError,\n  } = useFrontendTasks();\n\n  // Mutation hooks\n  const createTaskMutation = useCreateFrontendTask();\n  const updateTaskMutation = useUpdateFrontendTask();\n  const deleteTaskMutation = useDeleteFrontendTask();\n\n  // Local state for UI\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [selectedDifficulty, setSelectedDifficulty] = useState('');\n  const [editingTask, setEditingTask] = useState<FrontendTask | null>(null);\n  const [showEditor, setShowEditor] = useState(false);\n  const [editorMode, setEditorMode] = useState<'create' | 'edit' | 'view'>(\n    'create'\n  );\n\n  // Derived data\n  const tasks = tasksData?.data || [];\n  const loading = tasksLoading;\n\n  // Filtered tasks based on search and filters\n  const filteredTasks = useMemo(() => {\n    return tasks.filter(task => {\n      const matchesSearch =\n        task.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        task.description.toLowerCase().includes(searchTerm.toLowerCase());\n      const matchesCategory =\n        !selectedCategory || task.category === selectedCategory;\n      const matchesDifficulty =\n        !selectedDifficulty || task.difficulty === selectedDifficulty;\n\n      return matchesSearch && matchesCategory && matchesDifficulty;\n    });\n  }, [tasks, searchTerm, selectedCategory, selectedDifficulty]);\n\n  // CRUD handlers using TanStack Query mutations\n  const handleDelete = useCallback(\n    async (id: string) => {\n      if (!confirm('Are you sure you want to delete this task?')) return;\n\n      try {\n        await deleteTaskMutation.mutateAsync(id);\n      } catch (error) {\n        console.error('Error deleting task:', error);\n        alert('Failed to delete task. Please try again.');\n      }\n    },\n    [deleteTaskMutation]\n  );\n\n  // Handle editor save\n  const handleEditorSave = useCallback(\n    async (taskData: FrontendTaskFormData) => {\n      try {\n        if (editorMode === 'create') {\n          await createTaskMutation.mutateAsync(taskData);\n        } else if (editingTask?.id) {\n          await updateTaskMutation.mutateAsync({\n            id: editingTask.id,\n            data: taskData,\n          });\n        }\n\n        setShowEditor(false);\n        setEditingTask(null);\n      } catch (error) {\n        console.error('Error saving task:', error);\n        alert('Failed to save task. Please try again.');\n      }\n    },\n    [editorMode, editingTask?.id, createTaskMutation, updateTaskMutation]\n  );\n\n  // Handle editor cancel\n  const handleEditorCancel = () => {\n    setShowEditor(false);\n    setEditingTask(null);\n  };\n\n  // Open editor for create\n  const openCreateEditor = () => {\n    setEditorMode('create');\n    setEditingTask(null);\n    setShowEditor(true);\n  };\n\n  // Open editor for edit\n  const openEditEditor = (task: FrontendTask) => {\n    setEditorMode('edit');\n    setEditingTask(task);\n    setShowEditor(true);\n  };\n\n  // Open editor for view (read-only)\n  const openViewEditor = (task: FrontendTask) => {\n    setEditorMode('view');\n    setEditingTask(task);\n    setShowEditor(true);\n  };\n\n  const categories = [\n    'React',\n    'JavaScript',\n    'TypeScript',\n    'CSS',\n    'HTML',\n    'Vue.js',\n    'Angular',\n    'Svelte',\n  ];\n  const difficulties = ['easy', 'medium', 'hard'];\n\n  return (\n    <>\n      <div className='bg-gray-900 text-white p-6'>\n        <div className='max-w-7xl mx-auto'>\n          {/* Header */}\n          <div className='flex justify-between items-center mb-8'>\n            <div>\n              <h1 className='text-3xl font-bold'>Frontend Tasks</h1>\n              <p className='text-gray-400 mt-2'>\n                Manage React and frontend coding challenges\n              </p>\n            </div>\n            <div className='flex gap-2'>\n              <button\n                onClick={openCreateEditor}\n                className='flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors'\n              >\n                <Code className='w-4 h-4' />\n                Create Task\n              </button>\n            </div>\n          </div>\n\n          {/* Filters */}\n          <div className='bg-gray-800 rounded-lg p-4 mb-6'>\n            <div className='flex gap-4 items-center'>\n              <div className='flex-1'>\n                <div className='relative'>\n                  <Search className='absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4' />\n                  <input\n                    type='text'\n                    placeholder='Search tasks...'\n                    value={searchTerm}\n                    onChange={e => setSearchTerm(e.target.value)}\n                    className='w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500'\n                  />\n                </div>\n              </div>\n              <select\n                value={selectedCategory}\n                onChange={e => setSelectedCategory(e.target.value)}\n                className='px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500'\n              >\n                <option value=''>All Categories</option>\n                {categories.map(cat => (\n                  <option key={cat} value={cat}>\n                    {cat}\n                  </option>\n                ))}\n              </select>\n              <select\n                value={selectedDifficulty}\n                onChange={e => setSelectedDifficulty(e.target.value)}\n                className='px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500'\n              >\n                <option value=''>All Difficulties</option>\n                {difficulties.map(diff => (\n                  <option key={diff} value={diff}>\n                    {diff.charAt(0).toUpperCase() + diff.slice(1)}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          {/* Tasks Table */}\n          <div className='bg-gray-800 rounded-lg overflow-hidden'>\n            {loading ? (\n              <div className='p-8 text-center text-gray-400'>\n                Loading tasks...\n              </div>\n            ) : filteredTasks.length === 0 ? (\n              <div className='p-8 text-center text-gray-400'>\n                No tasks found\n              </div>\n            ) : (\n              <div className='overflow-x-auto'>\n                <table className='w-full'>\n                  <thead className='bg-gray-700'>\n                    <tr>\n                      <th className='text-left p-4'>Title</th>\n                      <th className='text-left p-4'>Category</th>\n                      <th className='text-left p-4'>Difficulty</th>\n                      <th className='text-left p-4'>Time</th>\n                      <th className='text-left p-4'>Author</th>\n                      <th className='text-left p-4'>Created</th>\n                      <th className='text-left p-4'>Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {filteredTasks.map(task => (\n                      <tr\n                        key={task.id}\n                        className='border-t border-gray-700 hover:bg-gray-750'\n                      >\n                        <td className='p-4'>\n                          <div className='font-medium'>{task.title}</div>\n                          <div className='text-sm text-gray-400 truncate max-w-xs'>\n                            {task.description}\n                          </div>\n                        </td>\n                        <td className='p-4'>\n                          <span className='px-2 py-1 bg-blue-600 text-xs rounded'>\n                            {task.category}\n                          </span>\n                        </td>\n                        <td className='p-4'>\n                          <span\n                            className={`px-2 py-1 text-xs rounded ${\n                              task.difficulty === 'easy'\n                                ? 'bg-green-600'\n                                : task.difficulty === 'medium'\n                                  ? 'bg-yellow-600'\n                                  : 'bg-red-600'\n                            }`}\n                          >\n                            {task.difficulty}\n                          </span>\n                        </td>\n                        <td className='p-4'>{task.estimatedTime}min</td>\n                        <td className='p-4'>{task.author}</td>\n                        <td className='p-4 text-sm text-gray-400'>\n                          {new Date(task.createdAt).toLocaleDateString()}\n                        </td>\n                        <td className='p-4'>\n                          <div className='flex gap-2'>\n                            <button\n                              onClick={() => openViewEditor(task)}\n                              className='p-1 text-gray-400 hover:text-blue-400'\n                              title='View with Editor'\n                            >\n                              <Eye className='w-4 h-4' />\n                            </button>\n                            <button\n                              onClick={() => openEditEditor(task)}\n                              className='p-1 text-gray-400 hover:text-green-400'\n                              title='Edit with Editor'\n                            >\n                              <Edit className='w-4 h-4' />\n                            </button>\n                            <button\n                              onClick={() => handleDelete(task.id)}\n                              className='p-1 text-gray-400 hover:text-red-400'\n                              title='Delete'\n                            >\n                              <Trash2 className='w-4 h-4' />\n                            </button>\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            )}\n          </div>\n\n          {/* Frontend Task Editor */}\n          {showEditor && (\n            <FrontendTaskEditor\n              task={editingTask}\n              onSave={handleEditorSave}\n              onCancel={handleEditorCancel}\n              mode={editorMode}\n            />\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n\n// Frontend Task Modal Component\nfunction FrontendTaskModal({\n  task,\n  onClose,\n  onSave,\n}: {\n  task: FrontendTask | null;\n  onClose: () => void;\n  onSave: () => void;\n}) {\n  const [formData, setFormData] = useState<FrontendTaskFormData>({\n    title: '',\n    description: '',\n    difficulty: 'easy',\n    category: '',\n    estimatedTime: 30,\n    author: '',\n    company: '',\n    requirements: '',\n    hints: [''],\n    solution: '',\n    starterCode: '',\n    files: [\n      {\n        id: '1',\n        name: 'App.tsx',\n        type: 'tsx',\n        content: '',\n        isEntryPoint: true,\n      },\n    ],\n    testCases: [],\n    tags: [],\n    is_active: true,\n  });\n\n  useEffect(() => {\n    if (task) {\n      setFormData({\n        title: task.title,\n        description: task.description,\n        difficulty: task.difficulty,\n        category: task.category,\n        estimatedTime: task.estimatedTime,\n        author: task.author,\n        company: task.company || '',\n        requirements: task.requirements,\n        hints: task.hints,\n        solution: task.solution,\n        starterCode: task.starterCode,\n        files: task.files || [\n          {\n            id: '1',\n            name: 'App.tsx',\n            type: 'tsx',\n            content: task.starterCode,\n            isEntryPoint: true,\n          },\n        ],\n        testCases: task.testCases || [],\n        tags: task.tags,\n        is_active: task.is_active,\n      });\n    }\n  }, [task]);\n\n  const addFile = () => {\n    const newFile = {\n      id: Date.now().toString(),\n      name: 'NewFile.tsx',\n      type: 'tsx' as const,\n      content: '',\n      isEntryPoint: false,\n    };\n    setFormData({\n      ...formData,\n      files: [...formData.files, newFile],\n    });\n  };\n\n  const removeFile = (fileId: string) => {\n    if (formData.files.length <= 1) return; // Keep at least one file\n    setFormData({\n      ...formData,\n      files: formData.files.filter((f: FrontendTaskFile) => f.id !== fileId),\n    });\n  };\n\n  const updateFile = (fileId: string, updates: Partial<FrontendTaskFile>) => {\n    setFormData({\n      ...formData,\n      files: formData.files.map((f: FrontendTaskFile) =>\n        f.id === fileId ? { ...f, ...updates } : f\n      ),\n    });\n  };\n\n  const addHint = () => {\n    setFormData({\n      ...formData,\n      hints: [...formData.hints, ''],\n    });\n  };\n\n  const removeHint = (index: number) => {\n    setFormData({\n      ...formData,\n      hints: formData.hints.filter((_: string, i: number) => i !== index),\n    });\n  };\n\n  const addTag = () => {\n    setFormData({\n      ...formData,\n      tags: [...formData.tags, ''],\n    });\n  };\n\n  const removeTag = (index: number) => {\n    setFormData({\n      ...formData,\n      tags: formData.tags.filter((_, i) => i !== index),\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    try {\n      const url = task\n        ? `/api/admin/frontend-tasks/${task.id}`\n        : '/api/admin/frontend-tasks';\n      const method = task ? 'PUT' : 'POST';\n\n      const response = await fetch(url, {\n        method,\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(formData),\n      });\n\n      if (response.ok) {\n        onSave();\n      }\n    } catch (error) {\n      console.error('Error saving task:', error);\n    }\n  };\n\n  return (\n    <div className='fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50'>\n      <div className='bg-gray-800 rounded-lg p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto'>\n        <h2 className='text-2xl font-bold mb-4'>\n          {task ? 'Edit Task' : 'Create New Task'}\n        </h2>\n\n        <form onSubmit={handleSubmit} className='space-y-6'>\n          {/* Basic Information */}\n          <div className='grid grid-cols-2 gap-4'>\n            <div>\n              <label className='block text-sm font-medium mb-1'>Title</label>\n              <input\n                type='text'\n                value={formData.title}\n                onChange={e =>\n                  setFormData({ ...formData, title: e.target.value })\n                }\n                className='w-full p-2 bg-gray-700 border border-gray-600 rounded'\n                required\n              />\n            </div>\n            <div>\n              <label className='block text-sm font-medium mb-1'>Category</label>\n              <select\n                value={formData.category}\n                onChange={e =>\n                  setFormData({ ...formData, category: e.target.value })\n                }\n                className='w-full p-2 bg-gray-700 border border-gray-600 rounded'\n                required\n              >\n                <option value=''>Select Category</option>\n                <option value='React'>React</option>\n                <option value='JavaScript'>JavaScript</option>\n                <option value='TypeScript'>TypeScript</option>\n                <option value='CSS'>CSS</option>\n                <option value='HTML'>HTML</option>\n                <option value='Vue.js'>Vue.js</option>\n                <option value='Angular'>Angular</option>\n                <option value='Svelte'>Svelte</option>\n              </select>\n            </div>\n          </div>\n\n          <div>\n            <label className='block text-sm font-medium mb-1'>\n              Description\n            </label>\n            <textarea\n              value={formData.description}\n              onChange={e =>\n                setFormData({ ...formData, description: e.target.value })\n              }\n              rows={3}\n              className='w-full p-2 bg-gray-700 border border-gray-600 rounded'\n              required\n            />\n          </div>\n\n          <div className='grid grid-cols-3 gap-4'>\n            <div>\n              <label className='block text-sm font-medium mb-1'>\n                Difficulty\n              </label>\n              <select\n                value={formData.difficulty}\n                onChange={e =>\n                  setFormData({\n                    ...formData,\n                    difficulty: e.target.value as any,\n                  })\n                }\n                className='w-full p-2 bg-gray-700 border border-gray-600 rounded'\n              >\n                <option value='easy'>Easy</option>\n                <option value='medium'>Medium</option>\n                <option value='hard'>Hard</option>\n              </select>\n            </div>\n            <div>\n              <label className='block text-sm font-medium mb-1'>\n                Estimated Time (min)\n              </label>\n              <input\n                type='number'\n                value={formData.estimatedTime}\n                onChange={e =>\n                  setFormData({\n                    ...formData,\n                    estimatedTime: parseInt(e.target.value),\n                  })\n                }\n                className='w-full p-2 bg-gray-700 border border-gray-600 rounded'\n                min='1'\n              />\n            </div>\n            <div>\n              <label className='block text-sm font-medium mb-1'>Author</label>\n              <input\n                type='text'\n                value={formData.author}\n                onChange={e =>\n                  setFormData({ ...formData, author: e.target.value })\n                }\n                className='w-full p-2 bg-gray-700 border border-gray-600 rounded'\n                required\n              />\n            </div>\n          </div>\n\n          <div>\n            <label className='block text-sm font-medium mb-1'>\n              Requirements\n            </label>\n            <textarea\n              value={formData.requirements}\n              onChange={e =>\n                setFormData({ ...formData, requirements: e.target.value })\n              }\n              rows={4}\n              className='w-full p-2 bg-gray-700 border border-gray-600 rounded'\n              required\n            />\n          </div>\n\n          {/* Dynamic Files Section */}\n          <div>\n            <div className='flex justify-between items-center mb-2'>\n              <label className='block text-sm font-medium'>Files</label>\n              <button\n                type='button'\n                onClick={addFile}\n                className='px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-sm'\n              >\n                + Add File\n              </button>\n            </div>\n            <div className='space-y-3'>\n              {formData.files.map((file, index) => (\n                <div key={file.id} className='bg-gray-700 rounded p-4'>\n                  <div className='grid grid-cols-4 gap-2 mb-2'>\n                    <div>\n                      <label className='block text-xs font-medium mb-1'>\n                        Name\n                      </label>\n                      <input\n                        type='text'\n                        value={file.name}\n                        onChange={e =>\n                          updateFile(file.id, { name: e.target.value })\n                        }\n                        className='w-full p-1 bg-gray-600 border border-gray-500 rounded text-sm'\n                        required\n                      />\n                    </div>\n                    <div>\n                      <label className='block text-xs font-medium mb-1'>\n                        Type\n                      </label>\n                      <select\n                        value={file.type}\n                        onChange={e =>\n                          updateFile(file.id, { type: e.target.value as any })\n                        }\n                        className='w-full p-1 bg-gray-600 border border-gray-500 rounded text-sm'\n                      >\n                        <option value='tsx'>TSX</option>\n                        <option value='ts'>TS</option>\n                        <option value='js'>JS</option>\n                        <option value='css'>CSS</option>\n                        <option value='html'>HTML</option>\n                        <option value='json'>JSON</option>\n                      </select>\n                    </div>\n                    <div className='flex items-end'>\n                      <label className='flex items-center'>\n                        <input\n                          type='checkbox'\n                          checked={file.isEntryPoint}\n                          onChange={e =>\n                            updateFile(file.id, {\n                              isEntryPoint: e.target.checked,\n                            })\n                          }\n                          className='mr-1'\n                        />\n                        <span className='text-xs'>Entry Point</span>\n                      </label>\n                    </div>\n                    <div className='flex items-end'>\n                      {formData.files.length > 1 && (\n                        <button\n                          type='button'\n                          onClick={() => removeFile(file.id)}\n                          className='px-2 py-1 bg-red-600 hover:bg-red-700 rounded text-xs'\n                        >\n                          Remove\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                  <div>\n                    <label className='block text-xs font-medium mb-1'>\n                      Content\n                    </label>\n                    <textarea\n                      value={file.content}\n                      onChange={e =>\n                        updateFile(file.id, { content: e.target.value })\n                      }\n                      rows={6}\n                      className='w-full p-2 bg-gray-900 border border-gray-600 rounded font-mono text-sm'\n                      placeholder={`Enter ${file.type.toUpperCase()} code here...`}\n                    />\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Hints Section */}\n          <div>\n            <div className='flex justify-between items-center mb-2'>\n              <label className='block text-sm font-medium'>Hints</label>\n              <button\n                type='button'\n                onClick={addHint}\n                className='px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-sm'\n              >\n                + Add Hint\n              </button>\n            </div>\n            <div className='space-y-2'>\n              {formData.hints.map((hint, index) => (\n                <div key={index} className='flex gap-2'>\n                  <input\n                    type='text'\n                    value={hint}\n                    onChange={e => {\n                      const newHints = [...formData.hints];\n                      newHints[index] = e.target.value;\n                      setFormData({ ...formData, hints: newHints });\n                    }}\n                    className='flex-1 p-2 bg-gray-700 border border-gray-600 rounded'\n                    placeholder={`Hint ${index + 1}`}\n                  />\n                  <button\n                    type='button'\n                    onClick={() => removeHint(index)}\n                    className='px-2 py-1 bg-red-600 hover:bg-red-700 rounded text-sm'\n                  >\n                    Remove\n                  </button>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Tags Section */}\n          <div>\n            <div className='flex justify-between items-center mb-2'>\n              <label className='block text-sm font-medium'>Tags</label>\n              <button\n                type='button'\n                onClick={addTag}\n                className='px-3 py-1 bg-purple-600 hover:bg-purple-700 rounded text-sm'\n              >\n                + Add Tag\n              </button>\n            </div>\n            <div className='space-y-2'>\n              {formData.tags.map((tag, index) => (\n                <div key={index} className='flex gap-2'>\n                  <input\n                    type='text'\n                    value={tag}\n                    onChange={e => {\n                      const newTags = [...formData.tags];\n                      newTags[index] = e.target.value;\n                      setFormData({ ...formData, tags: newTags });\n                    }}\n                    className='flex-1 p-2 bg-gray-700 border border-gray-600 rounded'\n                    placeholder={`Tag ${index + 1}`}\n                  />\n                  <button\n                    type='button'\n                    onClick={() => removeTag(index)}\n                    className='px-2 py-1 bg-red-600 hover:bg-red-700 rounded text-sm'\n                  >\n                    Remove\n                  </button>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <div>\n            <label className='block text-sm font-medium mb-1'>Solution</label>\n            <textarea\n              value={formData.solution}\n              onChange={e =>\n                setFormData({ ...formData, solution: e.target.value })\n              }\n              rows={6}\n              className='w-full p-2 bg-gray-700 border border-gray-600 rounded font-mono'\n              required\n            />\n          </div>\n\n          <div className='flex justify-end gap-4'>\n            <button\n              type='button'\n              onClick={onClose}\n              className='px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded'\n            >\n              Cancel\n            </button>\n            <button\n              type='submit'\n              className='px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded'\n            >\n              {task ? 'Update' : 'Create'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\n// Frontend Task View Modal Component\nfunction FrontendTaskViewModal({\n  task,\n  onClose,\n}: {\n  task: FrontendTask;\n  onClose: () => void;\n}) {\n  return (\n    <div className='fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50'>\n      <div className='bg-gray-800 rounded-lg p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto'>\n        <div className='flex justify-between items-start mb-4'>\n          <h2 className='text-2xl font-bold'>{task.title}</h2>\n          <button onClick={onClose} className='text-gray-400 hover:text-white'>\n            âœ•\n          </button>\n        </div>\n\n        <div className='space-y-6'>\n          <div className='flex gap-4'>\n            <span className='px-2 py-1 bg-blue-600 text-xs rounded'>\n              {task.category}\n            </span>\n            <span\n              className={`px-2 py-1 text-xs rounded ${\n                task.difficulty === 'easy'\n                  ? 'bg-green-600'\n                  : task.difficulty === 'medium'\n                    ? 'bg-yellow-600'\n                    : 'bg-red-600'\n              }`}\n            >\n              {task.difficulty}\n            </span>\n            <span className='text-sm text-gray-400'>\n              {task.estimatedTime} minutes\n            </span>\n            <span className='text-sm text-gray-400'>by {task.author}</span>\n          </div>\n\n          <div>\n            <h3 className='font-medium mb-2'>Description</h3>\n            <p className='text-gray-300'>{task.description}</p>\n          </div>\n\n          <div>\n            <h3 className='font-medium mb-2'>Requirements</h3>\n            <p className='text-gray-300 whitespace-pre-wrap'>\n              {task.requirements}\n            </p>\n          </div>\n\n          {/* Dynamic Files Section */}\n          {task.files && task.files.length > 0 && (\n            <div>\n              <h3 className='font-medium mb-2'>Files</h3>\n              <div className='space-y-3'>\n                {task.files.map((file, index) => (\n                  <div key={file.id} className='bg-gray-700 rounded p-4'>\n                    <div className='flex items-center gap-2 mb-2'>\n                      <span className='font-mono text-sm text-blue-400'>\n                        {file.name}\n                      </span>\n                      <span className='px-2 py-1 bg-gray-600 text-xs rounded'>\n                        {file.type.toUpperCase()}\n                      </span>\n                      {file.isEntryPoint && (\n                        <span className='px-2 py-1 bg-green-600 text-xs rounded'>\n                          Entry Point\n                        </span>\n                      )}\n                    </div>\n                    <pre className='bg-gray-900 p-3 rounded text-sm overflow-x-auto'>\n                      <code>{file.content}</code>\n                    </pre>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Legacy Starter Code (for backward compatibility) */}\n          {!task.files && task.starterCode && (\n            <div>\n              <h3 className='font-medium mb-2'>Starter Code</h3>\n              <pre className='bg-gray-900 p-4 rounded text-sm overflow-x-auto'>\n                <code>{task.starterCode}</code>\n              </pre>\n            </div>\n          )}\n\n          {/* Hints */}\n          {task.hints && task.hints.length > 0 && (\n            <div>\n              <h3 className='font-medium mb-2'>Hints</h3>\n              <ul className='list-disc list-inside space-y-1'>\n                {task.hints.map((hint, index) => (\n                  <li key={index} className='text-gray-300 text-sm'>\n                    {hint}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n\n          {/* Tags */}\n          {task.tags && task.tags.length > 0 && (\n            <div>\n              <h3 className='font-medium mb-2'>Tags</h3>\n              <div className='flex flex-wrap gap-2'>\n                {task.tags.map((tag, index) => (\n                  <span\n                    key={index}\n                    className='px-2 py-1 bg-purple-600 text-xs rounded'\n                  >\n                    {tag}\n                  </span>\n                ))}\n              </div>\n            </div>\n          )}\n\n          <div>\n            <h3 className='font-medium mb-2'>Solution</h3>\n            <pre className='bg-gray-900 p-4 rounded text-sm overflow-x-auto'>\n              <code>{task.solution}</code>\n            </pre>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["FrontendTasksAdminPage","supabaseUrl","process","env","NEXT_PUBLIC_SUPABASE_URL","supabaseServiceRoleKey","SUPABASE_SERVICE_ROLE_KEY","supabase","createClient","data","tasksData","isLoading","tasksLoading","error","tasksError","useFrontendTasks","createTaskMutation","useCreateFrontendTask","updateTaskMutation","useUpdateFrontendTask","deleteTaskMutation","useDeleteFrontendTask","searchTerm","setSearchTerm","useState","selectedCategory","setSelectedCategory","selectedDifficulty","setSelectedDifficulty","editingTask","setEditingTask","showEditor","setShowEditor","editorMode","setEditorMode","tasks","loading","filteredTasks","useMemo","filter","task","matchesSearch","title","toLowerCase","includes","description","matchesCategory","category","matchesDifficulty","difficulty","handleDelete","useCallback","id","confirm","mutateAsync","console","alert","handleEditorSave","taskData","handleEditorCancel","openCreateEditor","openEditEditor","openViewEditor","categories","difficulties","div","className","h1","p","button","onClick","Code","Search","input","type","placeholder","value","onChange","e","target","select","option","map","cat","diff","charAt","toUpperCase","slice","length","table","thead","tr","th","tbody","td","span","estimatedTime","author","Date","createdAt","toLocaleDateString","Eye","Edit","Trash2","FrontendTaskEditor","onSave","onCancel","mode","FrontendTaskModal","onClose","formData","setFormData","company","requirements","hints","solution","starterCode","files","name","content","isEntryPoint","testCases","tags","is_active","useEffect","addFile","newFile","now","toString","removeFile","fileId","f","updateFile","updates","addHint","removeHint","index","_","i","addTag","removeTag","handleSubmit","preventDefault","url","method","response","fetch","headers","body","JSON","stringify","ok","h2","form","onSubmit","label","required","textarea","rows","parseInt","min","file","checked","hint","newHints","tag","newTags","FrontendTaskViewModal","h3","pre","code","ul","li"],"mappings":"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"}