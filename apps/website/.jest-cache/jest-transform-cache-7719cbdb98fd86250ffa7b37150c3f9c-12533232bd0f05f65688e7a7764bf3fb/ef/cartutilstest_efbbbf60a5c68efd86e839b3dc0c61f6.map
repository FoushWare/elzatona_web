{"version":3,"sources":["/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/__tests__/cart-utils.test.ts"],"sourcesContent":["// v1.0\nimport '@testing-library/jest-dom';\nimport {\n  loadCart,\n  addToCart,\n  removeFromCart,\n  clearCart,\n  type CartItem,\n} from '@/lib/cart';\n\ndescribe('cart utils', () => {\n  beforeEach(() => {\n    window.localStorage.clear();\n  });\n\n  it('adds and loads items; dedupes by id', () => {\n    const item: CartItem = {\n      id: 'q1',\n      question: 'What is React?',\n      addedAt: Date.now(),\n    };\n    addToCart(item);\n    addToCart(item);\n    const loaded = loadCart();\n    expect(loaded).toHaveLength(1);\n    expect(loaded[0].id).toBe('q1');\n  });\n\n  it('removes and clears', () => {\n    const item1: CartItem = { id: 'a', question: 'A', addedAt: Date.now() };\n    const item2: CartItem = { id: 'b', question: 'B', addedAt: Date.now() };\n    addToCart(item1);\n    addToCart(item2);\n    removeFromCart('a');\n    expect(loadCart().map(i => i.id)).toEqual(['b']);\n    clearCart();\n    expect(loadCart()).toEqual([]);\n  });\n});\n"],"names":["describe","beforeEach","window","localStorage","clear","it","item","id","question","addedAt","Date","now","addToCart","loaded","loadCart","expect","toHaveLength","toBe","item1","item2","removeFromCart","map","i","toEqual","clearCart"],"mappings":"AAAA,OAAO;;;;;QACA;sBAOA;AAEPA,SAAS,cAAc;IACrBC,WAAW;QACTC,OAAOC,YAAY,CAACC,KAAK;IAC3B;IAEAC,GAAG,uCAAuC;QACxC,MAAMC,OAAiB;YACrBC,IAAI;YACJC,UAAU;YACVC,SAASC,KAAKC,GAAG;QACnB;QACAC,IAAAA,eAAS,EAACN;QACVM,IAAAA,eAAS,EAACN;QACV,MAAMO,SAASC,IAAAA,cAAQ;QACvBC,OAAOF,QAAQG,YAAY,CAAC;QAC5BD,OAAOF,MAAM,CAAC,EAAE,CAACN,EAAE,EAAEU,IAAI,CAAC;IAC5B;IAEAZ,GAAG,sBAAsB;QACvB,MAAMa,QAAkB;YAAEX,IAAI;YAAKC,UAAU;YAAKC,SAASC,KAAKC,GAAG;QAAG;QACtE,MAAMQ,QAAkB;YAAEZ,IAAI;YAAKC,UAAU;YAAKC,SAASC,KAAKC,GAAG;QAAG;QACtEC,IAAAA,eAAS,EAACM;QACVN,IAAAA,eAAS,EAACO;QACVC,IAAAA,oBAAc,EAAC;QACfL,OAAOD,IAAAA,cAAQ,IAAGO,GAAG,CAACC,CAAAA,IAAKA,EAAEf,EAAE,GAAGgB,OAAO,CAAC;YAAC;SAAI;QAC/CC,IAAAA,eAAS;QACTT,OAAOD,IAAAA,cAAQ,KAAIS,OAAO,CAAC,EAAE;IAC/B;AACF"}