15127deb7045b65f83d8677a3957684e
// v1.1 - Fixed test with proper mocks
"use strict";
// Mock shared contexts used by NavbarSimple
jest.mock('@elzatona/shared-contexts', ()=>({
        useUserType: ()=>({
                userType: 'guided',
                setUserType: jest.fn()
            }),
        useMobileMenu: ()=>({
                setIsMobileMenuOpen: jest.fn()
            }),
        useTheme: ()=>({
                isDarkMode: false,
                toggleDarkMode: jest.fn()
            }),
        useAuth: ()=>({
                user: null,
                isAuthenticated: false,
                isLoading: false,
                logout: jest.fn()
            })
    }));
// Mock LearningTypeContext
jest.mock('@/context/LearningTypeContext', ()=>({
        useLearningType: ()=>({
                learningType: 'guided',
                setLearningType: jest.fn()
            })
    }));
// Mock Next.js navigation
jest.mock('next/navigation', ()=>({
        usePathname: ()=>'/',
        useRouter: ()=>({
                push: jest.fn()
            })
    }));
// Mock Supabase client
jest.mock('@/lib/supabase-client', ()=>({
        supabaseClient: null,
        isSupabaseAvailable: ()=>false
    }));
// Mock auth session
jest.mock('@/lib/auth-session', ()=>({
        clearSession: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
require("@testing-library/jest-dom");
const _NavbarSimple = /*#__PURE__*/ _interop_require_default(require("../components/NavbarSimple"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
describe('NavbarSimple', ()=>{
    beforeEach(()=>{
        sessionStorage.clear();
        jest.clearAllMocks();
    });
    it('renders Sign In by default (unauthenticated)', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_NavbarSimple.default, {}));
        expect(_react1.screen.getByText('Sign In')).toBeInTheDocument();
    });
    it('renders Dashboard when persisted auth is set in sessionStorage', ()=>{
        sessionStorage.setItem('navbar-auth-state', JSON.stringify({
            isAuthenticated: true,
            isLoading: false
        }));
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_NavbarSimple.default, {}));
        expect(_react1.screen.getByText('Dashboard')).toBeInTheDocument();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hLmZvdWFkL1NpZGVQcm9qZWN0cy9FbHphdG9uYS1hbGwvRWx6YXRvbmEtd2ViL2FwcHMvd2Vic2l0ZS9zcmMvX190ZXN0c19fL25hdmJhci1zaW1wbGUudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdjEuMSAtIEZpeGVkIHRlc3Qgd2l0aCBwcm9wZXIgbW9ja3NcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0ICdAdGVzdGluZy1saWJyYXJ5L2plc3QtZG9tJztcbmltcG9ydCBOYXZiYXJTaW1wbGUgZnJvbSAnQC9jb21wb25lbnRzL05hdmJhclNpbXBsZSc7XG5cbi8vIE1vY2sgc2hhcmVkIGNvbnRleHRzIHVzZWQgYnkgTmF2YmFyU2ltcGxlXG5qZXN0Lm1vY2soJ0BlbHphdG9uYS9zaGFyZWQtY29udGV4dHMnLCAoKSA9PiAoe1xuICB1c2VVc2VyVHlwZTogKCkgPT4gKHsgdXNlclR5cGU6ICdndWlkZWQnLCBzZXRVc2VyVHlwZTogamVzdC5mbigpIH0pLFxuICB1c2VNb2JpbGVNZW51OiAoKSA9PiAoeyBzZXRJc01vYmlsZU1lbnVPcGVuOiBqZXN0LmZuKCkgfSksXG4gIHVzZVRoZW1lOiAoKSA9PiAoeyBpc0RhcmtNb2RlOiBmYWxzZSwgdG9nZ2xlRGFya01vZGU6IGplc3QuZm4oKSB9KSxcbiAgdXNlQXV0aDogKCkgPT4gKHtcbiAgICB1c2VyOiBudWxsLFxuICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICBsb2dvdXQ6IGplc3QuZm4oKSxcbiAgfSksXG59KSk7XG5cbi8vIE1vY2sgTGVhcm5pbmdUeXBlQ29udGV4dFxuamVzdC5tb2NrKCdAL2NvbnRleHQvTGVhcm5pbmdUeXBlQ29udGV4dCcsICgpID0+ICh7XG4gIHVzZUxlYXJuaW5nVHlwZTogKCkgPT4gKHtcbiAgICBsZWFybmluZ1R5cGU6ICdndWlkZWQnLFxuICAgIHNldExlYXJuaW5nVHlwZTogamVzdC5mbigpLFxuICB9KSxcbn0pKTtcblxuLy8gTW9jayBOZXh0LmpzIG5hdmlnYXRpb25cbmplc3QubW9jaygnbmV4dC9uYXZpZ2F0aW9uJywgKCkgPT4gKHtcbiAgdXNlUGF0aG5hbWU6ICgpID0+ICcvJyxcbiAgdXNlUm91dGVyOiAoKSA9PiAoeyBwdXNoOiBqZXN0LmZuKCkgfSksXG59KSk7XG5cbi8vIE1vY2sgU3VwYWJhc2UgY2xpZW50XG5qZXN0Lm1vY2soJ0AvbGliL3N1cGFiYXNlLWNsaWVudCcsICgpID0+ICh7XG4gIHN1cGFiYXNlQ2xpZW50OiBudWxsLFxuICBpc1N1cGFiYXNlQXZhaWxhYmxlOiAoKSA9PiBmYWxzZSxcbn0pKTtcblxuLy8gTW9jayBhdXRoIHNlc3Npb25cbmplc3QubW9jaygnQC9saWIvYXV0aC1zZXNzaW9uJywgKCkgPT4gKHtcbiAgY2xlYXJTZXNzaW9uOiBqZXN0LmZuKCksXG59KSk7XG5cbmRlc2NyaWJlKCdOYXZiYXJTaW1wbGUnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGl0KCdyZW5kZXJzIFNpZ24gSW4gYnkgZGVmYXVsdCAodW5hdXRoZW50aWNhdGVkKScsICgpID0+IHtcbiAgICByZW5kZXIoPE5hdmJhclNpbXBsZSAvPik7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NpZ24gSW4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ3JlbmRlcnMgRGFzaGJvYXJkIHdoZW4gcGVyc2lzdGVkIGF1dGggaXMgc2V0IGluIHNlc3Npb25TdG9yYWdlJywgKCkgPT4ge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXG4gICAgICAnbmF2YmFyLWF1dGgtc3RhdGUnLFxuICAgICAgSlNPTi5zdHJpbmdpZnkoeyBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsIGlzTG9hZGluZzogZmFsc2UgfSlcbiAgICApO1xuICAgIHJlbmRlcig8TmF2YmFyU2ltcGxlIC8+KTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRGFzaGJvYXJkJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJ1c2VVc2VyVHlwZSIsInVzZXJUeXBlIiwic2V0VXNlclR5cGUiLCJmbiIsInVzZU1vYmlsZU1lbnUiLCJzZXRJc01vYmlsZU1lbnVPcGVuIiwidXNlVGhlbWUiLCJpc0RhcmtNb2RlIiwidG9nZ2xlRGFya01vZGUiLCJ1c2VBdXRoIiwidXNlciIsImlzQXV0aGVudGljYXRlZCIsImlzTG9hZGluZyIsImxvZ291dCIsInVzZUxlYXJuaW5nVHlwZSIsImxlYXJuaW5nVHlwZSIsInNldExlYXJuaW5nVHlwZSIsInVzZVBhdGhuYW1lIiwidXNlUm91dGVyIiwicHVzaCIsInN1cGFiYXNlQ2xpZW50IiwiaXNTdXBhYmFzZUF2YWlsYWJsZSIsImNsZWFyU2Vzc2lvbiIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsInNlc3Npb25TdG9yYWdlIiwiY2xlYXIiLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJyZW5kZXIiLCJOYXZiYXJTaW1wbGUiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5Il0sIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0M7O0FBTXRDLDRDQUE0QztBQUM1Q0EsS0FBS0MsSUFBSSxDQUFDLDZCQUE2QixJQUFPLENBQUE7UUFDNUNDLGFBQWEsSUFBTyxDQUFBO2dCQUFFQyxVQUFVO2dCQUFVQyxhQUFhSixLQUFLSyxFQUFFO1lBQUcsQ0FBQTtRQUNqRUMsZUFBZSxJQUFPLENBQUE7Z0JBQUVDLHFCQUFxQlAsS0FBS0ssRUFBRTtZQUFHLENBQUE7UUFDdkRHLFVBQVUsSUFBTyxDQUFBO2dCQUFFQyxZQUFZO2dCQUFPQyxnQkFBZ0JWLEtBQUtLLEVBQUU7WUFBRyxDQUFBO1FBQ2hFTSxTQUFTLElBQU8sQ0FBQTtnQkFDZEMsTUFBTTtnQkFDTkMsaUJBQWlCO2dCQUNqQkMsV0FBVztnQkFDWEMsUUFBUWYsS0FBS0ssRUFBRTtZQUNqQixDQUFBO0lBQ0YsQ0FBQTtBQUVBLDJCQUEyQjtBQUMzQkwsS0FBS0MsSUFBSSxDQUFDLGlDQUFpQyxJQUFPLENBQUE7UUFDaERlLGlCQUFpQixJQUFPLENBQUE7Z0JBQ3RCQyxjQUFjO2dCQUNkQyxpQkFBaUJsQixLQUFLSyxFQUFFO1lBQzFCLENBQUE7SUFDRixDQUFBO0FBRUEsMEJBQTBCO0FBQzFCTCxLQUFLQyxJQUFJLENBQUMsbUJBQW1CLElBQU8sQ0FBQTtRQUNsQ2tCLGFBQWEsSUFBTTtRQUNuQkMsV0FBVyxJQUFPLENBQUE7Z0JBQUVDLE1BQU1yQixLQUFLSyxFQUFFO1lBQUcsQ0FBQTtJQUN0QyxDQUFBO0FBRUEsdUJBQXVCO0FBQ3ZCTCxLQUFLQyxJQUFJLENBQUMseUJBQXlCLElBQU8sQ0FBQTtRQUN4Q3FCLGdCQUFnQjtRQUNoQkMscUJBQXFCLElBQU07SUFDN0IsQ0FBQTtBQUVBLG9CQUFvQjtBQUNwQnZCLEtBQUtDLElBQUksQ0FBQyxzQkFBc0IsSUFBTyxDQUFBO1FBQ3JDdUIsY0FBY3hCLEtBQUtLLEVBQUU7SUFDdkIsQ0FBQTs7Ozs7OERBekNrQjt3QkFDYTtRQUN4QjtxRUFDa0I7Ozs7OztBQXdDekJvQixTQUFTLGdCQUFnQjtJQUN2QkMsV0FBVztRQUNUQyxlQUFlQyxLQUFLO1FBQ3BCNUIsS0FBSzZCLGFBQWE7SUFDcEI7SUFFQUMsR0FBRyxnREFBZ0Q7UUFDakRDLElBQUFBLGNBQU0sZ0JBQUMscUJBQUNDLHFCQUFZO1FBQ3BCQyxPQUFPQyxjQUFNLENBQUNDLFNBQVMsQ0FBQyxZQUFZQyxpQkFBaUI7SUFDdkQ7SUFFQU4sR0FBRyxrRUFBa0U7UUFDbkVILGVBQWVVLE9BQU8sQ0FDcEIscUJBQ0FDLEtBQUtDLFNBQVMsQ0FBQztZQUFFMUIsaUJBQWlCO1lBQU1DLFdBQVc7UUFBTTtRQUUzRGlCLElBQUFBLGNBQU0sZ0JBQUMscUJBQUNDLHFCQUFZO1FBQ3BCQyxPQUFPQyxjQUFNLENBQUNDLFNBQVMsQ0FBQyxjQUFjQyxpQkFBaUI7SUFDekQ7QUFDRiJ9