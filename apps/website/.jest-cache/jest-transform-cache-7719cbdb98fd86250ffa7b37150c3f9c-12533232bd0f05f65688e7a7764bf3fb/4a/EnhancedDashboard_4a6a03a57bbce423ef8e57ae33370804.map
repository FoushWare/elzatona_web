{"version":3,"sources":["/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-components/src/lib/common/EnhancedDashboard.tsx"],"sourcesContent":["// v1.0 - Enhanced User Dashboard with Progress Tracking\n'use client';\n\nimport { useEffect, useLayoutEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\n// useUserProgress is not exported from shared-hooks in this workspace build.\n// Provide a safe local fallback that returns empty data to avoid runtime errors.\nconst useUserProgress = () => ({\n  progress: null,\n  dashboardStats: null as any,\n  continueData: null,\n  isLoading: false,\n  error: null as string | null,\n  updateQuestion: async () => {},\n  updateChallenge: async () => {},\n  updateLearningPath: async () => {},\n  updateStreak: async () => {},\n  updatePreferences: async () => {},\n  refreshProgress: async () => {},\n  refreshDashboardStats: async () => {},\n  refreshContinueData: async () => {},\n});\nimport { useAuth } from '@elzatona/shared-contexts';\n\n// Import Supabase client (available in both website and admin apps)\n// Note: This import path assumes this component is used in apps/website\n// For proper architecture, supabaseClient should be injected or moved to shared location\nimport {\n  supabaseClient as supabase,\n  isSupabaseAvailable,\n} from '../../../../../apps/website/src/lib/supabase-client';\n\nimport {\n  BookOpen,\n  Code,\n  Target,\n  Clock,\n  Zap,\n  BarChart3,\n  CheckCircle,\n  Loader2,\n  LogOut,\n  Settings,\n  Trophy,\n  Star,\n  Play,\n  ArrowRight,\n  Timer,\n  Flame,\n  Medal,\n  ChevronRight,\n  FolderOpen,\n  Activity,\n  RefreshCw,\n} from 'lucide-react';\n\ninterface DashboardCard {\n  id: string;\n  title: string;\n  description: string;\n  icon: React.ComponentType<{ className?: string }>;\n  color: string;\n  href: string;\n  stats: string;\n  progress?: number;\n}\n\ninterface RecentActivity {\n  id: string;\n  type: 'question' | 'challenge' | 'path';\n  title: string;\n  time: string;\n  points: number;\n  icon: React.ComponentType<{ className?: string }>;\n  color: string;\n}\n\ninterface DashboardStats {\n  questionsCompleted: number;\n  totalPoints: number;\n  dayStreak: number;\n  longestStreak: number;\n  achievements: Array<{\n    id: string;\n    name: string;\n    description: string;\n    unlockedAt: string;\n  }>;\n}\n\nexport default function EnhancedDashboard() {\n  const { user, logout } = useAuth();\n  const router = useRouter();\n  const {\n    progress,\n    dashboardStats: oldDashboardStats,\n    continueData,\n    isLoading,\n    error,\n    refreshProgress,\n    refreshDashboardStats,\n  } = useUserProgress();\n\n  const [showStats, setShowStats] = useState(true);\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  const [isSigningOut, setIsSigningOut] = useState(false);\n  const [plans, setPlans] = useState<{ id: string; name: string }[]>([]);\n  const [dashboardStats, setDashboardStats] = useState<DashboardStats | null>(\n    null\n  );\n  const [statsLoading, setStatsLoading] = useState(true);\n  const [statsError, setStatsError] = useState<string | null>(null);\n\n  // Dashboard cards with real progress data\n  const dashboardCards: DashboardCard[] = [\n    {\n      id: 'guided-learning',\n      title: 'Guided Learning',\n      description: 'Follow structured, time-based plans (1‚Äì7 days)',\n      icon: Target,\n      color: 'from-indigo-500 to-purple-600',\n      href: '/features/guided-learning',\n      stats: 'Structured plans with cards and progress',\n      progress: undefined,\n    },\n    {\n      id: 'free-style',\n      title: 'Free Style Learning',\n      description: 'Explore topics at your own pace with a custom roadmap',\n      icon: Zap,\n      color: 'from-emerald-500 to-teal-600',\n      href: '/browse-practice-questions',\n      stats: 'Browse learning paths and topics',\n      progress: undefined,\n    },\n    {\n      id: 'my-plans',\n      title: 'My Plans',\n      description: 'View and manage your custom learning plans',\n      icon: FolderOpen,\n      color: 'from-purple-500 to-pink-600',\n      href: '/my-plans',\n      stats: 'Your personalized learning plans',\n      progress: undefined,\n    },\n    {\n      id: 'flashcards',\n      title: 'Flashcards',\n      description: 'Review questions you saved from practice',\n      icon: BookOpen,\n      color: 'from-amber-500 to-rose-600',\n      href: '/flashcards',\n      stats: 'Revise weak points efficiently',\n      progress: undefined,\n    },\n    {\n      id: 'questions',\n      title: 'Practice Questions',\n      description: 'Continue practicing frontend questions',\n      icon: BookOpen,\n      color: 'from-blue-500 to-blue-600',\n      href: '/questions',\n      stats: `${(progress as any)?.total_questions_answered || 0} completed`,\n      progress: (dashboardStats as any)?.accuracy || 0,\n    },\n    // Learning Paths card removed per product decision\n    {\n      id: 'challenges',\n      title: 'Coding Challenges',\n      description: 'Solve real coding problems',\n      icon: Code,\n      color: 'from-green-500 to-green-600',\n      href: '/challenges',\n      stats: `${0} challenges solved`,\n      progress: (dashboardStats as any)?.accuracy || 0,\n    },\n    {\n      id: 'analytics',\n      title: 'Progress Analytics',\n      description: 'View your learning progress',\n      icon: BarChart3,\n      color: 'from-orange-500 to-orange-600',\n      href: '/progress',\n      stats: `${Math.round(oldDashboardStats?.accuracy || 0)}% accuracy rate`,\n    },\n  ];\n\n  // Check for pending browse practice questions intent after login\n  // Use useLayoutEffect to run synchronously before paint to catch redirects early\n  useLayoutEffect(() => {\n    // Only run on client side\n    if (typeof window === 'undefined') return;\n\n    try {\n      // Check localStorage flags immediately (before any auth checks)\n      const pendingBrowseIntent = localStorage.getItem(\n        'pending_browse_practice_questions_intent'\n      );\n      const pendingRoadmapIntent = localStorage.getItem(\n        'pending_custom_roadmap_intent'\n      );\n\n      console.log(\n        'üîç Dashboard (useLayoutEffect): Checking for pending intents...'\n      );\n      console.log(\n        'üîç Dashboard: pending_browse_practice_questions_intent =',\n        pendingBrowseIntent\n      );\n      console.log(\n        'üîç Dashboard: pending_custom_roadmap_intent =',\n        pendingRoadmapIntent\n      );\n\n      // If we have a flag, redirect immediately - don't wait for anything\n      if (pendingBrowseIntent === 'true' || pendingRoadmapIntent === 'true') {\n        console.log(\n          '‚úÖ Dashboard: Found pending intent, redirecting to /custom-roadmap...'\n        );\n\n        // Clean up localStorage values immediately after reading them\n        try {\n          localStorage.removeItem('pending_browse_practice_questions_intent');\n          localStorage.removeItem('pending_custom_roadmap_intent');\n          console.log(\n            'üßπ Dashboard: Cleared pending intent flags from localStorage'\n          );\n        } catch (e) {\n          console.warn('‚ö†Ô∏è Dashboard: Error clearing localStorage flags:', e);\n        }\n\n        // Use a small delay to ensure component can render loading state first\n        setTimeout(() => {\n          window.location.href = '/custom-roadmap';\n        }, 50);\n        return;\n      }\n\n      console.log('‚ÑπÔ∏è Dashboard: No pending intents found');\n    } catch (error) {\n      console.error('‚ùå Error checking pending intents:', error);\n    }\n  }, [router]); // Include router in deps\n\n  // Also check in useEffect as a backup (in case useLayoutEffect didn't catch it)\n  useEffect(() => {\n    // Only run on client side\n    if (typeof window === 'undefined') return;\n\n    const checkAndRedirect = () => {\n      try {\n        const pendingBrowseIntent = localStorage.getItem(\n          'pending_browse_practice_questions_intent'\n        );\n        const pendingRoadmapIntent = localStorage.getItem(\n          'pending_custom_roadmap_intent'\n        );\n\n        if (pendingBrowseIntent === 'true' || pendingRoadmapIntent === 'true') {\n          console.log(\n            '‚úÖ Dashboard (useEffect backup): Found pending intent, redirecting to /custom-roadmap...'\n          );\n\n          // Clean up localStorage values immediately after reading them\n          try {\n            localStorage.removeItem('pending_browse_practice_questions_intent');\n            localStorage.removeItem('pending_custom_roadmap_intent');\n            console.log(\n              'üßπ Dashboard (useEffect): Cleared pending intent flags from localStorage'\n            );\n          } catch (e) {\n            console.warn(\n              '‚ö†Ô∏è Dashboard (useEffect): Error clearing localStorage flags:',\n              e\n            );\n          }\n\n          // Use a small delay to ensure component can render loading state first\n          setTimeout(() => {\n            window.location.href = '/custom-roadmap';\n          }, 50);\n          return;\n        }\n      } catch (error) {\n        console.error('‚ùå Error in backup redirect check:', error);\n      }\n    };\n\n    // Check immediately\n    checkAndRedirect();\n    // Also check after a short delay as backup (in case localStorage wasn't ready)\n    const timeout = setTimeout(checkAndRedirect, 50);\n\n    return () => clearTimeout(timeout);\n  }, [router]); // Include router in deps\n\n  // Load dashboard stats from API\n  useEffect(() => {\n    const loadDashboardStats = async () => {\n      try {\n        setStatsLoading(true);\n        setStatsError(null);\n\n        // Get auth token from localStorage (for custom auth) or use cookie\n        const authToken = localStorage.getItem('auth-token');\n\n        const headers: HeadersInit = {\n          'Content-Type': 'application/json',\n        };\n\n        if (authToken) {\n          headers['Authorization'] = `Bearer ${authToken}`;\n        }\n\n        const res = await fetch('/api/dashboard/stats', {\n          headers,\n        });\n\n        const json = await res.json();\n\n        if (json.success && json.stats) {\n          setDashboardStats(json.stats);\n          console.log('‚úÖ Dashboard stats loaded:', json.stats);\n        } else {\n          setStatsError(json.error || 'Failed to load dashboard stats');\n          console.warn('‚ö†Ô∏è Dashboard stats API warning:', json.warning);\n        }\n      } catch (e) {\n        console.error('‚ùå Error loading dashboard stats:', e);\n        setStatsError('Failed to load dashboard stats');\n      } finally {\n        setStatsLoading(false);\n      }\n    };\n\n    loadDashboardStats();\n  }, []);\n\n  // Load available guided-learning plans from API\n  useEffect(() => {\n    const loadPlans = async () => {\n      try {\n        const res = await fetch('/api/plans');\n        const json = await res.json();\n        if (json?.plans && Array.isArray(json.plans)) {\n          setPlans(json.plans);\n        }\n      } catch (e) {\n        console.warn('Failed to load plans', e);\n      }\n    };\n    loadPlans();\n  }, []);\n\n  // Recent activities from real data\n  const recentActivities: RecentActivity[] =\n    oldDashboardStats?.recentActivity\n      ?.slice(0, 4)\n      .map((activity: any, index: number) => ({\n        id: `activity-${index}`,\n        type: activity.type as 'question' | 'challenge' | 'path',\n        title: activity.description,\n        time: formatTimeAgo(activity.timestamp),\n        points: activity.points,\n        icon:\n          activity.type === 'question'\n            ? CheckCircle\n            : activity.type === 'challenge'\n              ? Trophy\n              : Target,\n        color:\n          activity.type === 'question'\n            ? 'text-green-500'\n            : activity.type === 'challenge'\n              ? 'text-blue-500'\n              : 'text-purple-500',\n      })) || [];\n\n  const handleLogout = async () => {\n    try {\n      setIsSigningOut(true);\n      // Call app context logout (clears any local user state)\n      try {\n        logout();\n      } catch (_) {}\n      // Ensure Supabase session is cleared (for social logins)\n      if (isSupabaseAvailable() && supabase) {\n        try {\n          await supabase.auth.signOut();\n        } catch (_) {}\n      }\n      // Clear storage and redirect\n      try {\n        sessionStorage.clear();\n      } catch (_) {}\n      try {\n        localStorage.clear();\n      } catch (_) {}\n      router.push('/');\n    } finally {\n      setIsSigningOut(false);\n    }\n  };\n\n  const handleRefresh = async () => {\n    setIsRefreshing(true);\n    try {\n      // Refresh both old progress and new dashboard stats\n      await Promise.all([\n        refreshProgress?.() || Promise.resolve(),\n        refreshDashboardStats?.() || Promise.resolve(),\n        // Also refresh new dashboard stats\n        (async () => {\n          try {\n            const authToken = localStorage.getItem('auth-token');\n            const headers: HeadersInit = {\n              'Content-Type': 'application/json',\n            };\n            if (authToken) {\n              headers['Authorization'] = `Bearer ${authToken}`;\n            }\n            const res = await fetch('/api/dashboard/stats', { headers });\n            const json = await res.json();\n            if (json.success && json.stats) {\n              setDashboardStats(json.stats);\n            }\n          } catch (e) {\n            console.error('Error refreshing dashboard stats:', e);\n          }\n        })(),\n      ]);\n    } catch (error) {\n      console.error('Error refreshing dashboard:', error);\n    } finally {\n      setIsRefreshing(false);\n    }\n  };\n\n  const formatTimeAgo = (timestamp: string): string => {\n    const now = new Date();\n    const time = new Date(timestamp);\n    const diffInSeconds = Math.floor((now.getTime() - time.getTime()) / 1000);\n\n    if (diffInSeconds < 60) return 'Just now';\n    if (diffInSeconds < 3600)\n      return `${Math.floor(diffInSeconds / 60)} minutes ago`;\n    if (diffInSeconds < 86400)\n      return `${Math.floor(diffInSeconds / 3600)} hours ago`;\n    return `${Math.floor(diffInSeconds / 86400)} days ago`;\n  };\n\n  const formatTimeSpent = (minutes: number): string => {\n    if (minutes < 60) return `${minutes}m`;\n    const hours = Math.floor(minutes / 60);\n    const remainingMinutes = minutes % 60;\n    return `${hours}h ${remainingMinutes}m`;\n  };\n\n  // Show loading state\n  if (isLoading) {\n    return (\n      <div className='min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center'>\n        <div className='text-center'>\n          <Loader2 className='w-8 h-8 animate-spin text-blue-600 dark:text-blue-400 mx-auto mb-4' />\n          <p className='text-gray-700 dark:text-gray-300'>\n            Loading your dashboard...\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  // Show error screen for any error (including timeouts) if we don't have progress data\n  if (error && !progress) {\n    return (\n      <div className='min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center'>\n        <div className='text-center'>\n          <div className='text-red-500 mb-4'>‚ö†Ô∏è</div>\n          <p className='text-red-600 mb-4'>{error}</p>\n          <button\n            onClick={handleRefresh}\n            className='px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors'\n          >\n            Try Again\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // If we have an error but also have progress data, show a warning banner\n  if (error && progress) {\n    console.log('Showing dashboard with real data despite error:', error);\n  }\n\n  return (\n    <div className='min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900'>\n      <div className='container mx-auto px-4 py-8'>\n        {/* Error Warning Banner - only show if we have real data but there's an error */}\n        {error && progress && (\n          <div className='mb-6 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4'>\n            <div className='flex items-center'>\n              <div className='text-yellow-600 dark:text-yellow-400 mr-3'>\n                ‚ö†Ô∏è\n              </div>\n              <div className='flex-1'>\n                <p className='text-yellow-800 dark:text-yellow-200 text-sm'>\n                  Some data may not be fully loaded. {error}\n                </p>\n              </div>\n              <button\n                onClick={handleRefresh}\n                className='ml-3 px-3 py-1 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700 transition-colors'\n              >\n                Retry\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Header */}\n        <div className='flex flex-col md:flex-row md:items-center md:justify-between mb-8'>\n          <div>\n            <h1 className='text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-2'>\n              Welcome back, {user?.name || 'Developer'}! üëã\n            </h1>\n            <p className='text-gray-600 dark:text-gray-400'>\n              Ready to continue your frontend development journey?\n            </p>\n          </div>\n\n          {/* User Actions */}\n          <div className='flex items-center space-x-3 mt-4 md:mt-0'>\n            <button\n              onClick={handleRefresh}\n              disabled={isRefreshing}\n              className='p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors disabled:opacity-50'\n              title='Refresh Dashboard'\n            >\n              <RefreshCw\n                className={`w-5 h-5 ${isRefreshing ? 'animate-spin' : ''}`}\n              />\n            </button>\n            <button className='p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors'>\n              <Settings className='w-5 h-5' />\n            </button>\n            <button\n              onClick={handleLogout}\n              disabled={isSigningOut}\n              className={`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${\n                isSigningOut\n                  ? 'bg-red-400 cursor-not-allowed'\n                  : 'bg-red-500 hover:bg-red-600 text-white'\n              }`}\n            >\n              <LogOut className='w-4 h-4' />\n              <span>{isSigningOut ? 'Signing out‚Ä¶' : 'Sign Out'}</span>\n            </button>\n          </div>\n        </div>\n\n        {/* Continue Where You Left Off */}\n        {(continueData as any)?.recentPath && (\n          <div className='mb-8'>\n            <div className='bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-6 text-white'>\n              <div className='flex items-center justify-between mb-4'>\n                <h2 className='text-2xl font-bold flex items-center'>\n                  <Play className='w-6 h-6 mr-2' />\n                  Continue Where You Left Off\n                </h2>\n                <span className='text-blue-200 text-sm'>\n                  {formatTimeAgo((continueData as any).recentPath.lastAccessed)}\n                </span>\n              </div>\n              <div className='flex items-center justify-between'>\n                <div>\n                  <h3 className='text-xl font-semibold mb-2'>\n                    {(continueData as any).recentPath.pathName}\n                  </h3>\n                  <p className='text-blue-100 mb-3'>\n                    {(continueData as any).recentPath.completedSections.length}{' '}\n                    sections completed\n                  </p>\n                  <div className='flex items-center space-x-4 text-sm text-blue-200'>\n                    <span className='flex items-center'>\n                      <Timer className='w-4 h-4 mr-1' />\n                      {formatTimeSpent(\n                        (continueData as any).recentPath.timeSpent\n                      )}\n                    </span>\n                    <span className='flex items-center'>\n                      <Target className='w-4 h-4 mr-1' />\n                      {(continueData as any).recentPath.progress}% complete\n                    </span>\n                  </div>\n                </div>\n                <Link\n                  href={`/learning-paths/${(continueData as any).recentPath.pathId}`}\n                  className='flex items-center space-x-2 px-6 py-3 bg-white text-blue-600 rounded-xl hover:bg-blue-50 transition-colors font-semibold'\n                >\n                  <span>Continue</span>\n                  <ArrowRight className='w-4 h-4' />\n                </Link>\n              </div>\n              <div className='mt-4'>\n                <div className='w-full bg-blue-500/30 rounded-full h-2'>\n                  <div\n                    className='bg-white h-2 rounded-full transition-all duration-500'\n                    style={{\n                      width: `${(continueData as any).recentPath.progress}%`,\n                    }}\n                  ></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Statistics Section */}\n        <div className='mb-8'>\n          <div className='flex items-center justify-between mb-4'>\n            <h2 className='text-2xl font-bold text-gray-900 dark:text-white'>\n              Your Progress\n            </h2>\n            <button\n              onClick={() => setShowStats(!showStats)}\n              className='md:hidden px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors'\n            >\n              {showStats ? 'Hide Stats' : 'Show Stats'}\n            </button>\n          </div>\n\n          {showStats && (\n            <div className='grid md:grid-cols-4 gap-6'>\n              <div className='bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700'>\n                <div className='flex items-center justify-between'>\n                  <div>\n                    <div className='text-2xl font-bold text-blue-600'>\n                      {statsLoading ? (\n                        <Loader2 className='w-6 h-6 animate-spin inline-block' />\n                      ) : (\n                        (dashboardStats?.questionsCompleted ??\n                        (progress as any)?.total_questions_answered ??\n                        0)\n                      )}\n                    </div>\n                    <div className='text-gray-600 dark:text-gray-400'>\n                      Questions Completed\n                    </div>\n                  </div>\n                  <BookOpen className='w-8 h-8 text-blue-500' />\n                </div>\n              </div>\n\n              <div className='bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700'>\n                <div className='flex items-center justify-between'>\n                  <div>\n                    <div className='text-2xl font-bold text-purple-600'>\n                      {statsLoading ? (\n                        <Loader2 className='w-6 h-6 animate-spin inline-block' />\n                      ) : (\n                        (dashboardStats?.totalPoints ??\n                        (progress as any)?.total_points ??\n                        0)\n                      )}\n                    </div>\n                    <div className='text-gray-600 dark:text-gray-400'>\n                      Total Points\n                    </div>\n                  </div>\n                  <Star className='w-8 h-8 text-purple-500' />\n                </div>\n              </div>\n\n              <div className='bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700'>\n                <div className='flex items-center justify-between'>\n                  <div>\n                    <div className='text-2xl font-bold text-green-600'>\n                      {statsLoading ? (\n                        <Loader2 className='w-6 h-6 animate-spin inline-block' />\n                      ) : (\n                        (dashboardStats?.dayStreak ??\n                        (progress as any)?.current_streak ??\n                        0)\n                      )}\n                    </div>\n                    <div className='text-gray-600 dark:text-gray-400'>\n                      Day Streak\n                    </div>\n                  </div>\n                  <Flame className='w-8 h-8 text-green-500' />\n                </div>\n              </div>\n\n              <div className='bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700'>\n                <div className='flex items-center justify-between'>\n                  <div>\n                    <div className='text-2xl font-bold text-orange-600'>\n                      {statsLoading ? (\n                        <Loader2 className='w-6 h-6 animate-spin inline-block' />\n                      ) : (\n                        (dashboardStats?.achievements?.length ??\n                        (progress as any)?.achievements?.length ??\n                        0)\n                      )}\n                    </div>\n                    <div className='text-gray-600 dark:text-gray-400'>\n                      Achievements\n                    </div>\n                  </div>\n                  <Medal className='w-8 h-8 text-orange-500' />\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Dashboard Cards */}\n        <div className='grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8'>\n          {dashboardCards.map(card => (\n            <Link\n              key={card.id}\n              href={card.href}\n              className='group bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300 hover:scale-105'\n            >\n              <div\n                className={`w-16 h-16 bg-gradient-to-r ${card.color} rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-200`}\n              >\n                <card.icon className='w-8 h-8 text-white' />\n              </div>\n              <h3 className='text-xl font-bold text-gray-900 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors'>\n                {card.title}\n              </h3>\n              <p className='text-gray-600 dark:text-gray-400 mb-3'>\n                {card.description}\n              </p>\n              <div className='text-sm text-blue-600 dark:text-blue-400 font-medium mb-2'>\n                {card.stats}\n              </div>\n              {card.progress !== undefined && (\n                <div className='w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2'>\n                  <div\n                    className='bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-500'\n                    style={{ width: `${card.progress}%` }}\n                  ></div>\n                </div>\n              )}\n            </Link>\n          ))}\n        </div>\n\n        {/* Guided Plans & Recommendations */}\n        <div className='grid lg:grid-cols-2 gap-8'>\n          {/* Available Guided Plans (1‚Äì7 days) */}\n          <div className='bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700'>\n            <h3 className='text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center'>\n              <Target className='w-5 h-5 mr-2 text-purple-500' />\n              Guided Learning Plans\n            </h3>\n            {plans.length > 0 ? (\n              <div className='grid sm:grid-cols-2 gap-4'>\n                {plans.map(p => (\n                  <Link\n                    key={p.id}\n                    href={`/features/guided-learning/${p.id}`}\n                    className='block p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-purple-300 dark:hover:border-purple-600 transition-colors'\n                  >\n                    <div className='flex items-center justify-between'>\n                      <div className='font-semibold text-gray-900 dark:text-white'>\n                        {p.name}\n                      </div>\n                      <ChevronRight className='w-5 h-5 text-gray-400' />\n                    </div>\n                  </Link>\n                ))}\n              </div>\n            ) : (\n              <div className='text-gray-500 dark:text-gray-400'>\n                No plans found.\n              </div>\n            )}\n          </div>\n\n          {/* Recent Activities */}\n          <div className='bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700'>\n            <h3 className='text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center'>\n              <Activity className='w-5 h-5 mr-2 text-blue-500' />\n              Recent Activities\n            </h3>\n            <div className='space-y-4'>\n              {recentActivities.length > 0 ? (\n                recentActivities.map(activity => (\n                  <div\n                    key={activity.id}\n                    className='flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors'\n                  >\n                    <div className='w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center'>\n                      <activity.icon className={`w-5 h-5 ${activity.color}`} />\n                    </div>\n                    <div className='flex-1'>\n                      <div className='font-medium text-gray-900 dark:text-white'>\n                        {activity.title}\n                      </div>\n                      <div className='text-sm text-gray-500 dark:text-gray-400'>\n                        {activity.time}\n                      </div>\n                    </div>\n                    <div className='text-sm font-bold text-green-600'>\n                      +{activity.points}\n                    </div>\n                  </div>\n                ))\n              ) : (\n                <div className='text-center py-8 text-gray-500 dark:text-gray-400'>\n                  <Activity className='w-12 h-12 mx-auto mb-4 opacity-50' />\n                  <p>No recent activities yet</p>\n                  <p className='text-sm'>\n                    Start learning to see your progress here!\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["EnhancedDashboard","useUserProgress","progress","dashboardStats","continueData","isLoading","error","updateQuestion","updateChallenge","updateLearningPath","updateStreak","updatePreferences","refreshProgress","refreshDashboardStats","refreshContinueData","user","logout","useAuth","router","useRouter","oldDashboardStats","showStats","setShowStats","useState","isRefreshing","setIsRefreshing","isSigningOut","setIsSigningOut","plans","setPlans","setDashboardStats","statsLoading","setStatsLoading","statsError","setStatsError","dashboardCards","id","title","description","icon","Target","color","href","stats","undefined","Zap","FolderOpen","BookOpen","total_questions_answered","accuracy","Code","BarChart3","Math","round","useLayoutEffect","window","pendingBrowseIntent","localStorage","getItem","pendingRoadmapIntent","console","log","removeItem","e","warn","setTimeout","location","useEffect","checkAndRedirect","timeout","clearTimeout","loadDashboardStats","authToken","headers","res","fetch","json","success","warning","loadPlans","Array","isArray","recentActivities","recentActivity","slice","map","activity","index","type","time","formatTimeAgo","timestamp","points","CheckCircle","Trophy","handleLogout","_","isSupabaseAvailable","supabase","auth","signOut","sessionStorage","clear","push","handleRefresh","Promise","all","resolve","now","Date","diffInSeconds","floor","getTime","formatTimeSpent","minutes","hours","remainingMinutes","div","className","Loader2","p","button","onClick","h1","name","disabled","RefreshCw","Settings","LogOut","span","recentPath","h2","Play","lastAccessed","h3","pathName","completedSections","length","Timer","timeSpent","Link","pathId","ArrowRight","style","width","questionsCompleted","totalPoints","total_points","Star","dayStreak","current_streak","Flame","achievements","Medal","card","ChevronRight","Activity"],"mappings":"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"}