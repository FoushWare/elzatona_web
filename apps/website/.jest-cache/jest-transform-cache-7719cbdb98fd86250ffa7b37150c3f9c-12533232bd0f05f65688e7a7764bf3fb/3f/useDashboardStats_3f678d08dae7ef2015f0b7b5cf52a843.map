{"version":3,"sources":["/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-hooks/src/lib/hooks/useDashboardStats.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\n\ninterface DashboardStats {\n  questions: number;\n  categories: number;\n  topics: number;\n  cards: number;\n  learningPlans: number;\n  admins: number;\n  totalTasks: number;\n  lastUpdated: string;\n}\n\ninterface DashboardStatsResponse {\n  success: boolean;\n  data?: DashboardStats;\n  error?: string;\n}\n\nexport function useDashboardStats() {\n  const [stats, setStats] = useState<DashboardStats>({\n    questions: 0,\n    categories: 0,\n    topics: 0,\n    cards: 0,\n    learningPlans: 0,\n    admins: 0,\n    totalTasks: 0,\n    lastUpdated: new Date().toISOString(),\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchStats = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const response = await fetch('/api/admin/dashboard-stats');\n      const result: DashboardStatsResponse = await response.json();\n\n      if (result.success && result.data) {\n        setStats(result.data);\n      } else {\n        setError(result.error || 'Failed to fetch dashboard stats');\n      }\n    } catch (err) {\n      setError('Network error while fetching dashboard stats');\n      console.error('Dashboard stats fetch error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchStats();\n  }, []);\n\n  return {\n    stats,\n    loading,\n    error,\n    refetch: fetchStats,\n  };\n}\n"],"names":["useDashboardStats","stats","setStats","useState","questions","categories","topics","cards","learningPlans","admins","totalTasks","lastUpdated","Date","toISOString","loading","setLoading","error","setError","fetchStats","response","fetch","result","json","success","data","err","console","useEffect","refetch"],"mappings":";;;;+BAmBgBA;;;eAAAA;;;uBAnBoB;AAmB7B,SAASA;IACd,MAAM,CAACC,OAAOC,SAAS,GAAGC,IAAAA,eAAQ,EAAiB;QACjDC,WAAW;QACXC,YAAY;QACZC,QAAQ;QACRC,OAAO;QACPC,eAAe;QACfC,QAAQ;QACRC,YAAY;QACZC,aAAa,IAAIC,OAAOC,WAAW;IACrC;IACA,MAAM,CAACC,SAASC,WAAW,GAAGZ,IAAAA,eAAQ,EAAC;IACvC,MAAM,CAACa,OAAOC,SAAS,GAAGd,IAAAA,eAAQ,EAAgB;IAElD,MAAMe,aAAa;QACjB,IAAI;YACFH,WAAW;YACXE,SAAS;YAET,MAAME,WAAW,MAAMC,MAAM;YAC7B,MAAMC,SAAiC,MAAMF,SAASG,IAAI;YAE1D,IAAID,OAAOE,OAAO,IAAIF,OAAOG,IAAI,EAAE;gBACjCtB,SAASmB,OAAOG,IAAI;YACtB,OAAO;gBACLP,SAASI,OAAOL,KAAK,IAAI;YAC3B;QACF,EAAE,OAAOS,KAAK;YACZR,SAAS;YACTS,QAAQV,KAAK,CAAC,gCAAgCS;QAChD,SAAU;YACRV,WAAW;QACb;IACF;IAEAY,IAAAA,gBAAS,EAAC;QACRT;IACF,GAAG,EAAE;IAEL,OAAO;QACLjB;QACAa;QACAE;QACAY,SAASV;IACX;AACF"}