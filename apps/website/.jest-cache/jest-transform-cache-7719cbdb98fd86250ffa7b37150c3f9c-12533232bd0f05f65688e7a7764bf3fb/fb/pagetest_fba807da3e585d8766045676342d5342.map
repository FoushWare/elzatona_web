{"version":3,"sources":["/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/admin/problem-solving/page.test.tsx"],"sourcesContent":["/**\n * Unit Tests for Admin Problem Solving (A-UT-017)\n * Task: A-006 - Admin Problem Solving\n */\n\nimport React from 'react';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport ProblemSolvingAdminPage from './page';\n\n// Mock TanStack Query hooks\nconst mockTasksData = { data: [] };\n\njest.mock('@elzatona/shared-hooks', () => ({\n  useProblemSolvingTasks: jest.fn(() => ({\n    data: mockTasksData,\n    isLoading: false,\n    error: null,\n  })),\n  useCreateProblemSolvingTask: jest.fn(() => ({\n    mutateAsync: jest.fn(),\n    isPending: false,\n  })),\n  useUpdateProblemSolvingTask: jest.fn(() => ({\n    mutateAsync: jest.fn(),\n    isPending: false,\n  })),\n  useDeleteProblemSolvingTask: jest.fn(() => ({\n    mutateAsync: jest.fn(),\n    isPending: false,\n  })),\n}));\n\njest.mock('@elzatona/shared-components', () => ({\n  ProblemSolvingEditor: ({ onSave, onCancel }: any) => (\n    <div data-testid=\"problem-solving-editor\">\n      <button onClick={() => onSave({})}>Save</button>\n      <button onClick={onCancel}>Cancel</button>\n    </div>\n  ),\n  ClientCodeRunner: () => <div data-testid=\"code-runner\">Code Runner</div>,\n}));\n\njest.mock('lucide-react', () => ({\n  Plus: () => <span>+</span>,\n  Edit: () => <span>‚úèÔ∏è</span>,\n  Trash2: () => <span>üóëÔ∏è</span>,\n  Eye: () => <span>üëÅÔ∏è</span>,\n  Search: () => <span>üîç</span>,\n  Play: () => <span>‚ñ∂Ô∏è</span>,\n  Code: () => <span>üíª</span>,\n}));\n\nwindow.confirm = jest.fn(() => true);\nwindow.alert = jest.fn();\n\ndescribe('A-UT-017: Component Renders', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it('should render without errors', () => {\n    const { container } = render(<ProblemSolvingAdminPage />);\n    expect(container).toBeInTheDocument();\n  });\n\n  it('should display page header', () => {\n    render(<ProblemSolvingAdminPage />);\n    expect(screen.getByText(/.*/)).toBeTruthy();\n  });\n});\n\ndescribe('A-UT-SNAPSHOT: Admin Problem Solving Snapshot Tests', () => {\n  it('should match admin problem solving page snapshot', () => {\n    const { container } = render(<ProblemSolvingAdminPage />);\n    expect(container.firstChild).toMatchSnapshot();\n  });\n\n  it('should match admin problem solving page snapshot (loading state)', () => {\n    const { useProblemSolvingTasks } = require('@elzatona/shared-hooks');\n    useProblemSolvingTasks.mockReturnValue({\n      data: null,\n      isLoading: true,\n      error: null,\n    });\n    \n    const { container } = render(<ProblemSolvingAdminPage />);\n    expect(container.firstChild).toMatchSnapshot();\n  });\n});\n"],"names":["jest","mock","useProblemSolvingTasks","fn","data","mockTasksData","isLoading","error","useCreateProblemSolvingTask","mutateAsync","isPending","useUpdateProblemSolvingTask","useDeleteProblemSolvingTask","ProblemSolvingEditor","onSave","onCancel","div","data-testid","button","onClick","ClientCodeRunner","Plus","span","Edit","Trash2","Eye","Search","Play","Code","window","confirm","alert","describe","beforeEach","clearAllMocks","it","container","render","ProblemSolvingAdminPage","expect","toBeInTheDocument","screen","getByText","toBeTruthy","firstChild","toMatchSnapshot","require","mockReturnValue"],"mappings":"AAAA;;;CAGC;AAUDA,KAAKC,IAAI,CAAC,0BAA0B,IAAO,CAAA;QACzCC,wBAAwBF,KAAKG,EAAE,CAAC,IAAO,CAAA;gBACrCC,MAAMC;gBACNC,WAAW;gBACXC,OAAO;YACT,CAAA;QACAC,6BAA6BR,KAAKG,EAAE,CAAC,IAAO,CAAA;gBAC1CM,aAAaT,KAAKG,EAAE;gBACpBO,WAAW;YACb,CAAA;QACAC,6BAA6BX,KAAKG,EAAE,CAAC,IAAO,CAAA;gBAC1CM,aAAaT,KAAKG,EAAE;gBACpBO,WAAW;YACb,CAAA;QACAE,6BAA6BZ,KAAKG,EAAE,CAAC,IAAO,CAAA;gBAC1CM,aAAaT,KAAKG,EAAE;gBACpBO,WAAW;YACb,CAAA;IACF,CAAA;AAEAV,KAAKC,IAAI,CAAC,+BAA+B,IAAO,CAAA;QAC9CY,sBAAsB,CAAC,EAAEC,MAAM,EAAEC,QAAQ,EAAO,iBAC9C,sBAACC;gBAAIC,eAAY;;kCACf,qBAACC;wBAAOC,SAAS,IAAML,OAAO,CAAC;kCAAI;;kCACnC,qBAACI;wBAAOC,SAASJ;kCAAU;;;;QAG/BK,kBAAkB,kBAAM,qBAACJ;gBAAIC,eAAY;0BAAc;;IACzD,CAAA;AAEAjB,KAAKC,IAAI,CAAC,gBAAgB,IAAO,CAAA;QAC/BoB,MAAM,kBAAM,qBAACC;0BAAK;;QAClBC,MAAM,kBAAM,qBAACD;0BAAK;;QAClBE,QAAQ,kBAAM,qBAACF;0BAAK;;QACpBG,KAAK,kBAAM,qBAACH;0BAAK;;QACjBI,QAAQ,kBAAM,qBAACJ;0BAAK;;QACpBK,MAAM,kBAAM,qBAACL;0BAAK;;QAClBM,MAAM,kBAAM,qBAACN;0BAAK;;IACpB,CAAA;;;;;8DA9CkB;wBACiC;QAC5C;6DAC6B;;;;;;AAEpC,4BAA4B;AAC5B,MAAMjB,gBAAgB;IAAED,MAAM,EAAE;AAAC;AA0CjCyB,OAAOC,OAAO,GAAG9B,KAAKG,EAAE,CAAC,IAAM;AAC/B0B,OAAOE,KAAK,GAAG/B,KAAKG,EAAE;AAEtB6B,SAAS,+BAA+B;IACtCC,WAAW;QACTjC,KAAKkC,aAAa;IACpB;IAEAC,GAAG,gCAAgC;QACjC,MAAM,EAAEC,SAAS,EAAE,GAAGC,IAAAA,cAAM,gBAAC,qBAACC,aAAuB;QACrDC,OAAOH,WAAWI,iBAAiB;IACrC;IAEAL,GAAG,8BAA8B;QAC/BE,IAAAA,cAAM,gBAAC,qBAACC,aAAuB;QAC/BC,OAAOE,cAAM,CAACC,SAAS,CAAC,OAAOC,UAAU;IAC3C;AACF;AAEAX,SAAS,uDAAuD;IAC9DG,GAAG,oDAAoD;QACrD,MAAM,EAAEC,SAAS,EAAE,GAAGC,IAAAA,cAAM,gBAAC,qBAACC,aAAuB;QACrDC,OAAOH,UAAUQ,UAAU,EAAEC,eAAe;IAC9C;IAEAV,GAAG,oEAAoE;QACrE,MAAM,EAAEjC,sBAAsB,EAAE,GAAG4C,QAAQ;QAC3C5C,uBAAuB6C,eAAe,CAAC;YACrC3C,MAAM;YACNE,WAAW;YACXC,OAAO;QACT;QAEA,MAAM,EAAE6B,SAAS,EAAE,GAAGC,IAAAA,cAAM,gBAAC,qBAACC,aAAuB;QACrDC,OAAOH,UAAUQ,UAAU,EAAEC,eAAe;IAC9C;AACF"}