{"version":3,"sources":["/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/tests/admin/admin-ui-components.test.tsx"],"sourcesContent":["/**\n * Admin UI Component Tests\n *\n * Comprehensive tests for admin page components:\n * - Content Management Page\n * - Questions Page\n * - Frontend Tasks Page\n * - Problem Solving Page\n * - Dashboard Page\n */\n\nimport React from 'react';\nimport { render, screen, waitFor } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\n\n// Mock TanStack Query\njest.mock('@tanstack/react-query', () => ({\n  useQuery: jest.fn(),\n  useMutation: jest.fn(),\n  useQueryClient: jest.fn(() => ({\n    invalidateQueries: jest.fn(),\n  })),\n}));\n\n// Mock Next.js router\njest.mock('next/navigation', () => ({\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    prefetch: jest.fn(),\n  }),\n  useSearchParams: () => new URLSearchParams(),\n  usePathname: () => '/admin/content-management',\n}));\n\n// Set up environment variables before any imports\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://test.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'test-anon-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'test-service-role-key';\n\n// Mock Supabase before any imports\njest.mock('@supabase/supabase-js', () => ({\n  createClient: jest.fn(() => ({\n    from: jest.fn(() => ({\n      select: jest.fn(() => ({\n        eq: jest.fn().mockResolvedValue({ data: null, error: null }),\n      })),\n    })),\n  })),\n}));\n\n// Mock nuqs before any imports\njest.mock('nuqs', () => ({\n  useQueryState: jest.fn(() => [null, jest.fn()]),\n  useQueryStates: jest.fn(() => [{}, jest.fn()]),\n  parseAsString: jest.fn(),\n  parseAsInteger: jest.fn(),\n  createSearchParamsCache: jest.fn(),\n}));\n\n// Mock admin auth context - use correct import path\njest.mock('@elzatona/shared-contexts', () => {\n  // eslint-disable-next-line @typescript-eslint/no-require-imports\n  const React = require('react');\n  return {\n    AdminAuthProvider: ({ children }: { children: React.ReactNode }) => (\n      <>{children}</>\n    ),\n    useAdminAuth: jest.fn(() => ({\n      isAuthenticated: true,\n      user: { email: 'admin@test.com' },\n      login: jest.fn(),\n      logout: jest.fn(),\n    })),\n    ThemeProvider: ({ children }: { children: React.ReactNode }) => children,\n    useTheme: jest.fn(() => ({\n      isDarkMode: false,\n      toggleDarkMode: jest.fn(),\n    })),\n  };\n});\n\ndescribe('Admin UI Component Tests', () => {\n  // eslint-disable-next-line @typescript-eslint/no-require-imports\n  const mockUseQuery = require('@tanstack/react-query').useQuery;\n  // eslint-disable-next-line @typescript-eslint/no-require-imports\n  const mockUseMutation = require('@tanstack/react-query').useMutation;\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n\n    // Default mock for useQuery\n    mockUseQuery.mockReturnValue({\n      data: { data: [] },\n      isLoading: false,\n      error: null,\n      refetch: jest.fn(),\n    });\n\n    // Default mock for useMutation\n    mockUseMutation.mockReturnValue({\n      mutate: jest.fn(),\n      isLoading: false,\n      error: null,\n      isSuccess: false,\n    });\n  });\n\n  describe('Content Management Page', () => {\n    it('should render content management page with loading state', async () => {\n      mockUseQuery.mockReturnValue({\n        data: undefined,\n        isLoading: true,\n        error: null,\n      });\n\n      const ContentManagementPage = (\n        await import('@/app/admin/content-management/page')\n      ).default;\n      render(<ContentManagementPage />);\n\n      expect(\n        screen.getByText('Loading unified admin data...')\n      ).toBeInTheDocument();\n    });\n\n    it('should render content management page with data', async () => {\n      const mockCards = [\n        {\n          id: 'core-technologies',\n          name: 'Core Technologies',\n          type: 'core-technologies',\n          color: 'blue',\n        },\n      ];\n\n      const mockPlans = [\n        {\n          id: 'plan-1-day',\n          name: '1 Day Plan',\n          duration: 1,\n        },\n      ];\n\n      const mockCategories = [\n        {\n          id: 'react',\n          name: 'React',\n          cardType: 'framework-questions',\n        },\n      ];\n\n      const mockTopics = [\n        {\n          id: 'react-hooks',\n          name: 'React Hooks',\n          categoryId: 'react',\n          difficulty: 'intermediate',\n        },\n      ];\n\n      mockUseQuery\n        .mockReturnValueOnce({\n          data: { data: mockCards },\n          isLoading: false,\n          error: null,\n        })\n        .mockReturnValueOnce({\n          data: { data: mockPlans },\n          isLoading: false,\n          error: null,\n        })\n        .mockReturnValueOnce({\n          data: { data: mockCategories },\n          isLoading: false,\n          error: null,\n        })\n        .mockReturnValueOnce({\n          data: { data: mockTopics },\n          isLoading: false,\n          error: null,\n        });\n\n      const ContentManagementPage = (\n        await import('@/app/admin/content-management/page')\n      ).default;\n      render(<ContentManagementPage />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Core Technologies')).toBeInTheDocument();\n        expect(screen.getByText('1 Day Plan')).toBeInTheDocument();\n        expect(screen.getByText('React')).toBeInTheDocument();\n      });\n    });\n\n    it('should handle search functionality', async () => {\n      const mockCards = [\n        { id: 'card-1', name: 'React Basics', type: 'framework-questions' },\n        {\n          id: 'card-2',\n          name: 'JavaScript Fundamentals',\n          type: 'core-technologies',\n        },\n      ];\n\n      mockUseQuery.mockReturnValue({\n        data: { data: mockCards },\n        isLoading: false,\n        error: null,\n      });\n\n      const ContentManagementPage = (\n        await import('@/app/admin/content-management/page')\n      ).default;\n      render(<ContentManagementPage />);\n\n      const searchInput = screen.getByPlaceholderText(/search/i);\n      await userEvent.type(searchInput, 'React');\n\n      await waitFor(() => {\n        expect(screen.getByText('React Basics')).toBeInTheDocument();\n        expect(\n          screen.queryByText('JavaScript Fundamentals')\n        ).not.toBeInTheDocument();\n      });\n    });\n\n    it('should handle filter by card type', async () => {\n      const mockCards = [\n        { id: 'card-1', name: 'React Basics', type: 'framework-questions' },\n        {\n          id: 'card-2',\n          name: 'JavaScript Fundamentals',\n          type: 'core-technologies',\n        },\n      ];\n\n      mockUseQuery.mockReturnValue({\n        data: { data: mockCards },\n        isLoading: false,\n        error: null,\n      });\n\n      const ContentManagementPage = (\n        await import('@/app/admin/content-management/page')\n      ).default;\n      render(<ContentManagementPage />);\n\n      const filterSelect = screen.getByRole('combobox');\n      await userEvent.selectOptions(filterSelect, 'framework-questions');\n\n      await waitFor(() => {\n        expect(screen.getByText('React Basics')).toBeInTheDocument();\n        expect(\n          screen.queryByText('JavaScript Fundamentals')\n        ).not.toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Questions Page', () => {\n    it('should render questions page with data', async () => {\n      const mockQuestions = [\n        {\n          id: 'question-1',\n          question: 'What is React?',\n          type: 'multiple-choice',\n          difficulty: 'beginner',\n          category: 'react',\n          options: ['Library', 'Framework', 'Language'],\n          correctAnswer: 0,\n        },\n      ];\n\n      mockUseQuery\n        .mockReturnValueOnce({\n          data: { data: mockQuestions },\n          isLoading: false,\n          error: null,\n        })\n        .mockReturnValueOnce({\n          data: { data: [] },\n          isLoading: false,\n          error: null,\n        })\n        .mockReturnValueOnce({\n          data: { data: [] },\n          isLoading: false,\n          error: null,\n        });\n\n      const QuestionsPage = (await import('@/app/admin/content/questions/page'))\n        .default;\n      render(<QuestionsPage />);\n\n      await waitFor(() => {\n        expect(screen.getByText('What is React?')).toBeInTheDocument();\n        expect(screen.getByText('beginner')).toBeInTheDocument();\n        expect(screen.getByText('react')).toBeInTheDocument();\n      });\n    });\n\n    it('should handle question creation', async () => {\n      const mockQuestions = [];\n      const mockMutation = jest.fn();\n\n      mockUseQuery.mockReturnValue({\n        data: { data: mockQuestions },\n        isLoading: false,\n        error: null,\n      });\n\n      mockUseMutation.mockReturnValue({\n        mutate: mockMutation,\n        isLoading: false,\n        error: null,\n        isSuccess: false,\n      });\n\n      const QuestionsPage = (await import('@/app/admin/content/questions/page'))\n        .default;\n      render(<QuestionsPage />);\n\n      const addButton = screen.getByText(/add question/i);\n      await userEvent.click(addButton);\n\n      await waitFor(() => {\n        expect(screen.getByText(/create new question/i)).toBeInTheDocument();\n      });\n\n      const questionInput = screen.getByLabelText(/question/i);\n      await userEvent.type(questionInput, 'What is JavaScript?');\n\n      const submitButton = screen.getByText(/create question/i);\n      await userEvent.click(submitButton);\n\n      expect(mockMutation).toHaveBeenCalledWith(\n        expect.objectContaining({\n          question: 'What is JavaScript?',\n        })\n      );\n    });\n\n    it('should handle question editing', async () => {\n      const mockQuestions = [\n        {\n          id: 'question-1',\n          question: 'What is React?',\n          type: 'multiple-choice',\n          difficulty: 'beginner',\n          category: 'react',\n        },\n      ];\n\n      const mockMutation = jest.fn();\n\n      mockUseQuery.mockReturnValue({\n        data: { data: mockQuestions },\n        isLoading: false,\n        error: null,\n      });\n\n      mockUseMutation.mockReturnValue({\n        mutate: mockMutation,\n        isLoading: false,\n        error: null,\n        isSuccess: false,\n      });\n\n      const QuestionsPage = (await import('@/app/admin/content/questions/page'))\n        .default;\n      render(<QuestionsPage />);\n\n      const editButton = screen.getByLabelText(/edit question/i);\n      await userEvent.click(editButton);\n\n      await waitFor(() => {\n        expect(screen.getByDisplayValue('What is React?')).toBeInTheDocument();\n      });\n\n      const questionInput = screen.getByDisplayValue('What is React?');\n      await userEvent.clear(questionInput);\n      await userEvent.type(questionInput, 'What is React library?');\n\n      const saveButton = screen.getByText(/save changes/i);\n      await userEvent.click(saveButton);\n\n      expect(mockMutation).toHaveBeenCalledWith(\n        expect.objectContaining({\n          question: 'What is React library?',\n        })\n      );\n    });\n\n    it('should handle question deletion', async () => {\n      const mockQuestions = [\n        {\n          id: 'question-1',\n          question: 'What is React?',\n          type: 'multiple-choice',\n          difficulty: 'beginner',\n          category: 'react',\n        },\n      ];\n\n      const mockMutation = jest.fn();\n\n      mockUseQuery.mockReturnValue({\n        data: { data: mockQuestions },\n        isLoading: false,\n        error: null,\n      });\n\n      mockUseMutation.mockReturnValue({\n        mutate: mockMutation,\n        isLoading: false,\n        error: null,\n        isSuccess: false,\n      });\n\n      const QuestionsPage = (await import('@/app/admin/content/questions/page'))\n        .default;\n      render(<QuestionsPage />);\n\n      const deleteButton = screen.getByLabelText(/delete question/i);\n      await userEvent.click(deleteButton);\n\n      await waitFor(() => {\n        expect(screen.getByText(/confirm deletion/i)).toBeInTheDocument();\n      });\n\n      const confirmButton = screen.getByText(/delete/i);\n      await userEvent.click(confirmButton);\n\n      expect(mockMutation).toHaveBeenCalledWith('question-1');\n    });\n  });\n\n  describe('Frontend Tasks Page', () => {\n    it('should render frontend tasks page with data', async () => {\n      const mockTasks = [\n        {\n          id: 'task-1',\n          title: 'Build a Todo App',\n          difficulty: 'easy',\n          category: 'react',\n          estimatedTime: 120,\n        },\n      ];\n\n      mockUseQuery.mockReturnValue({\n        data: { data: mockTasks },\n        isLoading: false,\n        error: null,\n      });\n\n      const FrontendTasksPage = (\n        await import('@/app/admin/frontend-tasks/page')\n      ).default;\n      render(<FrontendTasksPage />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Build a Todo App')).toBeInTheDocument();\n        expect(screen.getByText('easy')).toBeInTheDocument();\n        expect(screen.getByText('120 min')).toBeInTheDocument();\n      });\n    });\n\n    it('should handle task creation', async () => {\n      const mockTasks = [];\n      const mockMutation = jest.fn();\n\n      mockUseQuery.mockReturnValue({\n        data: { data: mockTasks },\n        isLoading: false,\n        error: null,\n      });\n\n      mockUseMutation.mockReturnValue({\n        mutate: mockMutation,\n        isLoading: false,\n        error: null,\n        isSuccess: false,\n      });\n\n      const FrontendTasksPage = (\n        await import('@/app/admin/frontend-tasks/page')\n      ).default;\n      render(<FrontendTasksPage />);\n\n      const addButton = screen.getByText(/add task/i);\n      await userEvent.click(addButton);\n\n      await waitFor(() => {\n        expect(screen.getByText(/create new task/i)).toBeInTheDocument();\n      });\n\n      const titleInput = screen.getByLabelText(/title/i);\n      await userEvent.type(titleInput, 'Build a Calculator');\n\n      const submitButton = screen.getByText(/create task/i);\n      await userEvent.click(submitButton);\n\n      expect(mockMutation).toHaveBeenCalledWith(\n        expect.objectContaining({\n          title: 'Build a Calculator',\n        })\n      );\n    });\n  });\n\n  describe('Problem Solving Page', () => {\n    it('should render problem solving page with data', async () => {\n      const mockProblems = [\n        {\n          id: 'problem-1',\n          title: 'Two Sum',\n          difficulty: 'easy',\n          category: 'arrays',\n        },\n      ];\n\n      mockUseQuery.mockReturnValue({\n        data: { data: mockProblems },\n        isLoading: false,\n        error: null,\n      });\n\n      const ProblemSolvingPage = (\n        await import('@/app/admin/problem-solving/page')\n      ).default;\n      render(<ProblemSolvingPage />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Two Sum')).toBeInTheDocument();\n        expect(screen.getByText('easy')).toBeInTheDocument();\n        expect(screen.getByText('arrays')).toBeInTheDocument();\n      });\n    });\n\n    it('should handle problem creation', async () => {\n      const mockProblems = [];\n      const mockMutation = jest.fn();\n\n      mockUseQuery.mockReturnValue({\n        data: { data: mockProblems },\n        isLoading: false,\n        error: null,\n      });\n\n      mockUseMutation.mockReturnValue({\n        mutate: mockMutation,\n        isLoading: false,\n        error: null,\n        isSuccess: false,\n      });\n\n      const ProblemSolvingPage = (\n        await import('@/app/admin/problem-solving/page')\n      ).default;\n      render(<ProblemSolvingPage />);\n\n      const addButton = screen.getByText(/add problem/i);\n      await userEvent.click(addButton);\n\n      await waitFor(() => {\n        expect(screen.getByText(/create new problem/i)).toBeInTheDocument();\n      });\n\n      const titleInput = screen.getByLabelText(/title/i);\n      await userEvent.type(titleInput, 'Reverse String');\n\n      const submitButton = screen.getByText(/create problem/i);\n      await userEvent.click(submitButton);\n\n      expect(mockMutation).toHaveBeenCalledWith(\n        expect.objectContaining({\n          title: 'Reverse String',\n        })\n      );\n    });\n  });\n\n  describe('Dashboard Page', () => {\n    it('should render dashboard with stats', async () => {\n      const mockStats = {\n        totalQuestions: 100,\n        totalCards: 4,\n        totalPlans: 7,\n        totalTasks: 18,\n      };\n\n      mockUseQuery.mockReturnValue({\n        data: { data: mockStats },\n        isLoading: false,\n        error: null,\n      });\n\n      const DashboardPage = (await import('@/app/admin/dashboard/page'))\n        .default;\n      render(<DashboardPage />);\n\n      await waitFor(() => {\n        expect(screen.getByText('100')).toBeInTheDocument();\n        expect(screen.getByText('4')).toBeInTheDocument();\n        expect(screen.getByText('7')).toBeInTheDocument();\n        expect(screen.getByText('18')).toBeInTheDocument();\n      });\n    });\n\n    it('should handle refresh functionality', async () => {\n      const mockRefetch = jest.fn();\n      const mockStats = {\n        totalQuestions: 100,\n        totalCards: 4,\n        totalPlans: 7,\n        totalTasks: 18,\n      };\n\n      mockUseQuery.mockReturnValue({\n        data: { data: mockStats },\n        isLoading: false,\n        error: null,\n        refetch: mockRefetch,\n      });\n\n      const DashboardPage = (await import('@/app/admin/dashboard/page'))\n        .default;\n      render(<DashboardPage />);\n\n      const refreshButton = screen.getByText(/refresh/i);\n      await userEvent.click(refreshButton);\n\n      expect(mockRefetch).toHaveBeenCalled();\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should display error messages when API calls fail', async () => {\n      mockUseQuery.mockReturnValue({\n        data: undefined,\n        isLoading: false,\n        error: new Error('API Error'),\n      });\n\n      const ContentManagementPage = (\n        await import('@/app/admin/content-management/page')\n      ).default;\n      render(<ContentManagementPage />);\n\n      await waitFor(() => {\n        expect(screen.getByText(/error/i)).toBeInTheDocument();\n      });\n    });\n\n    it('should handle mutation errors', async () => {\n      const mockQuestions = [];\n      const mockMutation = jest.fn();\n\n      mockUseQuery.mockReturnValue({\n        data: { data: mockQuestions },\n        isLoading: false,\n        error: null,\n      });\n\n      mockUseMutation.mockReturnValue({\n        mutate: mockMutation,\n        isLoading: false,\n        error: new Error('Mutation failed'),\n        isSuccess: false,\n      });\n\n      const QuestionsPage = (await import('@/app/admin/content/questions/page'))\n        .default;\n      render(<QuestionsPage />);\n\n      await waitFor(() => {\n        expect(screen.getByText(/mutation failed/i)).toBeInTheDocument();\n      });\n    });\n  });\n});\n"],"names":["jest","mock","useQuery","fn","useMutation","useQueryClient","invalidateQueries","useRouter","push","replace","prefetch","useSearchParams","URLSearchParams","usePathname","createClient","from","select","eq","mockResolvedValue","data","error","useQueryState","useQueryStates","parseAsString","parseAsInteger","createSearchParamsCache","React","require","AdminAuthProvider","children","useAdminAuth","isAuthenticated","user","email","login","logout","ThemeProvider","useTheme","isDarkMode","toggleDarkMode","process","env","NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY","SUPABASE_SERVICE_ROLE_KEY","describe","mockUseQuery","mockUseMutation","beforeEach","clearAllMocks","mockReturnValue","isLoading","refetch","mutate","isSuccess","it","undefined","ContentManagementPage","default","render","expect","screen","getByText","toBeInTheDocument","mockCards","id","name","type","color","mockPlans","duration","mockCategories","cardType","mockTopics","categoryId","difficulty","mockReturnValueOnce","waitFor","searchInput","getByPlaceholderText","userEvent","queryByText","not","filterSelect","getByRole","selectOptions","mockQuestions","question","category","options","correctAnswer","QuestionsPage","mockMutation","addButton","click","questionInput","getByLabelText","submitButton","toHaveBeenCalledWith","objectContaining","editButton","getByDisplayValue","clear","saveButton","deleteButton","confirmButton","mockTasks","title","estimatedTime","FrontendTasksPage","titleInput","mockProblems","ProblemSolvingPage","mockStats","totalQuestions","totalCards","totalPlans","totalTasks","DashboardPage","mockRefetch","refreshButton","toHaveBeenCalled","Error"],"mappings":"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"}