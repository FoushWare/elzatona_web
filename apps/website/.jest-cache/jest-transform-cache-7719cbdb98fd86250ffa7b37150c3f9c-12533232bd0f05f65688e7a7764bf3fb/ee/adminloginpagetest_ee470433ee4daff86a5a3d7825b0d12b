eb9c06dad69929f91269568be9eec71b
/**
 * Admin Login Page Tests
 *
 * Comprehensive tests for the admin login page component to ensure:
 * - Form rendering and validation
 * - User interactions
 * - Error handling
 * - Loading states
 * - Authentication flow
 * - Accessibility
 */ // Set up environment variables before any imports
"use strict";
// Mock nuqs before any imports that use it
jest.mock('nuqs', ()=>({
        useQueryState: jest.fn(()=>[
                null,
                jest.fn()
            ]),
        useQueryStates: jest.fn(()=>[
                {},
                jest.fn()
            ]),
        parseAsString: jest.fn(),
        parseAsInteger: jest.fn(),
        createSearchParamsCache: jest.fn()
    }));
// Mock Supabase before any imports
jest.mock('@supabase/supabase-js', ()=>({
        createClient: jest.fn(()=>({
                from: jest.fn(()=>({
                        select: jest.fn(()=>({
                                eq: jest.fn().mockResolvedValue({
                                    data: null,
                                    error: null
                                })
                            }))
                    }))
            }))
    }));
// Mock @tanstack/react-query
jest.mock('@tanstack/react-query', ()=>{
    // eslint-disable-next-line @typescript-eslint/no-require-imports
    const React = require('react');
    return {
        QueryClientProvider: ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_jsxruntime.Fragment, {
                children: children
            }),
        QueryClient: jest.fn(()=>({
                invalidateQueries: jest.fn(),
                setQueryData: jest.fn(),
                getQueryData: jest.fn()
            })),
        useQueryClient: jest.fn(()=>({
                invalidateQueries: jest.fn(),
                setQueryData: jest.fn(),
                getQueryData: jest.fn()
            })),
        useQuery: jest.fn(()=>({
                data: null,
                isLoading: false,
                error: null
            })),
        useMutation: jest.fn(()=>({
                mutate: jest.fn(),
                mutateAsync: jest.fn(),
                isLoading: false,
                error: null
            }))
    };
});
// Mock Next.js router
jest.mock('next/navigation', ()=>({
        useRouter: jest.fn()
    }));
// Mock AdminAuthContext
jest.mock('@elzatona/shared-contexts', ()=>{
    // eslint-disable-next-line @typescript-eslint/no-require-imports
    const React = require('react');
    return {
        AdminAuthProvider: ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_jsxruntime.Fragment, {
                children: children
            }),
        useAdminAuth: mockUseAdminAuthFn,
        ThemeProvider: ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_jsxruntime.Fragment, {
                children: children
            }),
        useTheme: jest.fn(()=>({
                isDarkMode: false,
                toggleDarkMode: jest.fn(),
                setDarkMode: jest.fn(),
                isLoaded: true
            }))
    };
});
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _navigation = require("next/navigation");
const _sharedcontexts = require("../../libs/shared-contexts/src");
const _reactquery = require("@tanstack/react-query");
const _page = /*#__PURE__*/ _interop_require_default(require("../../apps/website/src/app/admin/login/page"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
process.env.NEXT_PUBLIC_SUPABASE_URL = 'https://test.supabase.co';
process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'test-anon-key';
process.env.SUPABASE_SERVICE_ROLE_KEY = 'test-service-role-key';
// Create a mock function that can be configured per test
const mockUseAdminAuthFn = jest.fn(()=>({
        isAuthenticated: false,
        isLoading: false,
        login: jest.fn(),
        logout: jest.fn(),
        user: null
    }));
// Mock fetch for API calls
global.fetch = jest.fn();
describe('Admin Login Page', ()=>{
    const mockPush = jest.fn();
    const mockUseRouter = _navigation.useRouter;
    const queryClient = new _reactquery.QueryClient();
    beforeEach(()=>{
        jest.clearAllMocks();
        // Reset mock admin auth function to return default values
        mockUseAdminAuthFn.mockReturnValue({
            isAuthenticated: false,
            isLoading: false,
            login: jest.fn(),
            logout: jest.fn(),
            user: null
        });
        mockUseRouter.mockReturnValue({
            push: mockPush,
            replace: jest.fn(),
            prefetch: jest.fn(),
            back: jest.fn(),
            forward: jest.fn(),
            refresh: jest.fn()
        });
    });
    afterEach(()=>{
        jest.restoreAllMocks();
    });
    describe('Page Rendering', ()=>{
        it('should render login form with all required elements', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            expect(_react1.screen.getByText('Admin Login')).toBeInTheDocument();
            expect(_react1.screen.getByText('Access the admin dashboard')).toBeInTheDocument();
            expect(_react1.screen.getByLabelText('Email Address')).toBeInTheDocument();
            expect(_react1.screen.getByLabelText('Password')).toBeInTheDocument();
            expect(_react1.screen.getByRole('button', {
                name: 'Sign In'
            })).toBeInTheDocument();
            expect(_react1.screen.getByText('← Back to Home')).toBeInTheDocument();
        });
        it('should render admin navbar with correct elements', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            expect(_react1.screen.getByText('Admin Access Portal')).toBeInTheDocument();
            expect(_react1.screen.getByText('Secure Authentication Required')).toBeInTheDocument();
            expect(_react1.screen.getByText('Back to Site')).toBeInTheDocument();
        });
        it('should show loading state when authentication is in progress', ()=>{
            mockUseAdminAuthFn.mockReturnValue({
                isAuthenticated: false,
                isLoading: true,
                login: jest.fn(),
                logout: jest.fn(),
                user: null
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            expect(_react1.screen.getByText('Loading...')).toBeInTheDocument();
            expect(_react1.screen.getByRole('status')).toBeInTheDocument();
        });
        it('should redirect authenticated users to dashboard', ()=>{
            mockUseAdminAuthFn.mockReturnValue({
                isAuthenticated: true,
                isLoading: false,
                login: jest.fn(),
                logout: jest.fn(),
                user: {
                    id: '1',
                    email: 'afouadsoftwareengineer@gmail.com',
                    name: 'Admin User',
                    role: 'super_admin'
                }
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            expect(mockPush).toHaveBeenCalledWith('/admin/dashboard');
        });
    });
    describe('Form Validation', ()=>{
        it('should show validation errors for empty fields', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const loginButton = _react1.screen.getByRole('button', {
                name: 'Sign In'
            });
            _react1.fireEvent.click(loginButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByDisplayValue('')).toBeInTheDocument();
            });
            // Check that form validation prevents submission
            const emailInput = _react1.screen.getByLabelText('Email Address');
            const passwordInput = _react1.screen.getByLabelText('Password');
            expect(emailInput).toBeRequired();
            expect(passwordInput).toBeRequired();
        });
        it('should validate email format', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const emailInput = _react1.screen.getByLabelText('Email Address');
            const loginButton = _react1.screen.getByRole('button', {
                name: 'Sign In'
            });
            _react1.fireEvent.change(emailInput, {
                target: {
                    value: 'invalid-email'
                }
            });
            _react1.fireEvent.click(loginButton);
            // HTML5 validation should prevent submission with invalid email
            expect(emailInput).toHaveAttribute('type', 'email');
        });
        it('should clear error messages when user starts typing', async ()=>{
            const mockLogin = jest.fn().mockResolvedValue({
                success: false,
                error: 'Invalid credentials'
            });
            mockUseAdminAuthFn.mockReturnValue({
                isAuthenticated: false,
                isLoading: false,
                login: mockLogin,
                logout: jest.fn(),
                user: null
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const emailInput = _react1.screen.getByLabelText('Email Address');
            const passwordInput = _react1.screen.getByLabelText('Password');
            const loginButton = _react1.screen.getByRole('button', {
                name: 'Sign In'
            });
            // Submit with wrong credentials to trigger error
            _react1.fireEvent.change(emailInput, {
                target: {
                    value: 'wrong@example.com'
                }
            });
            _react1.fireEvent.change(passwordInput, {
                target: {
                    value: 'wrongpassword'
                }
            });
            _react1.fireEvent.click(loginButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Invalid credentials')).toBeInTheDocument();
            });
            // Start typing to clear error
            _react1.fireEvent.change(emailInput, {
                target: {
                    value: 'test@example.com'
                }
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.queryByText('Invalid credentials')).not.toBeInTheDocument();
            });
        });
    });
    describe('Form Submission', ()=>{
        it('should call login function with correct credentials', async ()=>{
            const mockLogin = jest.fn().mockResolvedValue({
                success: true
            });
            mockUseAdminAuthFn.mockReturnValue({
                isAuthenticated: false,
                isLoading: false,
                login: mockLogin,
                logout: jest.fn(),
                user: null
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const emailInput = _react1.screen.getByLabelText('Email Address');
            const passwordInput = _react1.screen.getByLabelText('Password');
            const loginButton = _react1.screen.getByRole('button', {
                name: 'Sign In'
            });
            _react1.fireEvent.change(emailInput, {
                target: {
                    value: 'afouadsoftwareengineer@gmail.com'
                }
            });
            _react1.fireEvent.change(passwordInput, {
                target: {
                    value: 'ZatonaFoushware$8888'
                }
            });
            _react1.fireEvent.click(loginButton);
            await (0, _react1.waitFor)(()=>{
                expect(mockLogin).toHaveBeenCalledWith('afouadsoftwareengineer@gmail.com', 'ZatonaFoushware$8888');
            });
        });
        it('should show loading state during login', async ()=>{
            const mockLogin = jest.fn().mockImplementation(()=>new Promise((resolve)=>setTimeout(()=>resolve({
                            success: true
                        }), 100)));
            mockUseAdminAuthFn.mockReturnValue({
                isAuthenticated: false,
                isLoading: false,
                login: mockLogin,
                logout: jest.fn(),
                user: null
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const emailInput = _react1.screen.getByLabelText('Email Address');
            const passwordInput = _react1.screen.getByLabelText('Password');
            const loginButton = _react1.screen.getByRole('button', {
                name: 'Sign In'
            });
            _react1.fireEvent.change(emailInput, {
                target: {
                    value: 'afouadsoftwareengineer@gmail.com'
                }
            });
            _react1.fireEvent.change(passwordInput, {
                target: {
                    value: 'ZatonaFoushware$8888'
                }
            });
            _react1.fireEvent.click(loginButton);
            expect(_react1.screen.getByText('Signing In...')).toBeInTheDocument();
            expect(loginButton).toBeDisabled();
        });
        it('should show error message on login failure', async ()=>{
            const mockLogin = jest.fn().mockResolvedValue({
                success: false,
                error: 'Invalid credentials'
            });
            mockUseAdminAuthFn.mockReturnValue({
                isAuthenticated: false,
                isLoading: false,
                login: mockLogin,
                logout: jest.fn(),
                user: null
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const emailInput = _react1.screen.getByLabelText('Email Address');
            const passwordInput = _react1.screen.getByLabelText('Password');
            const loginButton = _react1.screen.getByRole('button', {
                name: 'Sign In'
            });
            _react1.fireEvent.change(emailInput, {
                target: {
                    value: 'wrong@example.com'
                }
            });
            _react1.fireEvent.change(passwordInput, {
                target: {
                    value: 'wrongpassword'
                }
            });
            _react1.fireEvent.click(loginButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Invalid credentials')).toBeInTheDocument();
            });
        });
        it('should handle network errors gracefully', async ()=>{
            const mockLogin = jest.fn().mockRejectedValue(new Error('Network error'));
            mockUseAdminAuthFn.mockReturnValue({
                isAuthenticated: false,
                isLoading: false,
                login: mockLogin,
                logout: jest.fn(),
                user: null
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const emailInput = _react1.screen.getByLabelText('Email Address');
            const passwordInput = _react1.screen.getByLabelText('Password');
            const loginButton = _react1.screen.getByRole('button', {
                name: 'Sign In'
            });
            _react1.fireEvent.change(emailInput, {
                target: {
                    value: 'afouadsoftwareengineer@gmail.com'
                }
            });
            _react1.fireEvent.change(passwordInput, {
                target: {
                    value: 'ZatonaFoushware$8888'
                }
            });
            _react1.fireEvent.click(loginButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('An unexpected error occurred')).toBeInTheDocument();
            });
        });
        it('should handle generic login failure', async ()=>{
            const mockLogin = jest.fn().mockResolvedValue({
                success: false
            });
            mockUseAdminAuthFn.mockReturnValue({
                isAuthenticated: false,
                isLoading: false,
                login: mockLogin,
                logout: jest.fn(),
                user: null
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const emailInput = _react1.screen.getByLabelText('Email Address');
            const passwordInput = _react1.screen.getByLabelText('Password');
            const loginButton = _react1.screen.getByRole('button', {
                name: 'Sign In'
            });
            _react1.fireEvent.change(emailInput, {
                target: {
                    value: 'wrong@example.com'
                }
            });
            _react1.fireEvent.change(passwordInput, {
                target: {
                    value: 'wrongpassword'
                }
            });
            _react1.fireEvent.click(loginButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Login failed')).toBeInTheDocument();
            });
        });
    });
    describe('User Interactions', ()=>{
        it('should submit form on Enter key press', async ()=>{
            const mockLogin = jest.fn().mockResolvedValue({
                success: true
            });
            mockUseAdminAuthFn.mockReturnValue({
                isAuthenticated: false,
                isLoading: false,
                login: mockLogin,
                logout: jest.fn(),
                user: null
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const emailInput = _react1.screen.getByLabelText('Email Address');
            const passwordInput = _react1.screen.getByLabelText('Password');
            _react1.fireEvent.change(emailInput, {
                target: {
                    value: 'afouadsoftwareengineer@gmail.com'
                }
            });
            _react1.fireEvent.change(passwordInput, {
                target: {
                    value: 'ZatonaFoushware$8888'
                }
            });
            _react1.fireEvent.keyDown(passwordInput, {
                key: 'Enter',
                code: 'Enter'
            });
            await (0, _react1.waitFor)(()=>{
                expect(mockLogin).toHaveBeenCalledWith('afouadsoftwareengineer@gmail.com', 'ZatonaFoushware$8888');
            });
        });
        it('should update form fields correctly', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const emailInput = _react1.screen.getByLabelText('Email Address');
            const passwordInput = _react1.screen.getByLabelText('Password');
            _react1.fireEvent.change(emailInput, {
                target: {
                    value: 'test@example.com'
                }
            });
            _react1.fireEvent.change(passwordInput, {
                target: {
                    value: 'testpassword'
                }
            });
            expect(emailInput).toHaveValue('test@example.com');
            expect(passwordInput).toHaveValue('testpassword');
        });
        it('should disable submit button during loading', async ()=>{
            const mockLogin = jest.fn().mockImplementation(()=>new Promise((resolve)=>setTimeout(()=>resolve({
                            success: true
                        }), 100)));
            mockUseAdminAuthFn.mockReturnValue({
                isAuthenticated: false,
                isLoading: false,
                login: mockLogin,
                logout: jest.fn(),
                user: null
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const emailInput = _react1.screen.getByLabelText('Email Address');
            const passwordInput = _react1.screen.getByLabelText('Password');
            const loginButton = _react1.screen.getByRole('button', {
                name: 'Sign In'
            });
            _react1.fireEvent.change(emailInput, {
                target: {
                    value: 'afouadsoftwareengineer@gmail.com'
                }
            });
            _react1.fireEvent.change(passwordInput, {
                target: {
                    value: 'ZatonaFoushware$8888'
                }
            });
            _react1.fireEvent.click(loginButton);
            expect(loginButton).toBeDisabled();
        });
    });
    describe('Accessibility', ()=>{
        it('should have proper ARIA labels and roles', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            expect(_react1.screen.getByLabelText('Email Address')).toBeInTheDocument();
            expect(_react1.screen.getByLabelText('Password')).toBeInTheDocument();
            expect(_react1.screen.getByRole('button', {
                name: 'Sign In'
            })).toBeInTheDocument();
            expect(_react1.screen.getByRole('form')).toBeInTheDocument();
        });
        it('should be keyboard navigable', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const emailInput = _react1.screen.getByLabelText('Email Address');
            const passwordInput = _react1.screen.getByLabelText('Password');
            const loginButton = _react1.screen.getByRole('button', {
                name: 'Sign In'
            });
            emailInput.focus();
            expect(emailInput).toHaveFocus();
            _react1.fireEvent.keyDown(emailInput, {
                key: 'Tab'
            });
            expect(passwordInput).toHaveFocus();
            _react1.fireEvent.keyDown(passwordInput, {
                key: 'Tab'
            });
            expect(loginButton).toHaveFocus();
        });
        it('should have proper form structure', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const form = _react1.screen.getByRole('form');
            expect(form).toBeInTheDocument();
            const emailInput = _react1.screen.getByLabelText('Email Address');
            const passwordInput = _react1.screen.getByLabelText('Password');
            expect(emailInput).toHaveAttribute('type', 'email');
            expect(passwordInput).toHaveAttribute('type', 'password');
            expect(emailInput).toBeRequired();
            expect(passwordInput).toBeRequired();
        });
    });
    describe('Security Features', ()=>{
        it('should not log sensitive information', ()=>{
            const consoleSpy = jest.spyOn(console, 'log').mockImplementation();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const emailInput = _react1.screen.getByLabelText('Email Address');
            const passwordInput = _react1.screen.getByLabelText('Password');
            _react1.fireEvent.change(emailInput, {
                target: {
                    value: 'afouadsoftwareengineer@gmail.com'
                }
            });
            _react1.fireEvent.change(passwordInput, {
                target: {
                    value: 'ZatonaFoushware$8888'
                }
            });
            // Check that password is not logged
            expect(consoleSpy).not.toHaveBeenCalledWith(expect.stringContaining('ZatonaFoushware$8888'));
            consoleSpy.mockRestore();
        });
        it('should prevent XSS attacks in form inputs', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const emailInput = _react1.screen.getByLabelText('Email Address');
            const maliciousInput = '<script>alert("xss")</script>';
            _react1.fireEvent.change(emailInput, {
                target: {
                    value: maliciousInput
                }
            });
            // The input should be sanitized and not execute the script
            expect(emailInput).toHaveValue(maliciousInput);
            expect(_react1.screen.queryByText('xss')).not.toBeInTheDocument();
        });
        it('should use secure password input type', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const passwordInput = _react1.screen.getByLabelText('Password');
            expect(passwordInput).toHaveAttribute('type', 'password');
        });
    });
    describe('Navigation', ()=>{
        it('should have working back to home link', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const backLink = _react1.screen.getByText('← Back to Home');
            expect(backLink).toBeInTheDocument();
            expect(backLink.closest('a')).toHaveAttribute('href', '/');
        });
        it('should have working back to site link in navbar', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const backToSiteLink = _react1.screen.getByText('Back to Site');
            expect(backToSiteLink).toBeInTheDocument();
            expect(backToSiteLink.closest('a')).toHaveAttribute('href', '/');
        });
    });
    describe('Theme Support', ()=>{
        it('should support dark mode classes', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const container = _react1.screen.getByText('Admin Login').closest('div');
            expect(container).toHaveClass('dark:text-white');
        });
        it('should have theme toggle button in navbar', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const themeButton = _react1.screen.getByLabelText('Toggle theme');
            expect(themeButton).toBeInTheDocument();
        });
    });
    describe('Error Handling', ()=>{
        it('should display error messages with proper styling', async ()=>{
            const mockLogin = jest.fn().mockResolvedValue({
                success: false,
                error: 'Test error message'
            });
            mockUseAdminAuthFn.mockReturnValue({
                isAuthenticated: false,
                isLoading: false,
                login: mockLogin,
                logout: jest.fn(),
                user: null
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const emailInput = _react1.screen.getByLabelText('Email Address');
            const passwordInput = _react1.screen.getByLabelText('Password');
            const loginButton = _react1.screen.getByRole('button', {
                name: 'Sign In'
            });
            _react1.fireEvent.change(emailInput, {
                target: {
                    value: 'test@example.com'
                }
            });
            _react1.fireEvent.change(passwordInput, {
                target: {
                    value: 'testpassword'
                }
            });
            _react1.fireEvent.click(loginButton);
            await (0, _react1.waitFor)(()=>{
                const errorMessage = _react1.screen.getByText('Test error message');
                expect(errorMessage).toBeInTheDocument();
                expect(errorMessage).toHaveClass('text-red-600');
            });
        });
        it('should clear error state when form is resubmitted', async ()=>{
            const mockLogin = jest.fn().mockResolvedValueOnce({
                success: false,
                error: 'First error'
            }).mockResolvedValueOnce({
                success: true
            });
            mockUseAdminAuthFn.mockReturnValue({
                isAuthenticated: false,
                isLoading: false,
                login: mockLogin,
                logout: jest.fn(),
                user: null
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
                client: queryClient,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.AdminAuthProvider, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcontexts.ThemeProvider, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
                    })
                })
            }));
            const emailInput = _react1.screen.getByLabelText('Email Address');
            const passwordInput = _react1.screen.getByLabelText('Password');
            const loginButton = _react1.screen.getByRole('button', {
                name: 'Sign In'
            });
            // First submission with error
            _react1.fireEvent.change(emailInput, {
                target: {
                    value: 'test@example.com'
                }
            });
            _react1.fireEvent.change(passwordInput, {
                target: {
                    value: 'wrongpassword'
                }
            });
            _react1.fireEvent.click(loginButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('First error')).toBeInTheDocument();
            });
            // Second submission with success
            _react1.fireEvent.change(emailInput, {
                target: {
                    value: 'afouadsoftwareengineer@gmail.com'
                }
            });
            _react1.fireEvent.change(passwordInput, {
                target: {
                    value: 'ZatonaFoushware$8888'
                }
            });
            _react1.fireEvent.click(loginButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.queryByText('First error')).not.toBeInTheDocument();
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hLmZvdWFkL1NpZGVQcm9qZWN0cy9FbHphdG9uYS1hbGwvRWx6YXRvbmEtd2ViL3Rlc3RzL2FkbWluL2FkbWluLWxvZ2luLXBhZ2UudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBZG1pbiBMb2dpbiBQYWdlIFRlc3RzXG4gKlxuICogQ29tcHJlaGVuc2l2ZSB0ZXN0cyBmb3IgdGhlIGFkbWluIGxvZ2luIHBhZ2UgY29tcG9uZW50IHRvIGVuc3VyZTpcbiAqIC0gRm9ybSByZW5kZXJpbmcgYW5kIHZhbGlkYXRpb25cbiAqIC0gVXNlciBpbnRlcmFjdGlvbnNcbiAqIC0gRXJyb3IgaGFuZGxpbmdcbiAqIC0gTG9hZGluZyBzdGF0ZXNcbiAqIC0gQXV0aGVudGljYXRpb24gZmxvd1xuICogLSBBY2Nlc3NpYmlsaXR5XG4gKi9cblxuLy8gU2V0IHVwIGVudmlyb25tZW50IHZhcmlhYmxlcyBiZWZvcmUgYW55IGltcG9ydHNcbnByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCA9ICdodHRwczovL3Rlc3Quc3VwYWJhc2UuY28nO1xucHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkgPSAndGVzdC1hbm9uLWtleSc7XG5wcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZID0gJ3Rlc3Qtc2VydmljZS1yb2xlLWtleSc7XG5cbi8vIE1vY2sgbnVxcyBiZWZvcmUgYW55IGltcG9ydHMgdGhhdCB1c2UgaXRcbmplc3QubW9jaygnbnVxcycsICgpID0+ICh7XG4gIHVzZVF1ZXJ5U3RhdGU6IGplc3QuZm4oKCkgPT4gW251bGwsIGplc3QuZm4oKV0pLFxuICB1c2VRdWVyeVN0YXRlczogamVzdC5mbigoKSA9PiBbe30sIGplc3QuZm4oKV0pLFxuICBwYXJzZUFzU3RyaW5nOiBqZXN0LmZuKCksXG4gIHBhcnNlQXNJbnRlZ2VyOiBqZXN0LmZuKCksXG4gIGNyZWF0ZVNlYXJjaFBhcmFtc0NhY2hlOiBqZXN0LmZuKCksXG59KSk7XG5cbi8vIE1vY2sgU3VwYWJhc2UgYmVmb3JlIGFueSBpbXBvcnRzXG5qZXN0Lm1vY2soJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcycsICgpID0+ICh7XG4gIGNyZWF0ZUNsaWVudDogamVzdC5mbigoKSA9PiAoe1xuICAgIGZyb206IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgIHNlbGVjdDogamVzdC5mbigoKSA9PiAoe1xuICAgICAgICBlcTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbnVsbCwgZXJyb3I6IG51bGwgfSksXG4gICAgICB9KSksXG4gICAgfSkpLFxuICB9KSksXG59KSk7XG5cbi8vIE1vY2sgQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5XG5qZXN0Lm1vY2soJ0B0YW5zdGFjay9yZWFjdC1xdWVyeScsICgpID0+IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1yZXF1aXJlLWltcG9ydHNcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICByZXR1cm4ge1xuICAgIFF1ZXJ5Q2xpZW50UHJvdmlkZXI6ICh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSA9PlxuICAgICAgIFxuICAgICAgPD57Y2hpbGRyZW59PC8+LFxuICAgIFF1ZXJ5Q2xpZW50OiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICBpbnZhbGlkYXRlUXVlcmllczogamVzdC5mbigpLFxuICAgICAgc2V0UXVlcnlEYXRhOiBqZXN0LmZuKCksXG4gICAgICBnZXRRdWVyeURhdGE6IGplc3QuZm4oKSxcbiAgICB9KSksXG4gICAgdXNlUXVlcnlDbGllbnQ6IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgIGludmFsaWRhdGVRdWVyaWVzOiBqZXN0LmZuKCksXG4gICAgICBzZXRRdWVyeURhdGE6IGplc3QuZm4oKSxcbiAgICAgIGdldFF1ZXJ5RGF0YTogamVzdC5mbigpLFxuICAgIH0pKSxcbiAgICB1c2VRdWVyeTogamVzdC5mbigoKSA9PiAoe1xuICAgICAgZGF0YTogbnVsbCxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICB9KSksXG4gICAgdXNlTXV0YXRpb246IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgIG11dGF0ZTogamVzdC5mbigpLFxuICAgICAgbXV0YXRlQXN5bmM6IGplc3QuZm4oKSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICB9KSksXG4gIH07XG59KTtcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQge1xuICBBZG1pbkF1dGhQcm92aWRlcixcbiAgVGhlbWVQcm92aWRlcixcbn0gZnJvbSAnQGVsemF0b25hL3NoYXJlZC1jb250ZXh0cyc7XG5pbXBvcnQgeyBRdWVyeUNsaWVudCwgUXVlcnlDbGllbnRQcm92aWRlciB9IGZyb20gJ0B0YW5zdGFjay9yZWFjdC1xdWVyeSc7XG5pbXBvcnQgQWRtaW5Mb2dpblBhZ2UgZnJvbSAnQC9hcHAvYWRtaW4vbG9naW4vcGFnZSc7XG5cbi8vIE1vY2sgTmV4dC5qcyByb3V0ZXJcbmplc3QubW9jaygnbmV4dC9uYXZpZ2F0aW9uJywgKCkgPT4gKHtcbiAgdXNlUm91dGVyOiBqZXN0LmZuKCksXG59KSk7XG5cbi8vIENyZWF0ZSBhIG1vY2sgZnVuY3Rpb24gdGhhdCBjYW4gYmUgY29uZmlndXJlZCBwZXIgdGVzdFxuY29uc3QgbW9ja1VzZUFkbWluQXV0aEZuID0gamVzdC5mbigoKSA9PiAoe1xuICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICBpc0xvYWRpbmc6IGZhbHNlLFxuICBsb2dpbjogamVzdC5mbigpLFxuICBsb2dvdXQ6IGplc3QuZm4oKSxcbiAgdXNlcjogbnVsbCxcbn0pKTtcblxuLy8gTW9jayBBZG1pbkF1dGhDb250ZXh0XG5qZXN0Lm1vY2soJ0BlbHphdG9uYS9zaGFyZWQtY29udGV4dHMnLCAoKSA9PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVxdWlyZS1pbXBvcnRzXG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgcmV0dXJuIHtcbiAgICBBZG1pbkF1dGhQcm92aWRlcjogKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pID0+XG4gICAgICAgXG4gICAgICA8PntjaGlsZHJlbn08Lz4sXG4gICAgdXNlQWRtaW5BdXRoOiBtb2NrVXNlQWRtaW5BdXRoRm4sXG4gICAgVGhlbWVQcm92aWRlcjogKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pID0+XG4gICAgICAgXG4gICAgICA8PntjaGlsZHJlbn08Lz4sXG4gICAgdXNlVGhlbWU6IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgIGlzRGFya01vZGU6IGZhbHNlLFxuICAgICAgdG9nZ2xlRGFya01vZGU6IGplc3QuZm4oKSxcbiAgICAgIHNldERhcmtNb2RlOiBqZXN0LmZuKCksXG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICB9KSksXG4gIH07XG59KTtcblxuLy8gTW9jayBmZXRjaCBmb3IgQVBJIGNhbGxzXG5nbG9iYWwuZmV0Y2ggPSBqZXN0LmZuKCk7XG5cbi8vIFR5cGUgZGVmaW5pdGlvbnMgZm9yIG1vY2tzXG5pbnRlcmZhY2UgTW9ja1JvdXRlciB7XG4gIHB1c2g6IGplc3QuTW9ja2VkRnVuY3Rpb248KHVybDogc3RyaW5nKSA9PiB2b2lkPjtcbiAgcmVwbGFjZTogamVzdC5Nb2NrZWRGdW5jdGlvbjwodXJsOiBzdHJpbmcpID0+IHZvaWQ+O1xuICBwcmVmZXRjaDogamVzdC5Nb2NrZWRGdW5jdGlvbjwodXJsOiBzdHJpbmcpID0+IHZvaWQ+O1xuICBiYWNrOiBqZXN0Lk1vY2tlZEZ1bmN0aW9uPCgpID0+IHZvaWQ+O1xuICBmb3J3YXJkOiBqZXN0Lk1vY2tlZEZ1bmN0aW9uPCgpID0+IHZvaWQ+O1xuICByZWZyZXNoOiBqZXN0Lk1vY2tlZEZ1bmN0aW9uPCgpID0+IHZvaWQ+O1xufVxuXG5kZXNjcmliZSgnQWRtaW4gTG9naW4gUGFnZScsICgpID0+IHtcbiAgY29uc3QgbW9ja1B1c2ggPSBqZXN0LmZuKCk7XG4gIGNvbnN0IG1vY2tVc2VSb3V0ZXIgPSB1c2VSb3V0ZXIgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgdXNlUm91dGVyPjtcbiAgY29uc3QgcXVlcnlDbGllbnQgPSBuZXcgUXVlcnlDbGllbnQoKTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICAvLyBSZXNldCBtb2NrIGFkbWluIGF1dGggZnVuY3Rpb24gdG8gcmV0dXJuIGRlZmF1bHQgdmFsdWVzXG4gICAgbW9ja1VzZUFkbWluQXV0aEZuLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGxvZ2luOiBqZXN0LmZuKCksXG4gICAgICBsb2dvdXQ6IGplc3QuZm4oKSxcbiAgICAgIHVzZXI6IG51bGwsXG4gICAgfSk7XG4gICAgbW9ja1VzZVJvdXRlci5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgcHVzaDogbW9ja1B1c2gsXG4gICAgICByZXBsYWNlOiBqZXN0LmZuKCksXG4gICAgICBwcmVmZXRjaDogamVzdC5mbigpLFxuICAgICAgYmFjazogamVzdC5mbigpLFxuICAgICAgZm9yd2FyZDogamVzdC5mbigpLFxuICAgICAgcmVmcmVzaDogamVzdC5mbigpLFxuICAgIH0gYXMgTW9ja1JvdXRlcik7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC5yZXN0b3JlQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BhZ2UgUmVuZGVyaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVuZGVyIGxvZ2luIGZvcm0gd2l0aCBhbGwgcmVxdWlyZWQgZWxlbWVudHMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxRdWVyeUNsaWVudFByb3ZpZGVyIGNsaWVudD17cXVlcnlDbGllbnR9PlxuICAgICAgICAgIDxBZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICAgICAgICA8QWRtaW5Mb2dpblBhZ2UgLz5cbiAgICAgICAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICAgICAgICA8L0FkbWluQXV0aFByb3ZpZGVyPlxuICAgICAgICA8L1F1ZXJ5Q2xpZW50UHJvdmlkZXI+XG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWRtaW4gTG9naW4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgc2NyZWVuLmdldEJ5VGV4dCgnQWNjZXNzIHRoZSBhZG1pbiBkYXNoYm9hcmQnKVxuICAgICAgKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRW1haWwgQWRkcmVzcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnUGFzc3dvcmQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAnU2lnbiBJbicgfSlcbiAgICAgICkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCfihpAgQmFjayB0byBIb21lJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciBhZG1pbiBuYXZiYXIgd2l0aCBjb3JyZWN0IGVsZW1lbnRzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8UXVlcnlDbGllbnRQcm92aWRlciBjbGllbnQ9e3F1ZXJ5Q2xpZW50fT5cbiAgICAgICAgICA8QWRtaW5BdXRoUHJvdmlkZXI+XG4gICAgICAgICAgICA8VGhlbWVQcm92aWRlcj5cbiAgICAgICAgICAgICAgPEFkbWluTG9naW5QYWdlIC8+XG4gICAgICAgICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgICAgICAgPC9BZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgPC9RdWVyeUNsaWVudFByb3ZpZGVyPlxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0FkbWluIEFjY2VzcyBQb3J0YWwnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgc2NyZWVuLmdldEJ5VGV4dCgnU2VjdXJlIEF1dGhlbnRpY2F0aW9uIFJlcXVpcmVkJylcbiAgICAgICkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdCYWNrIHRvIFNpdGUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2hvdyBsb2FkaW5nIHN0YXRlIHdoZW4gYXV0aGVudGljYXRpb24gaXMgaW4gcHJvZ3Jlc3MnLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlQWRtaW5BdXRoRm4ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSxcbiAgICAgICAgaXNMb2FkaW5nOiB0cnVlLFxuICAgICAgICBsb2dpbjogamVzdC5mbigpLFxuICAgICAgICBsb2dvdXQ6IGplc3QuZm4oKSxcbiAgICAgICAgdXNlcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxRdWVyeUNsaWVudFByb3ZpZGVyIGNsaWVudD17cXVlcnlDbGllbnR9PlxuICAgICAgICAgIDxBZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICAgICAgICA8QWRtaW5Mb2dpblBhZ2UgLz5cbiAgICAgICAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICAgICAgICA8L0FkbWluQXV0aFByb3ZpZGVyPlxuICAgICAgICA8L1F1ZXJ5Q2xpZW50UHJvdmlkZXI+XG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTG9hZGluZy4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ3N0YXR1cycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWRpcmVjdCBhdXRoZW50aWNhdGVkIHVzZXJzIHRvIGRhc2hib2FyZCcsICgpID0+IHtcbiAgICAgIG1vY2tVc2VBZG1pbkF1dGhGbi5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgIGxvZ2luOiBqZXN0LmZuKCksXG4gICAgICAgIGxvZ291dDogamVzdC5mbigpLFxuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgaWQ6ICcxJyxcbiAgICAgICAgICBlbWFpbDogJ2Fmb3VhZHNvZnR3YXJlZW5naW5lZXJAZ21haWwuY29tJyxcbiAgICAgICAgICBuYW1lOiAnQWRtaW4gVXNlcicsXG4gICAgICAgICAgcm9sZTogJ3N1cGVyX2FkbWluJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxRdWVyeUNsaWVudFByb3ZpZGVyIGNsaWVudD17cXVlcnlDbGllbnR9PlxuICAgICAgICAgIDxBZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICAgICAgICA8QWRtaW5Mb2dpblBhZ2UgLz5cbiAgICAgICAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICAgICAgICA8L0FkbWluQXV0aFByb3ZpZGVyPlxuICAgICAgICA8L1F1ZXJ5Q2xpZW50UHJvdmlkZXI+XG4gICAgICApO1xuXG4gICAgICBleHBlY3QobW9ja1B1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYWRtaW4vZGFzaGJvYXJkJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdGb3JtIFZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzaG93IHZhbGlkYXRpb24gZXJyb3JzIGZvciBlbXB0eSBmaWVsZHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxRdWVyeUNsaWVudFByb3ZpZGVyIGNsaWVudD17cXVlcnlDbGllbnR9PlxuICAgICAgICAgIDxBZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICAgICAgICA8QWRtaW5Mb2dpblBhZ2UgLz5cbiAgICAgICAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICAgICAgICA8L0FkbWluQXV0aFByb3ZpZGVyPlxuICAgICAgICA8L1F1ZXJ5Q2xpZW50UHJvdmlkZXI+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBsb2dpbkJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogJ1NpZ24gSW4nIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGxvZ2luQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlEaXNwbGF5VmFsdWUoJycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENoZWNrIHRoYXQgZm9ybSB2YWxpZGF0aW9uIHByZXZlbnRzIHN1Ym1pc3Npb25cbiAgICAgIGNvbnN0IGVtYWlsSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0VtYWlsIEFkZHJlc3MnKTtcbiAgICAgIGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ1Bhc3N3b3JkJyk7XG5cbiAgICAgIGV4cGVjdChlbWFpbElucHV0KS50b0JlUmVxdWlyZWQoKTtcbiAgICAgIGV4cGVjdChwYXNzd29yZElucHV0KS50b0JlUmVxdWlyZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgZW1haWwgZm9ybWF0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8UXVlcnlDbGllbnRQcm92aWRlciBjbGllbnQ9e3F1ZXJ5Q2xpZW50fT5cbiAgICAgICAgICA8QWRtaW5BdXRoUHJvdmlkZXI+XG4gICAgICAgICAgICA8VGhlbWVQcm92aWRlcj5cbiAgICAgICAgICAgICAgPEFkbWluTG9naW5QYWdlIC8+XG4gICAgICAgICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgICAgICAgPC9BZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgPC9RdWVyeUNsaWVudFByb3ZpZGVyPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgZW1haWxJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRW1haWwgQWRkcmVzcycpO1xuICAgICAgY29uc3QgbG9naW5CdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6ICdTaWduIEluJyB9KTtcblxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShlbWFpbElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ2ludmFsaWQtZW1haWwnIH0gfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobG9naW5CdXR0b24pO1xuXG4gICAgICAvLyBIVE1MNSB2YWxpZGF0aW9uIHNob3VsZCBwcmV2ZW50IHN1Ym1pc3Npb24gd2l0aCBpbnZhbGlkIGVtYWlsXG4gICAgICBleHBlY3QoZW1haWxJbnB1dCkudG9IYXZlQXR0cmlidXRlKCd0eXBlJywgJ2VtYWlsJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsZWFyIGVycm9yIG1lc3NhZ2VzIHdoZW4gdXNlciBzdGFydHMgdHlwaW5nJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0xvZ2luID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnSW52YWxpZCBjcmVkZW50aWFscycsXG4gICAgICB9KTtcbiAgICAgIG1vY2tVc2VBZG1pbkF1dGhGbi5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBsb2dpbjogbW9ja0xvZ2luLFxuICAgICAgICBsb2dvdXQ6IGplc3QuZm4oKSxcbiAgICAgICAgdXNlcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxRdWVyeUNsaWVudFByb3ZpZGVyIGNsaWVudD17cXVlcnlDbGllbnR9PlxuICAgICAgICAgIDxBZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICAgICAgICA8QWRtaW5Mb2dpblBhZ2UgLz5cbiAgICAgICAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICAgICAgICA8L0FkbWluQXV0aFByb3ZpZGVyPlxuICAgICAgICA8L1F1ZXJ5Q2xpZW50UHJvdmlkZXI+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBlbWFpbElucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdFbWFpbCBBZGRyZXNzJyk7XG4gICAgICBjb25zdCBwYXNzd29yZElucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdQYXNzd29yZCcpO1xuICAgICAgY29uc3QgbG9naW5CdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6ICdTaWduIEluJyB9KTtcblxuICAgICAgLy8gU3VibWl0IHdpdGggd3JvbmcgY3JlZGVudGlhbHMgdG8gdHJpZ2dlciBlcnJvclxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShlbWFpbElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ3dyb25nQGV4YW1wbGUuY29tJyB9IH0pO1xuICAgICAgZmlyZUV2ZW50LmNoYW5nZShwYXNzd29yZElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ3dyb25ncGFzc3dvcmQnIH0gfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobG9naW5CdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0ludmFsaWQgY3JlZGVudGlhbHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTdGFydCB0eXBpbmcgdG8gY2xlYXIgZXJyb3JcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UoZW1haWxJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICd0ZXN0QGV4YW1wbGUuY29tJyB9IH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KFxuICAgICAgICAgIHNjcmVlbi5xdWVyeUJ5VGV4dCgnSW52YWxpZCBjcmVkZW50aWFscycpXG4gICAgICAgICkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Zvcm0gU3VibWlzc2lvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNhbGwgbG9naW4gZnVuY3Rpb24gd2l0aCBjb3JyZWN0IGNyZWRlbnRpYWxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0xvZ2luID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgICAgIG1vY2tVc2VBZG1pbkF1dGhGbi5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBsb2dpbjogbW9ja0xvZ2luLFxuICAgICAgICBsb2dvdXQ6IGplc3QuZm4oKSxcbiAgICAgICAgdXNlcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxRdWVyeUNsaWVudFByb3ZpZGVyIGNsaWVudD17cXVlcnlDbGllbnR9PlxuICAgICAgICAgIDxBZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICAgICAgICA8QWRtaW5Mb2dpblBhZ2UgLz5cbiAgICAgICAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICAgICAgICA8L0FkbWluQXV0aFByb3ZpZGVyPlxuICAgICAgICA8L1F1ZXJ5Q2xpZW50UHJvdmlkZXI+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBlbWFpbElucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdFbWFpbCBBZGRyZXNzJyk7XG4gICAgICBjb25zdCBwYXNzd29yZElucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdQYXNzd29yZCcpO1xuICAgICAgY29uc3QgbG9naW5CdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6ICdTaWduIEluJyB9KTtcblxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShlbWFpbElucHV0LCB7XG4gICAgICAgIHRhcmdldDogeyB2YWx1ZTogJ2Fmb3VhZHNvZnR3YXJlZW5naW5lZXJAZ21haWwuY29tJyB9LFxuICAgICAgfSk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHBhc3N3b3JkSW5wdXQsIHtcbiAgICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAnWmF0b25hRm91c2h3YXJlJDg4ODgnIH0sXG4gICAgICB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhsb2dpbkJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja0xvZ2luKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAnYWZvdWFkc29mdHdhcmVlbmdpbmVlckBnbWFpbC5jb20nLFxuICAgICAgICAgICdaYXRvbmFGb3VzaHdhcmUkODg4OCdcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzaG93IGxvYWRpbmcgc3RhdGUgZHVyaW5nIGxvZ2luJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0xvZ2luID0gamVzdFxuICAgICAgICAuZm4oKVxuICAgICAgICAubW9ja0ltcGxlbWVudGF0aW9uKFxuICAgICAgICAgICgpID0+XG4gICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZSh7IHN1Y2Nlc3M6IHRydWUgfSksIDEwMClcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIG1vY2tVc2VBZG1pbkF1dGhGbi5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBsb2dpbjogbW9ja0xvZ2luLFxuICAgICAgICBsb2dvdXQ6IGplc3QuZm4oKSxcbiAgICAgICAgdXNlcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxRdWVyeUNsaWVudFByb3ZpZGVyIGNsaWVudD17cXVlcnlDbGllbnR9PlxuICAgICAgICAgIDxBZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICAgICAgICA8QWRtaW5Mb2dpblBhZ2UgLz5cbiAgICAgICAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICAgICAgICA8L0FkbWluQXV0aFByb3ZpZGVyPlxuICAgICAgICA8L1F1ZXJ5Q2xpZW50UHJvdmlkZXI+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBlbWFpbElucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdFbWFpbCBBZGRyZXNzJyk7XG4gICAgICBjb25zdCBwYXNzd29yZElucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdQYXNzd29yZCcpO1xuICAgICAgY29uc3QgbG9naW5CdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6ICdTaWduIEluJyB9KTtcblxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShlbWFpbElucHV0LCB7XG4gICAgICAgIHRhcmdldDogeyB2YWx1ZTogJ2Fmb3VhZHNvZnR3YXJlZW5naW5lZXJAZ21haWwuY29tJyB9LFxuICAgICAgfSk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHBhc3N3b3JkSW5wdXQsIHtcbiAgICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAnWmF0b25hRm91c2h3YXJlJDg4ODgnIH0sXG4gICAgICB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhsb2dpbkJ1dHRvbik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTaWduaW5nIEluLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QobG9naW5CdXR0b24pLnRvQmVEaXNhYmxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzaG93IGVycm9yIG1lc3NhZ2Ugb24gbG9naW4gZmFpbHVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tMb2dpbiA9IGplc3RcbiAgICAgICAgLmZuKClcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnSW52YWxpZCBjcmVkZW50aWFscycgfSk7XG4gICAgICBtb2NrVXNlQWRtaW5BdXRoRm4ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSxcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgbG9naW46IG1vY2tMb2dpbixcbiAgICAgICAgbG9nb3V0OiBqZXN0LmZuKCksXG4gICAgICAgIHVzZXI6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8UXVlcnlDbGllbnRQcm92aWRlciBjbGllbnQ9e3F1ZXJ5Q2xpZW50fT5cbiAgICAgICAgICA8QWRtaW5BdXRoUHJvdmlkZXI+XG4gICAgICAgICAgICA8VGhlbWVQcm92aWRlcj5cbiAgICAgICAgICAgICAgPEFkbWluTG9naW5QYWdlIC8+XG4gICAgICAgICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgICAgICAgPC9BZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgPC9RdWVyeUNsaWVudFByb3ZpZGVyPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgZW1haWxJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRW1haWwgQWRkcmVzcycpO1xuICAgICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnUGFzc3dvcmQnKTtcbiAgICAgIGNvbnN0IGxvZ2luQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAnU2lnbiBJbicgfSk7XG5cbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UoZW1haWxJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICd3cm9uZ0BleGFtcGxlLmNvbScgfSB9KTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UocGFzc3dvcmRJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICd3cm9uZ3Bhc3N3b3JkJyB9IH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGxvZ2luQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdJbnZhbGlkIGNyZWRlbnRpYWxzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG5ldHdvcmsgZXJyb3JzIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrTG9naW4gPSBqZXN0LmZuKCkubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJykpO1xuICAgICAgbW9ja1VzZUFkbWluQXV0aEZuLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgIGxvZ2luOiBtb2NrTG9naW4sXG4gICAgICAgIGxvZ291dDogamVzdC5mbigpLFxuICAgICAgICB1c2VyOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFF1ZXJ5Q2xpZW50UHJvdmlkZXIgY2xpZW50PXtxdWVyeUNsaWVudH0+XG4gICAgICAgICAgPEFkbWluQXV0aFByb3ZpZGVyPlxuICAgICAgICAgICAgPFRoZW1lUHJvdmlkZXI+XG4gICAgICAgICAgICAgIDxBZG1pbkxvZ2luUGFnZSAvPlxuICAgICAgICAgICAgPC9UaGVtZVByb3ZpZGVyPlxuICAgICAgICAgIDwvQWRtaW5BdXRoUHJvdmlkZXI+XG4gICAgICAgIDwvUXVlcnlDbGllbnRQcm92aWRlcj5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGVtYWlsSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0VtYWlsIEFkZHJlc3MnKTtcbiAgICAgIGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ1Bhc3N3b3JkJyk7XG4gICAgICBjb25zdCBsb2dpbkJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogJ1NpZ24gSW4nIH0pO1xuXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKGVtYWlsSW5wdXQsIHtcbiAgICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAnYWZvdWFkc29mdHdhcmVlbmdpbmVlckBnbWFpbC5jb20nIH0sXG4gICAgICB9KTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UocGFzc3dvcmRJbnB1dCwge1xuICAgICAgICB0YXJnZXQ6IHsgdmFsdWU6ICdaYXRvbmFGb3VzaHdhcmUkODg4OCcgfSxcbiAgICAgIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGxvZ2luQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChcbiAgICAgICAgICBzY3JlZW4uZ2V0QnlUZXh0KCdBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkJylcbiAgICAgICAgKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBnZW5lcmljIGxvZ2luIGZhaWx1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrTG9naW4gPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoeyBzdWNjZXNzOiBmYWxzZSB9KTtcbiAgICAgIG1vY2tVc2VBZG1pbkF1dGhGbi5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBsb2dpbjogbW9ja0xvZ2luLFxuICAgICAgICBsb2dvdXQ6IGplc3QuZm4oKSxcbiAgICAgICAgdXNlcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxRdWVyeUNsaWVudFByb3ZpZGVyIGNsaWVudD17cXVlcnlDbGllbnR9PlxuICAgICAgICAgIDxBZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICAgICAgICA8QWRtaW5Mb2dpblBhZ2UgLz5cbiAgICAgICAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICAgICAgICA8L0FkbWluQXV0aFByb3ZpZGVyPlxuICAgICAgICA8L1F1ZXJ5Q2xpZW50UHJvdmlkZXI+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBlbWFpbElucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdFbWFpbCBBZGRyZXNzJyk7XG4gICAgICBjb25zdCBwYXNzd29yZElucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdQYXNzd29yZCcpO1xuICAgICAgY29uc3QgbG9naW5CdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6ICdTaWduIEluJyB9KTtcblxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShlbWFpbElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ3dyb25nQGV4YW1wbGUuY29tJyB9IH0pO1xuICAgICAgZmlyZUV2ZW50LmNoYW5nZShwYXNzd29yZElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ3dyb25ncGFzc3dvcmQnIH0gfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobG9naW5CdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0xvZ2luIGZhaWxlZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdVc2VyIEludGVyYWN0aW9ucycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHN1Ym1pdCBmb3JtIG9uIEVudGVyIGtleSBwcmVzcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tMb2dpbiA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgICBtb2NrVXNlQWRtaW5BdXRoRm4ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSxcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgbG9naW46IG1vY2tMb2dpbixcbiAgICAgICAgbG9nb3V0OiBqZXN0LmZuKCksXG4gICAgICAgIHVzZXI6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8UXVlcnlDbGllbnRQcm92aWRlciBjbGllbnQ9e3F1ZXJ5Q2xpZW50fT5cbiAgICAgICAgICA8QWRtaW5BdXRoUHJvdmlkZXI+XG4gICAgICAgICAgICA8VGhlbWVQcm92aWRlcj5cbiAgICAgICAgICAgICAgPEFkbWluTG9naW5QYWdlIC8+XG4gICAgICAgICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgICAgICAgPC9BZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgPC9RdWVyeUNsaWVudFByb3ZpZGVyPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgZW1haWxJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRW1haWwgQWRkcmVzcycpO1xuICAgICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnUGFzc3dvcmQnKTtcblxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShlbWFpbElucHV0LCB7XG4gICAgICAgIHRhcmdldDogeyB2YWx1ZTogJ2Fmb3VhZHNvZnR3YXJlZW5naW5lZXJAZ21haWwuY29tJyB9LFxuICAgICAgfSk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHBhc3N3b3JkSW5wdXQsIHtcbiAgICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAnWmF0b25hRm91c2h3YXJlJDg4ODgnIH0sXG4gICAgICB9KTtcbiAgICAgIGZpcmVFdmVudC5rZXlEb3duKHBhc3N3b3JkSW5wdXQsIHsga2V5OiAnRW50ZXInLCBjb2RlOiAnRW50ZXInIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KG1vY2tMb2dpbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgJ2Fmb3VhZHNvZnR3YXJlZW5naW5lZXJAZ21haWwuY29tJyxcbiAgICAgICAgICAnWmF0b25hRm91c2h3YXJlJDg4ODgnXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXBkYXRlIGZvcm0gZmllbGRzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFF1ZXJ5Q2xpZW50UHJvdmlkZXIgY2xpZW50PXtxdWVyeUNsaWVudH0+XG4gICAgICAgICAgPEFkbWluQXV0aFByb3ZpZGVyPlxuICAgICAgICAgICAgPFRoZW1lUHJvdmlkZXI+XG4gICAgICAgICAgICAgIDxBZG1pbkxvZ2luUGFnZSAvPlxuICAgICAgICAgICAgPC9UaGVtZVByb3ZpZGVyPlxuICAgICAgICAgIDwvQWRtaW5BdXRoUHJvdmlkZXI+XG4gICAgICAgIDwvUXVlcnlDbGllbnRQcm92aWRlcj5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGVtYWlsSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0VtYWlsIEFkZHJlc3MnKTtcbiAgICAgIGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ1Bhc3N3b3JkJyk7XG5cbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UoZW1haWxJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICd0ZXN0QGV4YW1wbGUuY29tJyB9IH0pO1xuICAgICAgZmlyZUV2ZW50LmNoYW5nZShwYXNzd29yZElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ3Rlc3RwYXNzd29yZCcgfSB9KTtcblxuICAgICAgZXhwZWN0KGVtYWlsSW5wdXQpLnRvSGF2ZVZhbHVlKCd0ZXN0QGV4YW1wbGUuY29tJyk7XG4gICAgICBleHBlY3QocGFzc3dvcmRJbnB1dCkudG9IYXZlVmFsdWUoJ3Rlc3RwYXNzd29yZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNhYmxlIHN1Ym1pdCBidXR0b24gZHVyaW5nIGxvYWRpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrTG9naW4gPSBqZXN0XG4gICAgICAgIC5mbigpXG4gICAgICAgIC5tb2NrSW1wbGVtZW50YXRpb24oXG4gICAgICAgICAgKCkgPT5cbiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT5cbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKHsgc3VjY2VzczogdHJ1ZSB9KSwgMTAwKVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgbW9ja1VzZUFkbWluQXV0aEZuLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgIGxvZ2luOiBtb2NrTG9naW4sXG4gICAgICAgIGxvZ291dDogamVzdC5mbigpLFxuICAgICAgICB1c2VyOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFF1ZXJ5Q2xpZW50UHJvdmlkZXIgY2xpZW50PXtxdWVyeUNsaWVudH0+XG4gICAgICAgICAgPEFkbWluQXV0aFByb3ZpZGVyPlxuICAgICAgICAgICAgPFRoZW1lUHJvdmlkZXI+XG4gICAgICAgICAgICAgIDxBZG1pbkxvZ2luUGFnZSAvPlxuICAgICAgICAgICAgPC9UaGVtZVByb3ZpZGVyPlxuICAgICAgICAgIDwvQWRtaW5BdXRoUHJvdmlkZXI+XG4gICAgICAgIDwvUXVlcnlDbGllbnRQcm92aWRlcj5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGVtYWlsSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0VtYWlsIEFkZHJlc3MnKTtcbiAgICAgIGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ1Bhc3N3b3JkJyk7XG4gICAgICBjb25zdCBsb2dpbkJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogJ1NpZ24gSW4nIH0pO1xuXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKGVtYWlsSW5wdXQsIHtcbiAgICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAnYWZvdWFkc29mdHdhcmVlbmdpbmVlckBnbWFpbC5jb20nIH0sXG4gICAgICB9KTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UocGFzc3dvcmRJbnB1dCwge1xuICAgICAgICB0YXJnZXQ6IHsgdmFsdWU6ICdaYXRvbmFGb3VzaHdhcmUkODg4OCcgfSxcbiAgICAgIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGxvZ2luQnV0dG9uKTtcblxuICAgICAgZXhwZWN0KGxvZ2luQnV0dG9uKS50b0JlRGlzYWJsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0FjY2Vzc2liaWxpdHknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBBUklBIGxhYmVscyBhbmQgcm9sZXMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxRdWVyeUNsaWVudFByb3ZpZGVyIGNsaWVudD17cXVlcnlDbGllbnR9PlxuICAgICAgICAgIDxBZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICAgICAgICA8QWRtaW5Mb2dpblBhZ2UgLz5cbiAgICAgICAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICAgICAgICA8L0FkbWluQXV0aFByb3ZpZGVyPlxuICAgICAgICA8L1F1ZXJ5Q2xpZW50UHJvdmlkZXI+XG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdFbWFpbCBBZGRyZXNzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdQYXNzd29yZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KFxuICAgICAgICBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6ICdTaWduIEluJyB9KVxuICAgICAgKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2Zvcm0nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUga2V5Ym9hcmQgbmF2aWdhYmxlJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8UXVlcnlDbGllbnRQcm92aWRlciBjbGllbnQ9e3F1ZXJ5Q2xpZW50fT5cbiAgICAgICAgICA8QWRtaW5BdXRoUHJvdmlkZXI+XG4gICAgICAgICAgICA8VGhlbWVQcm92aWRlcj5cbiAgICAgICAgICAgICAgPEFkbWluTG9naW5QYWdlIC8+XG4gICAgICAgICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgICAgICAgPC9BZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgPC9RdWVyeUNsaWVudFByb3ZpZGVyPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgZW1haWxJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRW1haWwgQWRkcmVzcycpO1xuICAgICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnUGFzc3dvcmQnKTtcbiAgICAgIGNvbnN0IGxvZ2luQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAnU2lnbiBJbicgfSk7XG5cbiAgICAgIGVtYWlsSW5wdXQuZm9jdXMoKTtcbiAgICAgIGV4cGVjdChlbWFpbElucHV0KS50b0hhdmVGb2N1cygpO1xuXG4gICAgICBmaXJlRXZlbnQua2V5RG93bihlbWFpbElucHV0LCB7IGtleTogJ1RhYicgfSk7XG4gICAgICBleHBlY3QocGFzc3dvcmRJbnB1dCkudG9IYXZlRm9jdXMoKTtcblxuICAgICAgZmlyZUV2ZW50LmtleURvd24ocGFzc3dvcmRJbnB1dCwgeyBrZXk6ICdUYWInIH0pO1xuICAgICAgZXhwZWN0KGxvZ2luQnV0dG9uKS50b0hhdmVGb2N1cygpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBmb3JtIHN0cnVjdHVyZScsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFF1ZXJ5Q2xpZW50UHJvdmlkZXIgY2xpZW50PXtxdWVyeUNsaWVudH0+XG4gICAgICAgICAgPEFkbWluQXV0aFByb3ZpZGVyPlxuICAgICAgICAgICAgPFRoZW1lUHJvdmlkZXI+XG4gICAgICAgICAgICAgIDxBZG1pbkxvZ2luUGFnZSAvPlxuICAgICAgICAgICAgPC9UaGVtZVByb3ZpZGVyPlxuICAgICAgICAgIDwvQWRtaW5BdXRoUHJvdmlkZXI+XG4gICAgICAgIDwvUXVlcnlDbGllbnRQcm92aWRlcj5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGZvcm0gPSBzY3JlZW4uZ2V0QnlSb2xlKCdmb3JtJyk7XG4gICAgICBleHBlY3QoZm9ybSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgICAgY29uc3QgZW1haWxJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRW1haWwgQWRkcmVzcycpO1xuICAgICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnUGFzc3dvcmQnKTtcblxuICAgICAgZXhwZWN0KGVtYWlsSW5wdXQpLnRvSGF2ZUF0dHJpYnV0ZSgndHlwZScsICdlbWFpbCcpO1xuICAgICAgZXhwZWN0KHBhc3N3b3JkSW5wdXQpLnRvSGF2ZUF0dHJpYnV0ZSgndHlwZScsICdwYXNzd29yZCcpO1xuICAgICAgZXhwZWN0KGVtYWlsSW5wdXQpLnRvQmVSZXF1aXJlZCgpO1xuICAgICAgZXhwZWN0KHBhc3N3b3JkSW5wdXQpLnRvQmVSZXF1aXJlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2VjdXJpdHkgRmVhdHVyZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBub3QgbG9nIHNlbnNpdGl2ZSBpbmZvcm1hdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnNvbGVTcHkgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdsb2cnKS5tb2NrSW1wbGVtZW50YXRpb24oKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8UXVlcnlDbGllbnRQcm92aWRlciBjbGllbnQ9e3F1ZXJ5Q2xpZW50fT5cbiAgICAgICAgICA8QWRtaW5BdXRoUHJvdmlkZXI+XG4gICAgICAgICAgICA8VGhlbWVQcm92aWRlcj5cbiAgICAgICAgICAgICAgPEFkbWluTG9naW5QYWdlIC8+XG4gICAgICAgICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgICAgICAgPC9BZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgPC9RdWVyeUNsaWVudFByb3ZpZGVyPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgZW1haWxJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRW1haWwgQWRkcmVzcycpO1xuICAgICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnUGFzc3dvcmQnKTtcblxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShlbWFpbElucHV0LCB7XG4gICAgICAgIHRhcmdldDogeyB2YWx1ZTogJ2Fmb3VhZHNvZnR3YXJlZW5naW5lZXJAZ21haWwuY29tJyB9LFxuICAgICAgfSk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHBhc3N3b3JkSW5wdXQsIHtcbiAgICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAnWmF0b25hRm91c2h3YXJlJDg4ODgnIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gQ2hlY2sgdGhhdCBwYXNzd29yZCBpcyBub3QgbG9nZ2VkXG4gICAgICBleHBlY3QoY29uc29sZVNweSkubm90LnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnWmF0b25hRm91c2h3YXJlJDg4ODgnKVxuICAgICAgKTtcblxuICAgICAgY29uc29sZVNweS5tb2NrUmVzdG9yZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcmV2ZW50IFhTUyBhdHRhY2tzIGluIGZvcm0gaW5wdXRzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8UXVlcnlDbGllbnRQcm92aWRlciBjbGllbnQ9e3F1ZXJ5Q2xpZW50fT5cbiAgICAgICAgICA8QWRtaW5BdXRoUHJvdmlkZXI+XG4gICAgICAgICAgICA8VGhlbWVQcm92aWRlcj5cbiAgICAgICAgICAgICAgPEFkbWluTG9naW5QYWdlIC8+XG4gICAgICAgICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgICAgICAgPC9BZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgPC9RdWVyeUNsaWVudFByb3ZpZGVyPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgZW1haWxJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRW1haWwgQWRkcmVzcycpO1xuICAgICAgY29uc3QgbWFsaWNpb3VzSW5wdXQgPSAnPHNjcmlwdD5hbGVydChcInhzc1wiKTwvc2NyaXB0Pic7XG5cbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UoZW1haWxJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6IG1hbGljaW91c0lucHV0IH0gfSk7XG5cbiAgICAgIC8vIFRoZSBpbnB1dCBzaG91bGQgYmUgc2FuaXRpemVkIGFuZCBub3QgZXhlY3V0ZSB0aGUgc2NyaXB0XG4gICAgICBleHBlY3QoZW1haWxJbnB1dCkudG9IYXZlVmFsdWUobWFsaWNpb3VzSW5wdXQpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgneHNzJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB1c2Ugc2VjdXJlIHBhc3N3b3JkIGlucHV0IHR5cGUnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxRdWVyeUNsaWVudFByb3ZpZGVyIGNsaWVudD17cXVlcnlDbGllbnR9PlxuICAgICAgICAgIDxBZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICAgICAgICA8QWRtaW5Mb2dpblBhZ2UgLz5cbiAgICAgICAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICAgICAgICA8L0FkbWluQXV0aFByb3ZpZGVyPlxuICAgICAgICA8L1F1ZXJ5Q2xpZW50UHJvdmlkZXI+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBwYXNzd29yZElucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdQYXNzd29yZCcpO1xuICAgICAgZXhwZWN0KHBhc3N3b3JkSW5wdXQpLnRvSGF2ZUF0dHJpYnV0ZSgndHlwZScsICdwYXNzd29yZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTmF2aWdhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhdmUgd29ya2luZyBiYWNrIHRvIGhvbWUgbGluaycsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFF1ZXJ5Q2xpZW50UHJvdmlkZXIgY2xpZW50PXtxdWVyeUNsaWVudH0+XG4gICAgICAgICAgPEFkbWluQXV0aFByb3ZpZGVyPlxuICAgICAgICAgICAgPFRoZW1lUHJvdmlkZXI+XG4gICAgICAgICAgICAgIDxBZG1pbkxvZ2luUGFnZSAvPlxuICAgICAgICAgICAgPC9UaGVtZVByb3ZpZGVyPlxuICAgICAgICAgIDwvQWRtaW5BdXRoUHJvdmlkZXI+XG4gICAgICAgIDwvUXVlcnlDbGllbnRQcm92aWRlcj5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGJhY2tMaW5rID0gc2NyZWVuLmdldEJ5VGV4dCgn4oaQIEJhY2sgdG8gSG9tZScpO1xuICAgICAgZXhwZWN0KGJhY2tMaW5rKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KGJhY2tMaW5rLmNsb3Nlc3QoJ2EnKSkudG9IYXZlQXR0cmlidXRlKCdocmVmJywgJy8nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSB3b3JraW5nIGJhY2sgdG8gc2l0ZSBsaW5rIGluIG5hdmJhcicsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFF1ZXJ5Q2xpZW50UHJvdmlkZXIgY2xpZW50PXtxdWVyeUNsaWVudH0+XG4gICAgICAgICAgPEFkbWluQXV0aFByb3ZpZGVyPlxuICAgICAgICAgICAgPFRoZW1lUHJvdmlkZXI+XG4gICAgICAgICAgICAgIDxBZG1pbkxvZ2luUGFnZSAvPlxuICAgICAgICAgICAgPC9UaGVtZVByb3ZpZGVyPlxuICAgICAgICAgIDwvQWRtaW5BdXRoUHJvdmlkZXI+XG4gICAgICAgIDwvUXVlcnlDbGllbnRQcm92aWRlcj5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGJhY2tUb1NpdGVMaW5rID0gc2NyZWVuLmdldEJ5VGV4dCgnQmFjayB0byBTaXRlJyk7XG4gICAgICBleHBlY3QoYmFja1RvU2l0ZUxpbmspLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QoYmFja1RvU2l0ZUxpbmsuY2xvc2VzdCgnYScpKS50b0hhdmVBdHRyaWJ1dGUoJ2hyZWYnLCAnLycpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnVGhlbWUgU3VwcG9ydCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHN1cHBvcnQgZGFyayBtb2RlIGNsYXNzZXMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxRdWVyeUNsaWVudFByb3ZpZGVyIGNsaWVudD17cXVlcnlDbGllbnR9PlxuICAgICAgICAgIDxBZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICAgICAgICA8QWRtaW5Mb2dpblBhZ2UgLz5cbiAgICAgICAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICAgICAgICA8L0FkbWluQXV0aFByb3ZpZGVyPlxuICAgICAgICA8L1F1ZXJ5Q2xpZW50UHJvdmlkZXI+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBjb250YWluZXIgPSBzY3JlZW4uZ2V0QnlUZXh0KCdBZG1pbiBMb2dpbicpLmNsb3Nlc3QoJ2RpdicpO1xuICAgICAgZXhwZWN0KGNvbnRhaW5lcikudG9IYXZlQ2xhc3MoJ2Rhcms6dGV4dC13aGl0ZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHRoZW1lIHRvZ2dsZSBidXR0b24gaW4gbmF2YmFyJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8UXVlcnlDbGllbnRQcm92aWRlciBjbGllbnQ9e3F1ZXJ5Q2xpZW50fT5cbiAgICAgICAgICA8QWRtaW5BdXRoUHJvdmlkZXI+XG4gICAgICAgICAgICA8VGhlbWVQcm92aWRlcj5cbiAgICAgICAgICAgICAgPEFkbWluTG9naW5QYWdlIC8+XG4gICAgICAgICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgICAgICAgPC9BZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgPC9RdWVyeUNsaWVudFByb3ZpZGVyPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgdGhlbWVCdXR0b24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ1RvZ2dsZSB0aGVtZScpO1xuICAgICAgZXhwZWN0KHRoZW1lQnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IGVycm9yIG1lc3NhZ2VzIHdpdGggcHJvcGVyIHN0eWxpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrTG9naW4gPSBqZXN0XG4gICAgICAgIC5mbigpXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZSh7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1Rlc3QgZXJyb3IgbWVzc2FnZScgfSk7XG4gICAgICBtb2NrVXNlQWRtaW5BdXRoRm4ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSxcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgbG9naW46IG1vY2tMb2dpbixcbiAgICAgICAgbG9nb3V0OiBqZXN0LmZuKCksXG4gICAgICAgIHVzZXI6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8UXVlcnlDbGllbnRQcm92aWRlciBjbGllbnQ9e3F1ZXJ5Q2xpZW50fT5cbiAgICAgICAgICA8QWRtaW5BdXRoUHJvdmlkZXI+XG4gICAgICAgICAgICA8VGhlbWVQcm92aWRlcj5cbiAgICAgICAgICAgICAgPEFkbWluTG9naW5QYWdlIC8+XG4gICAgICAgICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgICAgICAgPC9BZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgPC9RdWVyeUNsaWVudFByb3ZpZGVyPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgZW1haWxJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRW1haWwgQWRkcmVzcycpO1xuICAgICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnUGFzc3dvcmQnKTtcbiAgICAgIGNvbnN0IGxvZ2luQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAnU2lnbiBJbicgfSk7XG5cbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UoZW1haWxJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICd0ZXN0QGV4YW1wbGUuY29tJyB9IH0pO1xuICAgICAgZmlyZUV2ZW50LmNoYW5nZShwYXNzd29yZElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ3Rlc3RwYXNzd29yZCcgfSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhsb2dpbkJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBzY3JlZW4uZ2V0QnlUZXh0KCdUZXN0IGVycm9yIG1lc3NhZ2UnKTtcbiAgICAgICAgZXhwZWN0KGVycm9yTWVzc2FnZSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KGVycm9yTWVzc2FnZSkudG9IYXZlQ2xhc3MoJ3RleHQtcmVkLTYwMCcpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsZWFyIGVycm9yIHN0YXRlIHdoZW4gZm9ybSBpcyByZXN1Ym1pdHRlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tMb2dpbiA9IGplc3RcbiAgICAgICAgLmZuKClcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ZpcnN0IGVycm9yJyB9KVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgICAgIG1vY2tVc2VBZG1pbkF1dGhGbi5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBsb2dpbjogbW9ja0xvZ2luLFxuICAgICAgICBsb2dvdXQ6IGplc3QuZm4oKSxcbiAgICAgICAgdXNlcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxRdWVyeUNsaWVudFByb3ZpZGVyIGNsaWVudD17cXVlcnlDbGllbnR9PlxuICAgICAgICAgIDxBZG1pbkF1dGhQcm92aWRlcj5cbiAgICAgICAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICAgICAgICA8QWRtaW5Mb2dpblBhZ2UgLz5cbiAgICAgICAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICAgICAgICA8L0FkbWluQXV0aFByb3ZpZGVyPlxuICAgICAgICA8L1F1ZXJ5Q2xpZW50UHJvdmlkZXI+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBlbWFpbElucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdFbWFpbCBBZGRyZXNzJyk7XG4gICAgICBjb25zdCBwYXNzd29yZElucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdQYXNzd29yZCcpO1xuICAgICAgY29uc3QgbG9naW5CdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6ICdTaWduIEluJyB9KTtcblxuICAgICAgLy8gRmlyc3Qgc3VibWlzc2lvbiB3aXRoIGVycm9yXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKGVtYWlsSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAndGVzdEBleGFtcGxlLmNvbScgfSB9KTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UocGFzc3dvcmRJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICd3cm9uZ3Bhc3N3b3JkJyB9IH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGxvZ2luQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdGaXJzdCBlcnJvcicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFNlY29uZCBzdWJtaXNzaW9uIHdpdGggc3VjY2Vzc1xuICAgICAgZmlyZUV2ZW50LmNoYW5nZShlbWFpbElucHV0LCB7XG4gICAgICAgIHRhcmdldDogeyB2YWx1ZTogJ2Fmb3VhZHNvZnR3YXJlZW5naW5lZXJAZ21haWwuY29tJyB9LFxuICAgICAgfSk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHBhc3N3b3JkSW5wdXQsIHtcbiAgICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAnWmF0b25hRm91c2h3YXJlJDg4ODgnIH0sXG4gICAgICB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhsb2dpbkJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdGaXJzdCBlcnJvcicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlUXVlcnlTdGF0ZSIsImZuIiwidXNlUXVlcnlTdGF0ZXMiLCJwYXJzZUFzU3RyaW5nIiwicGFyc2VBc0ludGVnZXIiLCJjcmVhdGVTZWFyY2hQYXJhbXNDYWNoZSIsImNyZWF0ZUNsaWVudCIsImZyb20iLCJzZWxlY3QiLCJlcSIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiZGF0YSIsImVycm9yIiwiUmVhY3QiLCJyZXF1aXJlIiwiUXVlcnlDbGllbnRQcm92aWRlciIsImNoaWxkcmVuIiwiUXVlcnlDbGllbnQiLCJpbnZhbGlkYXRlUXVlcmllcyIsInNldFF1ZXJ5RGF0YSIsImdldFF1ZXJ5RGF0YSIsInVzZVF1ZXJ5Q2xpZW50IiwidXNlUXVlcnkiLCJpc0xvYWRpbmciLCJ1c2VNdXRhdGlvbiIsIm11dGF0ZSIsIm11dGF0ZUFzeW5jIiwidXNlUm91dGVyIiwiQWRtaW5BdXRoUHJvdmlkZXIiLCJ1c2VBZG1pbkF1dGgiLCJtb2NrVXNlQWRtaW5BdXRoRm4iLCJUaGVtZVByb3ZpZGVyIiwidXNlVGhlbWUiLCJpc0RhcmtNb2RlIiwidG9nZ2xlRGFya01vZGUiLCJzZXREYXJrTW9kZSIsImlzTG9hZGVkIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsImlzQXV0aGVudGljYXRlZCIsImxvZ2luIiwibG9nb3V0IiwidXNlciIsImdsb2JhbCIsImZldGNoIiwiZGVzY3JpYmUiLCJtb2NrUHVzaCIsIm1vY2tVc2VSb3V0ZXIiLCJxdWVyeUNsaWVudCIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwibW9ja1JldHVyblZhbHVlIiwicHVzaCIsInJlcGxhY2UiLCJwcmVmZXRjaCIsImJhY2siLCJmb3J3YXJkIiwicmVmcmVzaCIsImFmdGVyRWFjaCIsInJlc3RvcmVBbGxNb2NrcyIsIml0IiwicmVuZGVyIiwiY2xpZW50IiwiQWRtaW5Mb2dpblBhZ2UiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsImdldEJ5TGFiZWxUZXh0IiwiZ2V0QnlSb2xlIiwibmFtZSIsImlkIiwiZW1haWwiLCJyb2xlIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJsb2dpbkJ1dHRvbiIsImZpcmVFdmVudCIsImNsaWNrIiwid2FpdEZvciIsImdldEJ5RGlzcGxheVZhbHVlIiwiZW1haWxJbnB1dCIsInBhc3N3b3JkSW5wdXQiLCJ0b0JlUmVxdWlyZWQiLCJjaGFuZ2UiLCJ0YXJnZXQiLCJ2YWx1ZSIsInRvSGF2ZUF0dHJpYnV0ZSIsIm1vY2tMb2dpbiIsInN1Y2Nlc3MiLCJxdWVyeUJ5VGV4dCIsIm5vdCIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInRvQmVEaXNhYmxlZCIsIm1vY2tSZWplY3RlZFZhbHVlIiwiRXJyb3IiLCJrZXlEb3duIiwia2V5IiwiY29kZSIsInRvSGF2ZVZhbHVlIiwiZm9jdXMiLCJ0b0hhdmVGb2N1cyIsImZvcm0iLCJjb25zb2xlU3B5Iiwic3B5T24iLCJjb25zb2xlIiwic3RyaW5nQ29udGFpbmluZyIsIm1vY2tSZXN0b3JlIiwibWFsaWNpb3VzSW5wdXQiLCJiYWNrTGluayIsImNsb3Nlc3QiLCJiYWNrVG9TaXRlTGluayIsImNvbnRhaW5lciIsInRvSGF2ZUNsYXNzIiwidGhlbWVCdXR0b24iLCJlcnJvck1lc3NhZ2UiLCJtb2NrUmVzb2x2ZWRWYWx1ZU9uY2UiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7O0NBVUMsR0FFRCxrREFBa0Q7O0FBS2xELDJDQUEyQztBQUMzQ0EsS0FBS0MsSUFBSSxDQUFDLFFBQVEsSUFBTyxDQUFBO1FBQ3ZCQyxlQUFlRixLQUFLRyxFQUFFLENBQUMsSUFBTTtnQkFBQztnQkFBTUgsS0FBS0csRUFBRTthQUFHO1FBQzlDQyxnQkFBZ0JKLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO2dCQUFDLENBQUM7Z0JBQUdILEtBQUtHLEVBQUU7YUFBRztRQUM3Q0UsZUFBZUwsS0FBS0csRUFBRTtRQUN0QkcsZ0JBQWdCTixLQUFLRyxFQUFFO1FBQ3ZCSSx5QkFB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