66251d3d4222ddf0e8ec5e7cf1d5829d
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get authErrorAtom () {
        return authErrorAtom;
    },
    get authLoadingAtom () {
        return authLoadingAtom;
    },
    get isAuthenticatedAtom () {
        return isAuthenticatedAtom;
    },
    get signInAtom () {
        return signInAtom;
    },
    get signOutAtom () {
        return signOutAtom;
    },
    get supabaseUserAtom () {
        return supabaseUserAtom;
    },
    get updateUserProfileAtom () {
        return updateUserProfileAtom;
    },
    get userProfileAtom () {
        return userProfileAtom;
    }
});
const _jotai = require("jotai");
const supabaseUserAtom = (0, _jotai.atom)(null);
const authLoadingAtom = (0, _jotai.atom)(false);
const authErrorAtom = (0, _jotai.atom)(null);
const userProfileAtom = (0, _jotai.atom)(null);
const isAuthenticatedAtom = (0, _jotai.atom)((get)=>{
    const user = get(supabaseUserAtom);
    return user !== null;
});
const signInAtom = (0, _jotai.atom)(null, async (get, set, { email, password })=>{
    set(authLoadingAtom, true);
    set(authErrorAtom, null);
    try {
        // This will be implemented with actual Firebase auth
        // For now, just a placeholder
        console.log('Sign in with:', {
            email,
            password
        });
    } catch (error) {
        set(authErrorAtom, error instanceof Error ? error.message : 'Sign in failed');
    } finally{
        set(authLoadingAtom, false);
    }
});
const signOutAtom = (0, _jotai.atom)(null, async (get, set)=>{
    set(authLoadingAtom, true);
    set(authErrorAtom, null);
    try {
        // This will be implemented with actual Firebase auth
        // For now, just a placeholder
        console.log('Sign out');
        set(supabaseUserAtom, null);
        set(userProfileAtom, null);
    } catch (error) {
        set(authErrorAtom, error instanceof Error ? error.message : 'Sign out failed');
    } finally{
        set(authLoadingAtom, false);
    }
});
const updateUserProfileAtom = (0, _jotai.atom)(null, async (get, set, updates)=>{
    const currentProfile = get(userProfileAtom);
    if (currentProfile) {
        set(userProfileAtom, {
            ...currentProfile,
            ...updates
        });
    }
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hLmZvdWFkL1NpZGVQcm9qZWN0cy9FbHphdG9uYS1hbGwvRWx6YXRvbmEtd2ViL2xpYnMvc2hhcmVkLWF0b21zL3NyYy9saWIvYXV0aC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhdG9tIH0gZnJvbSAnam90YWknO1xuXG4vLyBTdXBhYmFzZSB1c2VyIGF0b21cbmV4cG9ydCBjb25zdCBzdXBhYmFzZVVzZXJBdG9tID0gYXRvbTxhbnkgfCBudWxsPihudWxsKTtcblxuLy8gQXV0aCBsb2FkaW5nIHN0YXRlXG5leHBvcnQgY29uc3QgYXV0aExvYWRpbmdBdG9tID0gYXRvbShmYWxzZSk7XG5cbi8vIEF1dGggZXJyb3Igc3RhdGVcbmV4cG9ydCBjb25zdCBhdXRoRXJyb3JBdG9tID0gYXRvbTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuLy8gVXNlciBwcm9maWxlIHR5cGVcbnR5cGUgVXNlclByb2ZpbGUgPSB7XG4gIHVpZDogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nIHwgbnVsbDtcbiAgZGlzcGxheU5hbWU6IHN0cmluZyB8IG51bGw7XG4gIHBob3RvVVJMOiBzdHJpbmcgfCBudWxsO1xuICBlbWFpbFZlcmlmaWVkOiBib29sZWFuO1xuICBjcmVhdGVkQXQ/OiBEYXRlO1xuICBsYXN0TG9naW5BdD86IERhdGU7XG4gIHByZWZlcmVuY2VzPzoge1xuICAgIHRoZW1lOiAnbGlnaHQnIHwgJ2RhcmsnO1xuICAgIGxhbmd1YWdlOiAnZW4nIHwgJ2FyJztcbiAgICBub3RpZmljYXRpb25zOiBib29sZWFuO1xuICB9O1xufTtcblxuLy8gVXNlciBwcm9maWxlIGF0b20gKGV4dGVuZGVkIHVzZXIgZGF0YSlcbmV4cG9ydCBjb25zdCB1c2VyUHJvZmlsZUF0b20gPSBhdG9tPFVzZXJQcm9maWxlIHwgbnVsbD4obnVsbCk7XG5cbi8vIEF1dGggc3RhdHVzIGF0b21cbmV4cG9ydCBjb25zdCBpc0F1dGhlbnRpY2F0ZWRBdG9tID0gYXRvbShnZXQgPT4ge1xuICBjb25zdCB1c2VyID0gZ2V0KHN1cGFiYXNlVXNlckF0b20pO1xuICByZXR1cm4gdXNlciAhPT0gbnVsbDtcbn0pO1xuXG4vLyBTaWduIGluIGF0b21cbmV4cG9ydCBjb25zdCBzaWduSW5BdG9tID0gYXRvbShcbiAgbnVsbCxcbiAgYXN5bmMgKFxuICAgIGdldCxcbiAgICBzZXQsXG4gICAgeyBlbWFpbCwgcGFzc3dvcmQgfTogeyBlbWFpbDogc3RyaW5nOyBwYXNzd29yZDogc3RyaW5nIH1cbiAgKSA9PiB7XG4gICAgc2V0KGF1dGhMb2FkaW5nQXRvbSwgdHJ1ZSk7XG4gICAgc2V0KGF1dGhFcnJvckF0b20sIG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFRoaXMgd2lsbCBiZSBpbXBsZW1lbnRlZCB3aXRoIGFjdHVhbCBGaXJlYmFzZSBhdXRoXG4gICAgICAvLyBGb3Igbm93LCBqdXN0IGEgcGxhY2Vob2xkZXJcbiAgICAgIGNvbnNvbGUubG9nKCdTaWduIGluIHdpdGg6JywgeyBlbWFpbCwgcGFzc3dvcmQgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHNldChcbiAgICAgICAgYXV0aEVycm9yQXRvbSxcbiAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnU2lnbiBpbiBmYWlsZWQnXG4gICAgICApO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXQoYXV0aExvYWRpbmdBdG9tLCBmYWxzZSk7XG4gICAgfVxuICB9XG4pO1xuXG4vLyBTaWduIG91dCBhdG9tXG5leHBvcnQgY29uc3Qgc2lnbk91dEF0b20gPSBhdG9tKG51bGwsIGFzeW5jIChnZXQsIHNldCkgPT4ge1xuICBzZXQoYXV0aExvYWRpbmdBdG9tLCB0cnVlKTtcbiAgc2V0KGF1dGhFcnJvckF0b20sIG51bGwpO1xuXG4gIHRyeSB7XG4gICAgLy8gVGhpcyB3aWxsIGJlIGltcGxlbWVudGVkIHdpdGggYWN0dWFsIEZpcmViYXNlIGF1dGhcbiAgICAvLyBGb3Igbm93LCBqdXN0IGEgcGxhY2Vob2xkZXJcbiAgICBjb25zb2xlLmxvZygnU2lnbiBvdXQnKTtcbiAgICBzZXQoc3VwYWJhc2VVc2VyQXRvbSwgbnVsbCk7XG4gICAgc2V0KHVzZXJQcm9maWxlQXRvbSwgbnVsbCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgc2V0KFxuICAgICAgYXV0aEVycm9yQXRvbSxcbiAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1NpZ24gb3V0IGZhaWxlZCdcbiAgICApO1xuICB9IGZpbmFsbHkge1xuICAgIHNldChhdXRoTG9hZGluZ0F0b20sIGZhbHNlKTtcbiAgfVxufSk7XG5cbi8vIFVwZGF0ZSB1c2VyIHByb2ZpbGUgYXRvbVxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXJQcm9maWxlQXRvbSA9IGF0b20oXG4gIG51bGwsXG4gIGFzeW5jIChnZXQsIHNldCwgdXBkYXRlczogUGFydGlhbDxVc2VyUHJvZmlsZT4pID0+IHtcbiAgICBjb25zdCBjdXJyZW50UHJvZmlsZSA9IGdldCh1c2VyUHJvZmlsZUF0b20pO1xuICAgIGlmIChjdXJyZW50UHJvZmlsZSkge1xuICAgICAgc2V0KHVzZXJQcm9maWxlQXRvbSwgeyAuLi5jdXJyZW50UHJvZmlsZSwgLi4udXBkYXRlcyB9KTtcbiAgICB9XG4gIH1cbik7XG4iXSwibmFtZXMiOlsiYXV0aEVycm9yQXRvbSIsImF1dGhMb2FkaW5nQXRvbSIsImlzQXV0aGVudGljYXRlZEF0b20iLCJzaWduSW5BdG9tIiwic2lnbk91dEF0b20iLCJzdXBhYmFzZVVzZXJBdG9tIiwidXBkYXRlVXNlclByb2ZpbGVBdG9tIiwidXNlclByb2ZpbGVBdG9tIiwiYXRvbSIsImdldCIsInVzZXIiLCJzZXQiLCJlbWFpbCIsInBhc3N3b3JkIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwidXBkYXRlcyIsImN1cnJlbnRQcm9maWxlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztRQVNhQTtlQUFBQTs7UUFIQUM7ZUFBQUE7O1FBeUJBQztlQUFBQTs7UUFNQUM7ZUFBQUE7O1FBMEJBQztlQUFBQTs7UUE1REFDO2VBQUFBOztRQWlGQUM7ZUFBQUE7O1FBeERBQztlQUFBQTs7O3VCQTVCUTtBQUdkLE1BQU1GLG1CQUFtQkcsSUFBQUEsV0FBSSxFQUFhO0FBRzFDLE1BQU1QLGtCQUFrQk8sSUFBQUEsV0FBSSxFQUFDO0FBRzdCLE1BQU1SLGdCQUFnQlEsSUFBQUEsV0FBSSxFQUFnQjtBQW1CMUMsTUFBTUQsa0JBQWtCQyxJQUFBQSxXQUFJLEVBQXFCO0FBR2pELE1BQU1OLHNCQUFzQk0sSUFBQUEsV0FBSSxFQUFDQyxDQUFBQTtJQUN0QyxNQUFNQyxPQUFPRCxJQUFJSjtJQUNqQixPQUFPSyxTQUFTO0FBQ2xCO0FBR08sTUFBTVAsYUFBYUssSUFBQUEsV0FBSSxFQUM1QixNQUNBLE9BQ0VDLEtBQ0FFLEtBQ0EsRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQXVDO0lBRXhERixJQUFJVixpQkFBaUI7SUFDckJVLElBQUlYLGVBQWU7SUFFbkIsSUFBSTtRQUNGLHFEQUFxRDtRQUNyRCw4QkFBOEI7UUFDOUJjLFFBQVFDLEdBQUcsQ0FBQyxpQkFBaUI7WUFBRUg7WUFBT0M7UUFBUztJQUNqRCxFQUFFLE9BQU9HLE9BQU87UUFDZEwsSUFDRVgsZUFDQWdCLGlCQUFpQkMsUUFBUUQsTUFBTUUsT0FBTyxHQUFHO0lBRTdDLFNBQVU7UUFDUlAsSUFBSVYsaUJBQWlCO0lBQ3ZCO0FBQ0Y7QUFJSyxNQUFNRyxjQUFjSSxJQUFBQSxXQUFJLEVBQUMsTUFBTSxPQUFPQyxLQUFLRTtJQUNoREEsSUFBSVYsaUJBQWlCO0lBQ3JCVSxJQUFJWCxlQUFlO0lBRW5CLElBQUk7UUFDRixxREFBcUQ7UUFDckQsOEJBQThCO1FBQzlCYyxRQUFRQyxHQUFHLENBQUM7UUFDWkosSUFBSU4sa0JBQWtCO1FBQ3RCTSxJQUFJSixpQkFBaUI7SUFDdkIsRUFBRSxPQUFPUyxPQUFPO1FBQ2RMLElBQ0VYLGVBQ0FnQixpQkFBaUJDLFFBQVFELE1BQU1FLE9BQU8sR0FBRztJQUU3QyxTQUFVO1FBQ1JQLElBQUlWLGlCQUFpQjtJQUN2QjtBQUNGO0FBR08sTUFBTUssd0JBQXdCRSxJQUFBQSxXQUFJLEVBQ3ZDLE1BQ0EsT0FBT0MsS0FBS0UsS0FBS1E7SUFDZixNQUFNQyxpQkFBaUJYLElBQUlGO0lBQzNCLElBQUlhLGdCQUFnQjtRQUNsQlQsSUFBSUosaUJBQWlCO1lBQUUsR0FBR2EsY0FBYztZQUFFLEdBQUdELE9BQU87UUFBQztJQUN2RDtBQUNGIn0=