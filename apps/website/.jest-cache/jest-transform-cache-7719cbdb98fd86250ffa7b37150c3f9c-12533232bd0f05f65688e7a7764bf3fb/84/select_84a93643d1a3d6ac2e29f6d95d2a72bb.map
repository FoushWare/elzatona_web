{"version":3,"sources":["/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-components/src/lib/components/ui/select.tsx"],"sourcesContent":["import * as React from 'react';\nimport { ChevronDown, ChevronUp } from 'lucide-react';\nimport { cn } from '../../utils';\n\nconst Select = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & {\n    value?: string;\n    onValueChange?: (value: string) => void;\n  }\n>(({ className, value, onValueChange, children, ...props }, ref) => {\n  const [open, setOpen] = React.useState(false);\n  const [selectedValue, setSelectedValue] = React.useState(value || '');\n\n  React.useEffect(() => {\n    setSelectedValue(value || '');\n  }, [value]);\n\n  // Close dropdown when clicking outside\n  React.useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        open &&\n        ref &&\n        'current' in ref &&\n        ref.current &&\n        !ref.current.contains(event.target as Node)\n      ) {\n        setOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [open, ref]);\n\n  const handleValueChange = (newValue: string) => {\n    setSelectedValue(newValue);\n    onValueChange?.(newValue);\n    setOpen(false);\n  };\n\n  // Find SelectTrigger and SelectContent children\n  const selectTrigger = React.Children.toArray(children).find(\n    child => React.isValidElement(child) && child.type === SelectTrigger\n  );\n\n  const selectContent = React.Children.toArray(children).find(\n    child => React.isValidElement(child) && child.type === SelectContent\n  );\n\n  // Extract SelectItems from SelectContent\n  const selectItems = React.Children.toArray(\n    (React.isValidElement(selectContent) && 'children' in selectContent.props\n      ? (selectContent.props as { children?: React.ReactNode }).children\n      : undefined) || []\n  ).filter(child => React.isValidElement(child) && child.type === SelectItem);\n\n  // Find the selected item text\n  const selectedItem = selectItems.find(\n    item => React.isValidElement(item) && item.props.value === selectedValue\n  );\n  const selectedText = React.isValidElement(selectedItem)\n    ? selectedItem.props.children\n    : 'Select...';\n\n  return (\n    <div ref={ref} className={cn('relative', className)} {...props}>\n      <button\n        type='button'\n        className='flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 hover:bg-accent hover:text-accent-foreground cursor-pointer'\n        onClick={() => setOpen(!open)}\n      >\n        <span className='truncate'>{selectedText}</span>\n        {open ? (\n          <ChevronUp className='h-4 w-4 opacity-50' />\n        ) : (\n          <ChevronDown className='h-4 w-4 opacity-50' />\n        )}\n      </button>\n      {open && (\n        <div className='absolute z-50 w-full mt-1 rounded-md border bg-background shadow-lg'>\n          <div className='max-h-60 overflow-auto'>\n            {selectItems.map(item => {\n              if (React.isValidElement(item)) {\n                return (\n                  <div\n                    key={item.props.value}\n                    className='px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground cursor-pointer'\n                    onClick={() => handleValueChange(item.props.value)}\n                  >\n                    {item.props.children}\n                  </div>\n                );\n              }\n              return item;\n            })}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\nSelect.displayName = 'Select';\n\nconst SelectTrigger = React.forwardRef<\n  HTMLButtonElement,\n  React.ButtonHTMLAttributes<HTMLButtonElement>\n>(({ className, children, ...props }, ref) => (\n  <button\n    ref={ref}\n    className={cn(\n      'flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 hover:bg-accent hover:text-accent-foreground cursor-pointer',\n      className\n    )}\n    {...props}\n  >\n    {children}\n  </button>\n));\nSelectTrigger.displayName = 'SelectTrigger';\n\nconst SelectValue = React.forwardRef<\n  HTMLSpanElement,\n  React.HTMLAttributes<HTMLSpanElement> & {\n    placeholder?: string;\n  }\n>(({ className, placeholder, ...props }, ref) => (\n  <span ref={ref} className={cn('truncate', className)} {...props}>\n    {placeholder}\n  </span>\n));\nSelectValue.displayName = 'SelectValue';\n\nconst SelectContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, children, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      'relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md',\n      className\n    )}\n    {...props}\n  >\n    <div className='p-1'>{children}</div>\n  </div>\n));\nSelectContent.displayName = 'SelectContent';\n\nconst SelectItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & {\n    value: string;\n  }\n>(({ className, children, value, onClick, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      'relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',\n      className\n    )}\n    onClick={onClick}\n    {...props}\n  >\n    {children}\n  </div>\n));\nSelectItem.displayName = 'SelectItem';\n\nexport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue };\n"],"names":["Select","SelectContent","SelectItem","SelectTrigger","SelectValue","React","forwardRef","className","value","onValueChange","children","props","ref","open","setOpen","useState","selectedValue","setSelectedValue","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleValueChange","newValue","selectTrigger","Children","toArray","find","child","isValidElement","type","selectContent","selectItems","undefined","filter","selectedItem","item","selectedText","div","cn","button","onClick","span","ChevronUp","ChevronDown","map","displayName","placeholder"],"mappings":"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"}