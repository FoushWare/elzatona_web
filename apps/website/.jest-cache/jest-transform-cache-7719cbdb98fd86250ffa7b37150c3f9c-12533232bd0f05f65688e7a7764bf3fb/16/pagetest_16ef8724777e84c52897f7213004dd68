71d1d7302d94f63703a39df828bd4d7b
/**
 * Unit Tests for Homepage (G-UT-001, G-UT-002, G-UT-003)
 * Task: G-001 - Homepage Rendering
 */ "use strict";
// Mock shared contexts
jest.mock('@elzatona/shared-contexts', ()=>({
        useUserType: jest.fn(),
        useAuth: jest.fn(),
        UserStatistics: jest.fn(()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "user-statistics",
                children: "User Statistics"
            })),
        ErrorBoundary: ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_jsxruntime.Fragment, {
                children: children
            })
    }));
// Mock LearningTypeContext
jest.mock('../context/LearningTypeContext', ()=>({
        useLearningType: jest.fn(()=>({
                learningType: null,
                setLearningType: jest.fn()
            }))
    }));
// Mock Next.js Link
jest.mock('next/link', ()=>{
    return ({ children, href })=>{
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
            href: href,
            children: children
        });
    };
});
// Mock lucide-react icons
jest.mock('lucide-react', ()=>({
        ArrowRight: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                "data-testid": "arrow-right-icon",
                children: "→"
            }),
        Play: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                "data-testid": "play-icon",
                children: "▶"
            }),
        BookOpen: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                "data-testid": "book-icon",
                children: "\uD83D\uDCD6"
            }),
        Star: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                "data-testid": "star-icon",
                children: "⭐"
            }),
        Map: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                "data-testid": "map-icon",
                children: "\uD83D\uDDFA️"
            }),
        Compass: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                "data-testid": "compass-icon",
                children: "\uD83E\uDDED"
            }),
        Sparkles: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                "data-testid": "sparkles-icon",
                children: "✨"
            }),
        Zap: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                "data-testid": "zap-icon",
                children: "⚡"
            })
    }));
jest.mock('next/navigation', ()=>({
        useRouter: ()=>mockUseRouter()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
require("@testing-library/jest-dom");
const _page = /*#__PURE__*/ _interop_require_default(require("./page"));
const _sharedcontexts = /*#__PURE__*/ _interop_require_wildcard(require("../../../../libs/shared-contexts/src"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const mockUseRouter = jest.fn();
describe('G-UT-001: Homepage Renders Correctly', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        // Default mocks
        _sharedcontexts.useUserType.mockReturnValue({
            userType: null,
            setUserType: jest.fn()
        });
        _sharedcontexts.useAuth.mockReturnValue({
            isAuthenticated: false,
            user: null
        });
        mockUseRouter.mockReturnValue({
            push: jest.fn(),
            replace: jest.fn(),
            prefetch: jest.fn()
        });
        // Mock localStorage
        Storage.prototype.getItem = jest.fn(()=>null);
        Storage.prototype.setItem = jest.fn();
        Storage.prototype.removeItem = jest.fn();
    });
    it('should render homepage without errors', ()=>{
        const { container } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
        expect(container).toBeInTheDocument();
    });
    it('should not have console errors', ()=>{
        const consoleError = jest.spyOn(console, 'error').mockImplementation(()=>{});
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
        expect(consoleError).not.toHaveBeenCalled();
        consoleError.mockRestore();
    });
    it('should render all required elements', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
        // Check for main title
        expect(_react1.screen.getByText(/Master Frontend Development|Start Your Learning Path|Build Your Custom Roadmap/i)).toBeInTheDocument();
        // Check for CTA button
        const ctaButton = _react1.screen.getByRole('link', {
            name: /Get Started|Choose Learning Plan|View My Roadmap|Continue Practice/i
        });
        expect(ctaButton).toBeInTheDocument();
    });
});
describe('G-UT-002: Get Started Button Exists and is Clickable', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        _sharedcontexts.useUserType.mockReturnValue({
            userType: null,
            setUserType: jest.fn()
        });
        _sharedcontexts.useAuth.mockReturnValue({
            isAuthenticated: false,
            user: null
        });
        mockUseRouter.mockReturnValue({
            push: jest.fn(),
            replace: jest.fn(),
            prefetch: jest.fn()
        });
        Storage.prototype.getItem = jest.fn(()=>null);
    });
    it('should have Get Started button element', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
        const button = _react1.screen.getByRole('link', {
            name: /Get Started/i
        });
        expect(button).toBeInTheDocument();
    });
    it('should have Get Started button visible', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
        const button = _react1.screen.getByRole('link', {
            name: /Get Started/i
        });
        expect(button).toBeVisible();
    });
    it('should have onClick handler attached (via Link href)', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
        const button = _react1.screen.getByRole('link', {
            name: /Get Started/i
        });
        expect(button).toHaveAttribute('href', '/get-started');
    });
});
describe('G-UT-003: Navigation Links Render Correctly', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        _sharedcontexts.useUserType.mockReturnValue({
            userType: null,
            setUserType: jest.fn()
        });
        _sharedcontexts.useAuth.mockReturnValue({
            isAuthenticated: false,
            user: null
        });
        mockUseRouter.mockReturnValue({
            push: jest.fn(),
            replace: jest.fn(),
            prefetch: jest.fn()
        });
        Storage.prototype.getItem = jest.fn(()=>null);
    });
    it('should render all navigation links', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
        // Check for main CTA links
        expect(_react1.screen.getByRole('link', {
            name: /Get Started|Start Learning Now/i
        })).toBeInTheDocument();
        expect(_react1.screen.getByRole('link', {
            name: /Explore Learning Paths/i
        })).toBeInTheDocument();
    });
    it('should have correct hrefs for navigation links', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
        const getStartedLink = _react1.screen.getByRole('link', {
            name: /Get Started|Start Learning Now/i
        });
        expect(getStartedLink).toHaveAttribute('href', '/get-started');
        const learnLink = _react1.screen.getByRole('link', {
            name: /Explore Learning Paths/i
        });
        expect(learnLink).toHaveAttribute('href', '/learn');
    });
    it('should have clickable navigation links', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
        const links = _react1.screen.getAllByRole('link');
        links.forEach((link)=>{
            expect(link).toBeInTheDocument();
            expect(link).toBeVisible();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hLmZvdWFkL1NpZGVQcm9qZWN0cy9FbHphdG9uYS1hbGwvRWx6YXRvbmEtd2ViL2FwcHMvd2Vic2l0ZS9zcmMvYXBwL3BhZ2UudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVbml0IFRlc3RzIGZvciBIb21lcGFnZSAoRy1VVC0wMDEsIEctVVQtMDAyLCBHLVVULTAwMylcbiAqIFRhc2s6IEctMDAxIC0gSG9tZXBhZ2UgUmVuZGVyaW5nXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgJ0B0ZXN0aW5nLWxpYnJhcnkvamVzdC1kb20nO1xuaW1wb3J0IEhvbWVQYWdlIGZyb20gJy4vcGFnZSc7XG5pbXBvcnQgKiBhcyBzaGFyZWRDb250ZXh0cyBmcm9tICdAZWx6YXRvbmEvc2hhcmVkLWNvbnRleHRzJztcblxuLy8gTW9jayBzaGFyZWQgY29udGV4dHNcbmplc3QubW9jaygnQGVsemF0b25hL3NoYXJlZC1jb250ZXh0cycsICgpID0+ICh7XG4gIHVzZVVzZXJUeXBlOiBqZXN0LmZuKCksXG4gIHVzZUF1dGg6IGplc3QuZm4oKSxcbiAgVXNlclN0YXRpc3RpY3M6IGplc3QuZm4oKCkgPT4gPGRpdiBkYXRhLXRlc3RpZD1cInVzZXItc3RhdGlzdGljc1wiPlVzZXIgU3RhdGlzdGljczwvZGl2PiksXG4gIEVycm9yQm91bmRhcnk6ICh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSA9PiA8PntjaGlsZHJlbn08Lz4sXG59KSk7XG5cbi8vIE1vY2sgTGVhcm5pbmdUeXBlQ29udGV4dFxuamVzdC5tb2NrKCcuLi9jb250ZXh0L0xlYXJuaW5nVHlwZUNvbnRleHQnLCAoKSA9PiAoe1xuICB1c2VMZWFybmluZ1R5cGU6IGplc3QuZm4oKCkgPT4gKHtcbiAgICBsZWFybmluZ1R5cGU6IG51bGwsXG4gICAgc2V0TGVhcm5pbmdUeXBlOiBqZXN0LmZuKCksXG4gIH0pKSxcbn0pKTtcblxuLy8gTW9jayBOZXh0LmpzIExpbmtcbmplc3QubW9jaygnbmV4dC9saW5rJywgKCkgPT4ge1xuICByZXR1cm4gKHsgY2hpbGRyZW4sIGhyZWYgfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOyBocmVmOiBzdHJpbmcgfSkgPT4ge1xuICAgIHJldHVybiA8YSBocmVmPXtocmVmfT57Y2hpbGRyZW59PC9hPjtcbiAgfTtcbn0pO1xuXG4vLyBNb2NrIGx1Y2lkZS1yZWFjdCBpY29uc1xuamVzdC5tb2NrKCdsdWNpZGUtcmVhY3QnLCAoKSA9PiAoe1xuICBBcnJvd1JpZ2h0OiAoKSA9PiA8c3BhbiBkYXRhLXRlc3RpZD1cImFycm93LXJpZ2h0LWljb25cIj7ihpI8L3NwYW4+LFxuICBQbGF5OiAoKSA9PiA8c3BhbiBkYXRhLXRlc3RpZD1cInBsYXktaWNvblwiPuKWtjwvc3Bhbj4sXG4gIEJvb2tPcGVuOiAoKSA9PiA8c3BhbiBkYXRhLXRlc3RpZD1cImJvb2staWNvblwiPvCfk5Y8L3NwYW4+LFxuICBTdGFyOiAoKSA9PiA8c3BhbiBkYXRhLXRlc3RpZD1cInN0YXItaWNvblwiPuKtkDwvc3Bhbj4sXG4gIE1hcDogKCkgPT4gPHNwYW4gZGF0YS10ZXN0aWQ9XCJtYXAtaWNvblwiPvCfl7rvuI88L3NwYW4+LFxuICBDb21wYXNzOiAoKSA9PiA8c3BhbiBkYXRhLXRlc3RpZD1cImNvbXBhc3MtaWNvblwiPvCfp608L3NwYW4+LFxuICBTcGFya2xlczogKCkgPT4gPHNwYW4gZGF0YS10ZXN0aWQ9XCJzcGFya2xlcy1pY29uXCI+4pyoPC9zcGFuPixcbiAgWmFwOiAoKSA9PiA8c3BhbiBkYXRhLXRlc3RpZD1cInphcC1pY29uXCI+4pqhPC9zcGFuPixcbn0pKTtcblxuY29uc3QgbW9ja1VzZVJvdXRlciA9IGplc3QuZm4oKTtcbmplc3QubW9jaygnbmV4dC9uYXZpZ2F0aW9uJywgKCkgPT4gKHtcbiAgdXNlUm91dGVyOiAoKSA9PiBtb2NrVXNlUm91dGVyKCksXG59KSk7XG5cbmRlc2NyaWJlKCdHLVVULTAwMTogSG9tZXBhZ2UgUmVuZGVycyBDb3JyZWN0bHknLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIFxuICAgIC8vIERlZmF1bHQgbW9ja3NcbiAgICAoc2hhcmVkQ29udGV4dHMudXNlVXNlclR5cGUgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgdXNlclR5cGU6IG51bGwsXG4gICAgICBzZXRVc2VyVHlwZTogamVzdC5mbigpLFxuICAgIH0pO1xuICAgIFxuICAgIChzaGFyZWRDb250ZXh0cy51c2VBdXRoIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgICB1c2VyOiBudWxsLFxuICAgIH0pO1xuICAgIFxuICAgIG1vY2tVc2VSb3V0ZXIubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIHB1c2g6IGplc3QuZm4oKSxcbiAgICAgIHJlcGxhY2U6IGplc3QuZm4oKSxcbiAgICAgIHByZWZldGNoOiBqZXN0LmZuKCksXG4gICAgfSk7XG4gICAgXG4gICAgLy8gTW9jayBsb2NhbFN0b3JhZ2VcbiAgICBTdG9yYWdlLnByb3RvdHlwZS5nZXRJdGVtID0gamVzdC5mbigoKSA9PiBudWxsKTtcbiAgICBTdG9yYWdlLnByb3RvdHlwZS5zZXRJdGVtID0gamVzdC5mbigpO1xuICAgIFN0b3JhZ2UucHJvdG90eXBlLnJlbW92ZUl0ZW0gPSBqZXN0LmZuKCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmVuZGVyIGhvbWVwYWdlIHdpdGhvdXQgZXJyb3JzJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoPEhvbWVQYWdlIC8+KTtcbiAgICBleHBlY3QoY29udGFpbmVyKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIG5vdCBoYXZlIGNvbnNvbGUgZXJyb3JzJywgKCkgPT4ge1xuICAgIGNvbnN0IGNvbnNvbGVFcnJvciA9IGplc3Quc3B5T24oY29uc29sZSwgJ2Vycm9yJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KTtcbiAgICByZW5kZXIoPEhvbWVQYWdlIC8+KTtcbiAgICBleHBlY3QoY29uc29sZUVycm9yKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIGNvbnNvbGVFcnJvci5tb2NrUmVzdG9yZSgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHJlbmRlciBhbGwgcmVxdWlyZWQgZWxlbWVudHMnLCAoKSA9PiB7XG4gICAgcmVuZGVyKDxIb21lUGFnZSAvPik7XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIG1haW4gdGl0bGVcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvTWFzdGVyIEZyb250ZW5kIERldmVsb3BtZW50fFN0YXJ0IFlvdXIgTGVhcm5pbmcgUGF0aHxCdWlsZCBZb3VyIEN1c3RvbSBSb2FkbWFwL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIFxuICAgIC8vIENoZWNrIGZvciBDVEEgYnV0dG9uXG4gICAgY29uc3QgY3RhQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL0dldCBTdGFydGVkfENob29zZSBMZWFybmluZyBQbGFufFZpZXcgTXkgUm9hZG1hcHxDb250aW51ZSBQcmFjdGljZS9pIH0pO1xuICAgIGV4cGVjdChjdGFCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdHLVVULTAwMjogR2V0IFN0YXJ0ZWQgQnV0dG9uIEV4aXN0cyBhbmQgaXMgQ2xpY2thYmxlJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBcbiAgICAoc2hhcmVkQ29udGV4dHMudXNlVXNlclR5cGUgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgdXNlclR5cGU6IG51bGwsXG4gICAgICBzZXRVc2VyVHlwZTogamVzdC5mbigpLFxuICAgIH0pO1xuICAgIFxuICAgIChzaGFyZWRDb250ZXh0cy51c2VBdXRoIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgICB1c2VyOiBudWxsLFxuICAgIH0pO1xuICAgIFxuICAgIG1vY2tVc2VSb3V0ZXIubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIHB1c2g6IGplc3QuZm4oKSxcbiAgICAgIHJlcGxhY2U6IGplc3QuZm4oKSxcbiAgICAgIHByZWZldGNoOiBqZXN0LmZuKCksXG4gICAgfSk7XG4gICAgXG4gICAgU3RvcmFnZS5wcm90b3R5cGUuZ2V0SXRlbSA9IGplc3QuZm4oKCkgPT4gbnVsbCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgaGF2ZSBHZXQgU3RhcnRlZCBidXR0b24gZWxlbWVudCcsICgpID0+IHtcbiAgICByZW5kZXIoPEhvbWVQYWdlIC8+KTtcbiAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdsaW5rJywgeyBuYW1lOiAvR2V0IFN0YXJ0ZWQvaSB9KTtcbiAgICBleHBlY3QoYnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGhhdmUgR2V0IFN0YXJ0ZWQgYnV0dG9uIHZpc2libGUnLCAoKSA9PiB7XG4gICAgcmVuZGVyKDxIb21lUGFnZSAvPik7XG4gICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL0dldCBTdGFydGVkL2kgfSk7XG4gICAgZXhwZWN0KGJ1dHRvbikudG9CZVZpc2libGUoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBoYXZlIG9uQ2xpY2sgaGFuZGxlciBhdHRhY2hlZCAodmlhIExpbmsgaHJlZiknLCAoKSA9PiB7XG4gICAgcmVuZGVyKDxIb21lUGFnZSAvPik7XG4gICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL0dldCBTdGFydGVkL2kgfSk7XG4gICAgZXhwZWN0KGJ1dHRvbikudG9IYXZlQXR0cmlidXRlKCdocmVmJywgJy9nZXQtc3RhcnRlZCcpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnRy1VVC0wMDM6IE5hdmlnYXRpb24gTGlua3MgUmVuZGVyIENvcnJlY3RseScsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgXG4gICAgKHNoYXJlZENvbnRleHRzLnVzZVVzZXJUeXBlIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIHVzZXJUeXBlOiBudWxsLFxuICAgICAgc2V0VXNlclR5cGU6IGplc3QuZm4oKSxcbiAgICB9KTtcbiAgICBcbiAgICAoc2hhcmVkQ29udGV4dHMudXNlQXV0aCBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgdXNlcjogbnVsbCxcbiAgICB9KTtcbiAgICBcbiAgICBtb2NrVXNlUm91dGVyLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICBwdXNoOiBqZXN0LmZuKCksXG4gICAgICByZXBsYWNlOiBqZXN0LmZuKCksXG4gICAgICBwcmVmZXRjaDogamVzdC5mbigpLFxuICAgIH0pO1xuICAgIFxuICAgIFN0b3JhZ2UucHJvdG90eXBlLmdldEl0ZW0gPSBqZXN0LmZuKCgpID0+IG51bGwpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHJlbmRlciBhbGwgbmF2aWdhdGlvbiBsaW5rcycsICgpID0+IHtcbiAgICByZW5kZXIoPEhvbWVQYWdlIC8+KTtcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgbWFpbiBDVEEgbGlua3NcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL0dldCBTdGFydGVkfFN0YXJ0IExlYXJuaW5nIE5vdy9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdsaW5rJywgeyBuYW1lOiAvRXhwbG9yZSBMZWFybmluZyBQYXRocy9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGhhdmUgY29ycmVjdCBocmVmcyBmb3IgbmF2aWdhdGlvbiBsaW5rcycsICgpID0+IHtcbiAgICByZW5kZXIoPEhvbWVQYWdlIC8+KTtcbiAgICBcbiAgICBjb25zdCBnZXRTdGFydGVkTGluayA9IHNjcmVlbi5nZXRCeVJvbGUoJ2xpbmsnLCB7IG5hbWU6IC9HZXQgU3RhcnRlZHxTdGFydCBMZWFybmluZyBOb3cvaSB9KTtcbiAgICBleHBlY3QoZ2V0U3RhcnRlZExpbmspLnRvSGF2ZUF0dHJpYnV0ZSgnaHJlZicsICcvZ2V0LXN0YXJ0ZWQnKTtcbiAgICBcbiAgICBjb25zdCBsZWFybkxpbmsgPSBzY3JlZW4uZ2V0QnlSb2xlKCdsaW5rJywgeyBuYW1lOiAvRXhwbG9yZSBMZWFybmluZyBQYXRocy9pIH0pO1xuICAgIGV4cGVjdChsZWFybkxpbmspLnRvSGF2ZUF0dHJpYnV0ZSgnaHJlZicsICcvbGVhcm4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBoYXZlIGNsaWNrYWJsZSBuYXZpZ2F0aW9uIGxpbmtzJywgKCkgPT4ge1xuICAgIHJlbmRlcig8SG9tZVBhZ2UgLz4pO1xuICAgIFxuICAgIGNvbnN0IGxpbmtzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnbGluaycpO1xuICAgIGxpbmtzLmZvckVhY2gobGluayA9PiB7XG4gICAgICBleHBlY3QobGluaykudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChsaW5rKS50b0JlVmlzaWJsZSgpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuXG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJ1c2VVc2VyVHlwZSIsImZuIiwidXNlQXV0aCIsIlVzZXJTdGF0aXN0aWNzIiwiZGl2IiwiZGF0YS10ZXN0aWQiLCJFcnJvckJvdW5kYXJ5IiwiY2hpbGRyZW4iLCJ1c2VMZWFybmluZ1R5cGUiLCJsZWFybmluZ1R5cGUiLCJzZXRMZWFybmluZ1R5cGUiLCJocmVmIiwiYSIsIkFycm93UmlnaHQiLCJzcGFuIiwiUGxheSIsIkJvb2tPcGVuIiwiU3RhciIsIk1hcCIsIkNvbXBhc3MiLCJTcGFya2xlcyIsIlphcCIsInVzZVJvdXRlciIsIm1vY2tVc2VSb3V0ZXIiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwic2hhcmVkQ29udGV4dHMiLCJtb2NrUmV0dXJuVmFsdWUiLCJ1c2VyVHlwZSIsInNldFVzZXJUeXBlIiwiaXNBdXRoZW50aWNhdGVkIiwidXNlciIsInB1c2giLCJyZXBsYWNlIiwicHJlZmV0Y2giLCJTdG9yYWdlIiwicHJvdG90eXBlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiaXQiLCJjb250YWluZXIiLCJyZW5kZXIiLCJIb21lUGFnZSIsImV4cGVjdCIsInRvQmVJblRoZURvY3VtZW50IiwiY29uc29sZUVycm9yIiwic3B5T24iLCJjb25zb2xlIiwibW9ja0ltcGxlbWVudGF0aW9uIiwibm90IiwidG9IYXZlQmVlbkNhbGxlZCIsIm1vY2tSZXN0b3JlIiwic2NyZWVuIiwiZ2V0QnlUZXh0IiwiY3RhQnV0dG9uIiwiZ2V0QnlSb2xlIiwibmFtZSIsImJ1dHRvbiIsInRvQmVWaXNpYmxlIiwidG9IYXZlQXR0cmlidXRlIiwiZ2V0U3RhcnRlZExpbmsiLCJsZWFybkxpbmsiLCJsaW5rcyIsImdldEFsbEJ5Um9sZSIsImZvckVhY2giLCJsaW5rIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0NBR0M7QUFRRCx1QkFBdUI7QUFDdkJBLEtBQUtDLElBQUksQ0FBQyw2QkFBNkIsSUFBTyxDQUFBO1FBQzVDQyxhQUFhRixLQUFLRyxFQUFFO1FBQ3BCQyxTQUFTSixLQUFLRyxFQUFF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