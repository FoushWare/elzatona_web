7a2e0c370751d5a992e78ea36a5cccf6
/**
 * Admin Integration Tests
 *
 * End-to-end integration tests for complete admin workflows:
 * - Complete CRUD workflows for all content types
 * - Cross-component interactions
 * - Data consistency across admin pages
 * - User journey testing
 */ "use strict";
// Mock TanStack Query
jest.mock('@tanstack/react-query', ()=>({
        useQuery: jest.fn(),
        useMutation: jest.fn(),
        useQueryClient: jest.fn(()=>({
                invalidateQueries: jest.fn()
            }))
    }));
// Mock Next.js router
jest.mock('next/navigation', ()=>({
        useRouter: ()=>({
                push: jest.fn(),
                replace: jest.fn(),
                prefetch: jest.fn()
            }),
        useSearchParams: ()=>new URLSearchParams(),
        usePathname: ()=>'/admin/content-management'
    }));
// Mock nuqs
jest.mock('nuqs', ()=>({
        useQueryState: jest.fn(()=>[
                null,
                jest.fn()
            ]),
        useQueryStates: jest.fn(()=>[
                {},
                jest.fn()
            ]),
        parseAsString: jest.fn(),
        parseAsInteger: jest.fn(),
        createSearchParamsCache: jest.fn()
    }));
// Mock Supabase
jest.mock('@supabase/supabase-js', ()=>({
        createClient: jest.fn(()=>({
                from: jest.fn(()=>({
                        select: jest.fn(()=>({
                                eq: jest.fn().mockResolvedValue({
                                    data: null,
                                    error: null
                                })
                            }))
                    })),
                auth: {
                    onAuthStateChange: jest.fn(()=>({
                            data: {
                                subscription: null
                            },
                            error: null
                        })),
                    getSession: jest.fn().mockResolvedValue({
                        data: {
                            session: null
                        },
                        error: null
                    }),
                    getUser: jest.fn().mockResolvedValue({
                        data: {
                            user: null
                        },
                        error: null
                    })
                }
            }))
    }));
// Mock admin auth context - use correct import path
jest.mock('@elzatona/shared-contexts', ()=>{
    // eslint-disable-next-line @typescript-eslint/no-require-imports
    const React = require('react');
    return {
        AdminAuthProvider: ({ children })=>children,
        useAdminAuth: jest.fn(()=>({
                isAuthenticated: true,
                user: {
                    email: 'admin@test.com'
                },
                login: jest.fn(),
                logout: jest.fn()
            })),
        ThemeProvider: ({ children })=>children,
        useTheme: jest.fn(()=>({
                isDarkMode: false,
                toggleDarkMode: jest.fn()
            }))
    };
});
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
// Set up environment variables
process.env.NEXT_PUBLIC_SUPABASE_URL = 'https://test.supabase.co';
process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'test-anon-key';
process.env.SUPABASE_SERVICE_ROLE_KEY = 'test-service-role-key';
describe('Admin Integration Tests', ()=>{
    // eslint-disable-next-line @typescript-eslint/no-require-imports
    const mockUseQuery = require('@tanstack/react-query').useQuery;
    // eslint-disable-next-line @typescript-eslint/no-require-imports
    const mockUseMutation = require('@tanstack/react-query').useMutation;
    // eslint-disable-next-line @typescript-eslint/no-require-imports
    const mockQueryClient = require('@tanstack/react-query').useQueryClient();
    beforeEach(()=>{
        jest.clearAllMocks();
        // Default mock for useQuery
        mockUseQuery.mockReturnValue({
            data: {
                data: []
            },
            isLoading: false,
            error: null,
            refetch: jest.fn()
        });
        // Default mock for useMutation
        mockUseMutation.mockReturnValue({
            mutate: jest.fn(),
            isLoading: false,
            error: null,
            isSuccess: false
        });
    });
    describe('Complete Card Management Workflow', ()=>{
        it('should create, read, update, and delete a learning card', async ()=>{
            const mockCards = [];
            const mockMutation = jest.fn();
            const mockInvalidateQueries = jest.fn();
            mockQueryClient.invalidateQueries = mockInvalidateQueries;
            mockUseQuery.mockReturnValue({
                data: {
                    data: mockCards
                },
                isLoading: false,
                error: null
            });
            mockUseMutation.mockReturnValue({
                mutate: mockMutation,
                isLoading: false,
                error: null,
                isSuccess: true
            });
            const ContentManagementPage = (await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../apps/website/src/app/admin/content-management/page")))).default;
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ContentManagementPage, {}));
            // Step 1: Create a new card
            const addCardButton = _react1.screen.getByText(/add card/i);
            await _userevent.default.click(addCardButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText(/create new card/i)).toBeInTheDocument();
            });
            const cardNameInput = _react1.screen.getByLabelText(/card name/i);
            await _userevent.default.type(cardNameInput, 'Test Card');
            const cardDescriptionInput = _react1.screen.getByLabelText(/description/i);
            await _userevent.default.type(cardDescriptionInput, 'Test card description');
            const createButton = _react1.screen.getByText(/create card/i);
            await _userevent.default.click(createButton);
            expect(mockMutation).toHaveBeenCalledWith(expect.objectContaining({
                name: 'Test Card',
                description: 'Test card description'
            }));
            // Step 2: Verify card appears in list (simulate successful creation)
            mockUseQuery.mockReturnValue({
                data: {
                    data: [
                        {
                            id: 'test-card-id',
                            name: 'Test Card',
                            description: 'Test card description',
                            type: 'core-technologies',
                            color: 'blue'
                        }
                    ]
                },
                isLoading: false,
                error: null
            });
            // Re-render to show updated data
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ContentManagementPage, {}));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Test Card')).toBeInTheDocument();
            });
            // Step 3: Edit the card
            const editButton = _react1.screen.getByLabelText(/edit card/i);
            await _userevent.default.click(editButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByDisplayValue('Test Card')).toBeInTheDocument();
            });
            const editNameInput = _react1.screen.getByDisplayValue('Test Card');
            await _userevent.default.clear(editNameInput);
            await _userevent.default.type(editNameInput, 'Updated Test Card');
            const saveButton = _react1.screen.getByText(/save changes/i);
            await _userevent.default.click(saveButton);
            expect(mockMutation).toHaveBeenCalledWith(expect.objectContaining({
                name: 'Updated Test Card'
            }));
            // Step 4: Delete the card
            const deleteButton = _react1.screen.getByLabelText(/delete card/i);
            await _userevent.default.click(deleteButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText(/confirm deletion/i)).toBeInTheDocument();
            });
            const confirmDeleteButton = _react1.screen.getByText(/delete/i);
            await _userevent.default.click(confirmDeleteButton);
            expect(mockMutation).toHaveBeenCalledWith('test-card-id');
        });
    });
    describe('Complete Question Management Workflow', ()=>{
        it('should create, read, update, and delete a question', async ()=>{
            const mockQuestions = [];
            const mockCards = [
                {
                    id: 'card-1',
                    name: 'Core Technologies',
                    type: 'core-technologies'
                }
            ];
            const mockPlans = [
                {
                    id: 'plan-1',
                    name: '1 Day Plan',
                    duration: 1
                }
            ];
            const mockMutation = jest.fn();
            mockUseQuery.mockReturnValueOnce({
                data: {
                    data: mockQuestions
                },
                isLoading: false,
                error: null
            }).mockReturnValueOnce({
                data: {
                    data: mockCards
                },
                isLoading: false,
                error: null
            }).mockReturnValueOnce({
                data: {
                    data: mockPlans
                },
                isLoading: false,
                error: null
            });
            mockUseMutation.mockReturnValue({
                mutate: mockMutation,
                isLoading: false,
                error: null,
                isSuccess: true
            });
            const QuestionsPage = (await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../apps/website/src/app/admin/content/questions/page")))).default;
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(QuestionsPage, {}));
            // Step 1: Create a new question
            const addQuestionButton = _react1.screen.getByText(/add question/i);
            await _userevent.default.click(addQuestionButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText(/create new question/i)).toBeInTheDocument();
            });
            const questionInput = _react1.screen.getByLabelText(/question/i);
            await _userevent.default.type(questionInput, 'What is JavaScript?');
            const typeSelect = _react1.screen.getByLabelText(/type/i);
            await _userevent.default.selectOptions(typeSelect, 'multiple-choice');
            const difficultySelect = _react1.screen.getByLabelText(/difficulty/i);
            await _userevent.default.selectOptions(difficultySelect, 'beginner');
            const createButton = _react1.screen.getByText(/create question/i);
            await _userevent.default.click(createButton);
            expect(mockMutation).toHaveBeenCalledWith(expect.objectContaining({
                question: 'What is JavaScript?',
                type: 'multiple-choice',
                difficulty: 'beginner'
            }));
            // Step 2: Verify question appears in list
            mockUseQuery.mockReturnValue({
                data: {
                    data: [
                        {
                            id: 'question-1',
                            question: 'What is JavaScript?',
                            type: 'multiple-choice',
                            difficulty: 'beginner',
                            category: 'javascript'
                        }
                    ]
                },
                isLoading: false,
                error: null
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(QuestionsPage, {}));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('What is JavaScript?')).toBeInTheDocument();
            });
            // Step 3: Edit the question
            const editButton = _react1.screen.getByLabelText(/edit question/i);
            await _userevent.default.click(editButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByDisplayValue('What is JavaScript?')).toBeInTheDocument();
            });
            const editQuestionInput = _react1.screen.getByDisplayValue('What is JavaScript?');
            await _userevent.default.clear(editQuestionInput);
            await _userevent.default.type(editQuestionInput, 'What is JavaScript programming language?');
            const saveButton = _react1.screen.getByText(/save changes/i);
            await _userevent.default.click(saveButton);
            expect(mockMutation).toHaveBeenCalledWith(expect.objectContaining({
                question: 'What is JavaScript programming language?'
            }));
            // Step 4: Delete the question
            const deleteButton = _react1.screen.getByLabelText(/delete question/i);
            await _userevent.default.click(deleteButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText(/confirm deletion/i)).toBeInTheDocument();
            });
            const confirmDeleteButton = _react1.screen.getByText(/delete/i);
            await _userevent.default.click(confirmDeleteButton);
            expect(mockMutation).toHaveBeenCalledWith('question-1');
        });
    });
    describe('Cross-Component Data Consistency', ()=>{
        it('should maintain data consistency between content management and questions pages', async ()=>{
            const mockCards = [
                {
                    id: 'card-1',
                    name: 'Core Technologies',
                    type: 'core-technologies'
                }
            ];
            const mockQuestions = [
                {
                    id: 'question-1',
                    question: 'What is JavaScript?',
                    category: 'javascript',
                    cardType: 'core-technologies'
                }
            ];
            // Mock for content management page
            mockUseQuery.mockReturnValueOnce({
                data: {
                    data: mockCards
                },
                isLoading: false,
                error: null
            }).mockReturnValueOnce({
                data: {
                    data: []
                },
                isLoading: false,
                error: null
            }).mockReturnValueOnce({
                data: {
                    data: []
                },
                isLoading: false,
                error: null
            }).mockReturnValueOnce({
                data: {
                    data: []
                },
                isLoading: false,
                error: null
            });
            const ContentManagementPage = (await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../apps/website/src/app/admin/content-management/page")))).default;
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ContentManagementPage, {}));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Core Technologies')).toBeInTheDocument();
            });
            // Mock for questions page
            mockUseQuery.mockReturnValueOnce({
                data: {
                    data: mockQuestions
                },
                isLoading: false,
                error: null
            }).mockReturnValueOnce({
                data: {
                    data: mockCards
                },
                isLoading: false,
                error: null
            }).mockReturnValueOnce({
                data: {
                    data: []
                },
                isLoading: false,
                error: null
            });
            const QuestionsPage = (await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../apps/website/src/app/admin/content/questions/page")))).default;
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(QuestionsPage, {}));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('What is JavaScript?')).toBeInTheDocument();
                expect(_react1.screen.getByText('core-technologies')).toBeInTheDocument();
            });
        });
    });
    describe('Search and Filter Integration', ()=>{
        it('should maintain search state across different admin pages', async ()=>{
            const mockQuestions = [
                {
                    id: 'q1',
                    question: 'What is React?',
                    category: 'react'
                },
                {
                    id: 'q2',
                    question: 'What is JavaScript?',
                    category: 'javascript'
                }
            ];
            mockUseQuery.mockReturnValue({
                data: {
                    data: mockQuestions
                },
                isLoading: false,
                error: null
            });
            const QuestionsPage = (await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../apps/website/src/app/admin/content/questions/page")))).default;
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(QuestionsPage, {}));
            // Search for React questions
            const searchInput = _react1.screen.getByPlaceholderText(/search questions/i);
            await _userevent.default.type(searchInput, 'React');
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('What is React?')).toBeInTheDocument();
                expect(_react1.screen.queryByText('What is JavaScript?')).not.toBeInTheDocument();
            });
            // Filter by category
            const categoryFilter = _react1.screen.getByLabelText(/filter by category/i);
            await _userevent.default.selectOptions(categoryFilter, 'react');
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('What is React?')).toBeInTheDocument();
                expect(_react1.screen.queryByText('What is JavaScript?')).not.toBeInTheDocument();
            });
        });
    });
    describe('Bulk Operations Integration', ()=>{
        it('should handle bulk operations across multiple content types', async ()=>{
            const mockQuestions = [
                {
                    id: 'q1',
                    question: 'Question 1',
                    category: 'react'
                },
                {
                    id: 'q2',
                    question: 'Question 2',
                    category: 'react'
                },
                {
                    id: 'q3',
                    question: 'Question 3',
                    category: 'javascript'
                }
            ];
            const mockMutation = jest.fn();
            mockUseQuery.mockReturnValue({
                data: {
                    data: mockQuestions
                },
                isLoading: false,
                error: null
            });
            mockUseMutation.mockReturnValue({
                mutate: mockMutation,
                isLoading: false,
                error: null,
                isSuccess: true
            });
            const QuestionsPage = (await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../apps/website/src/app/admin/content/questions/page")))).default;
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(QuestionsPage, {}));
            // Select multiple questions
            const checkboxes = _react1.screen.getAllByRole('checkbox');
            await _userevent.default.click(checkboxes[1]); // Select second question
            await _userevent.default.click(checkboxes[2]); // Select third question
            // Perform bulk operation (e.g., bulk delete)
            const bulkDeleteButton = _react1.screen.getByText(/bulk delete/i);
            await _userevent.default.click(bulkDeleteButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText(/confirm bulk deletion/i)).toBeInTheDocument();
            });
            const confirmBulkDeleteButton = _react1.screen.getByText(/delete selected/i);
            await _userevent.default.click(confirmBulkDeleteButton);
            expect(mockMutation).toHaveBeenCalledWith([
                'q2',
                'q3'
            ]);
        });
    });
    describe('Error Recovery Integration', ()=>{
        it('should handle and recover from errors gracefully across components', async ()=>{
            // Simulate initial error
            mockUseQuery.mockReturnValue({
                data: undefined,
                isLoading: false,
                error: new Error('Network error')
            });
            const ContentManagementPage = (await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../apps/website/src/app/admin/content-management/page")))).default;
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(ContentManagementPage, {}));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText(/error/i)).toBeInTheDocument();
            });
            // Simulate retry
            const retryButton = _react1.screen.getByText(/retry/i);
            await _userevent.default.click(retryButton);
            // Mock successful retry
            mockUseQuery.mockReturnValue({
                data: {
                    data: []
                },
                isLoading: false,
                error: null
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.queryByText(/error/i)).not.toBeInTheDocument();
            });
        });
    });
    describe('Performance Integration', ()=>{
        it('should handle large datasets efficiently', async ()=>{
            // Create large dataset
            const largeDataset = Array.from({
                length: 1000
            }, (_, i)=>({
                    id: `item-${i}`,
                    name: `Item ${i}`,
                    category: `category-${i % 10}`
                }));
            mockUseQuery.mockReturnValue({
                data: {
                    data: largeDataset
                },
                isLoading: false,
                error: null
            });
            const startTime = performance.now();
            const QuestionsPage = (await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../apps/website/src/app/admin/content/questions/page")))).default;
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(QuestionsPage, {}));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Item 0')).toBeInTheDocument();
            });
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            // Should render within reasonable time (less than 1 second)
            expect(renderTime).toBeLessThan(1000);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hLmZvdWFkL1NpZGVQcm9qZWN0cy9FbHphdG9uYS1hbGwvRWx6YXRvbmEtd2ViL3Rlc3RzL2FkbWluL2FkbWluLWludGVncmF0aW9uLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQWRtaW4gSW50ZWdyYXRpb24gVGVzdHNcbiAqXG4gKiBFbmQtdG8tZW5kIGludGVncmF0aW9uIHRlc3RzIGZvciBjb21wbGV0ZSBhZG1pbiB3b3JrZmxvd3M6XG4gKiAtIENvbXBsZXRlIENSVUQgd29ya2Zsb3dzIGZvciBhbGwgY29udGVudCB0eXBlc1xuICogLSBDcm9zcy1jb21wb25lbnQgaW50ZXJhY3Rpb25zXG4gKiAtIERhdGEgY29uc2lzdGVuY3kgYWNyb3NzIGFkbWluIHBhZ2VzXG4gKiAtIFVzZXIgam91cm5leSB0ZXN0aW5nXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB1c2VyRXZlbnQgZnJvbSAnQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50JztcblxuLy8gTW9jayBUYW5TdGFjayBRdWVyeVxuamVzdC5tb2NrKCdAdGFuc3RhY2svcmVhY3QtcXVlcnknLCAoKSA9PiAoe1xuICB1c2VRdWVyeTogamVzdC5mbigpLFxuICB1c2VNdXRhdGlvbjogamVzdC5mbigpLFxuICB1c2VRdWVyeUNsaWVudDogamVzdC5mbigoKSA9PiAoe1xuICAgIGludmFsaWRhdGVRdWVyaWVzOiBqZXN0LmZuKCksXG4gIH0pKSxcbn0pKTtcblxuLy8gTW9jayBOZXh0LmpzIHJvdXRlclxuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICB1c2VSb3V0ZXI6ICgpID0+ICh7XG4gICAgcHVzaDogamVzdC5mbigpLFxuICAgIHJlcGxhY2U6IGplc3QuZm4oKSxcbiAgICBwcmVmZXRjaDogamVzdC5mbigpLFxuICB9KSxcbiAgdXNlU2VhcmNoUGFyYW1zOiAoKSA9PiBuZXcgVVJMU2VhcmNoUGFyYW1zKCksXG4gIHVzZVBhdGhuYW1lOiAoKSA9PiAnL2FkbWluL2NvbnRlbnQtbWFuYWdlbWVudCcsXG59KSk7XG5cbi8vIFNldCB1cCBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbnByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCA9ICdodHRwczovL3Rlc3Quc3VwYWJhc2UuY28nO1xucHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkgPSAndGVzdC1hbm9uLWtleSc7XG5wcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZID0gJ3Rlc3Qtc2VydmljZS1yb2xlLWtleSc7XG5cbi8vIE1vY2sgbnVxc1xuamVzdC5tb2NrKCdudXFzJywgKCkgPT4gKHtcbiAgdXNlUXVlcnlTdGF0ZTogamVzdC5mbigoKSA9PiBbbnVsbCwgamVzdC5mbigpXSksXG4gIHVzZVF1ZXJ5U3RhdGVzOiBqZXN0LmZuKCgpID0+IFt7fSwgamVzdC5mbigpXSksXG4gIHBhcnNlQXNTdHJpbmc6IGplc3QuZm4oKSxcbiAgcGFyc2VBc0ludGVnZXI6IGplc3QuZm4oKSxcbiAgY3JlYXRlU2VhcmNoUGFyYW1zQ2FjaGU6IGplc3QuZm4oKSxcbn0pKTtcblxuLy8gTW9jayBTdXBhYmFzZVxuamVzdC5tb2NrKCdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnLCAoKSA9PiAoe1xuICBjcmVhdGVDbGllbnQ6IGplc3QuZm4oKCkgPT4gKHtcbiAgICBmcm9tOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICBzZWxlY3Q6IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH0pLFxuICAgICAgfSkpLFxuICAgIH0pKSxcbiAgICBhdXRoOiB7XG4gICAgICBvbkF1dGhTdGF0ZUNoYW5nZTogamVzdC5mbigoKSA9PiAoe1xuICAgICAgICBkYXRhOiB7IHN1YnNjcmlwdGlvbjogbnVsbCB9LFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pKSxcbiAgICAgIGdldFNlc3Npb246IGplc3RcbiAgICAgICAgLmZuKClcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogeyBzZXNzaW9uOiBudWxsIH0sIGVycm9yOiBudWxsIH0pLFxuICAgICAgZ2V0VXNlcjogamVzdFxuICAgICAgICAuZm4oKVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiB7IHVzZXI6IG51bGwgfSwgZXJyb3I6IG51bGwgfSksXG4gICAgfSxcbiAgfSkpLFxufSkpO1xuXG4vLyBNb2NrIGFkbWluIGF1dGggY29udGV4dCAtIHVzZSBjb3JyZWN0IGltcG9ydCBwYXRoXG5qZXN0Lm1vY2soJ0BlbHphdG9uYS9zaGFyZWQtY29udGV4dHMnLCAoKSA9PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVxdWlyZS1pbXBvcnRzXG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgcmV0dXJuIHtcbiAgICBBZG1pbkF1dGhQcm92aWRlcjogKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pID0+XG4gICAgICBjaGlsZHJlbixcbiAgICB1c2VBZG1pbkF1dGg6IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgIGlzQXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICAgIHVzZXI6IHsgZW1haWw6ICdhZG1pbkB0ZXN0LmNvbScgfSxcbiAgICAgIGxvZ2luOiBqZXN0LmZuKCksXG4gICAgICBsb2dvdXQ6IGplc3QuZm4oKSxcbiAgICB9KSksXG4gICAgVGhlbWVQcm92aWRlcjogKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pID0+IGNoaWxkcmVuLFxuICAgIHVzZVRoZW1lOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICBpc0RhcmtNb2RlOiBmYWxzZSxcbiAgICAgIHRvZ2dsZURhcmtNb2RlOiBqZXN0LmZuKCksXG4gICAgfSkpLFxuICB9O1xufSk7XG5cbmRlc2NyaWJlKCdBZG1pbiBJbnRlZ3JhdGlvbiBUZXN0cycsICgpID0+IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1yZXF1aXJlLWltcG9ydHNcbiAgY29uc3QgbW9ja1VzZVF1ZXJ5ID0gcmVxdWlyZSgnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JykudXNlUXVlcnk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVxdWlyZS1pbXBvcnRzXG4gIGNvbnN0IG1vY2tVc2VNdXRhdGlvbiA9IHJlcXVpcmUoJ0B0YW5zdGFjay9yZWFjdC1xdWVyeScpLnVzZU11dGF0aW9uO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXJlcXVpcmUtaW1wb3J0c1xuICBjb25zdCBtb2NrUXVlcnlDbGllbnQgPSByZXF1aXJlKCdAdGFuc3RhY2svcmVhY3QtcXVlcnknKS51c2VRdWVyeUNsaWVudCgpO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuXG4gICAgLy8gRGVmYXVsdCBtb2NrIGZvciB1c2VRdWVyeVxuICAgIG1vY2tVc2VRdWVyeS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgZGF0YTogeyBkYXRhOiBbXSB9LFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgcmVmZXRjaDogamVzdC5mbigpLFxuICAgIH0pO1xuXG4gICAgLy8gRGVmYXVsdCBtb2NrIGZvciB1c2VNdXRhdGlvblxuICAgIG1vY2tVc2VNdXRhdGlvbi5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgbXV0YXRlOiBqZXN0LmZuKCksXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBpc1N1Y2Nlc3M6IGZhbHNlLFxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29tcGxldGUgQ2FyZCBNYW5hZ2VtZW50IFdvcmtmbG93JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY3JlYXRlLCByZWFkLCB1cGRhdGUsIGFuZCBkZWxldGUgYSBsZWFybmluZyBjYXJkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0NhcmRzID0gW107XG4gICAgICBjb25zdCBtb2NrTXV0YXRpb24gPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBtb2NrSW52YWxpZGF0ZVF1ZXJpZXMgPSBqZXN0LmZuKCk7XG5cbiAgICAgIG1vY2tRdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyA9IG1vY2tJbnZhbGlkYXRlUXVlcmllcztcblxuICAgICAgbW9ja1VzZVF1ZXJ5Lm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgZGF0YTogbW9ja0NhcmRzIH0sXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIG1vY2tVc2VNdXRhdGlvbi5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBtdXRhdGU6IG1vY2tNdXRhdGlvbixcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIGlzU3VjY2VzczogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBDb250ZW50TWFuYWdlbWVudFBhZ2UgPSAoXG4gICAgICAgIGF3YWl0IGltcG9ydCgnQC9hcHAvYWRtaW4vY29udGVudC1tYW5hZ2VtZW50L3BhZ2UnKVxuICAgICAgKS5kZWZhdWx0O1xuICAgICAgcmVuZGVyKDxDb250ZW50TWFuYWdlbWVudFBhZ2UgLz4pO1xuXG4gICAgICAvLyBTdGVwIDE6IENyZWF0ZSBhIG5ldyBjYXJkXG4gICAgICBjb25zdCBhZGRDYXJkQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgvYWRkIGNhcmQvaSk7XG4gICAgICBhd2FpdCB1c2VyRXZlbnQuY2xpY2soYWRkQ2FyZEJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvY3JlYXRlIG5ldyBjYXJkL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNhcmROYW1lSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2NhcmQgbmFtZS9pKTtcbiAgICAgIGF3YWl0IHVzZXJFdmVudC50eXBlKGNhcmROYW1lSW5wdXQsICdUZXN0IENhcmQnKTtcblxuICAgICAgY29uc3QgY2FyZERlc2NyaXB0aW9uSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2Rlc2NyaXB0aW9uL2kpO1xuICAgICAgYXdhaXQgdXNlckV2ZW50LnR5cGUoY2FyZERlc2NyaXB0aW9uSW5wdXQsICdUZXN0IGNhcmQgZGVzY3JpcHRpb24nKTtcblxuICAgICAgY29uc3QgY3JlYXRlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgvY3JlYXRlIGNhcmQvaSk7XG4gICAgICBhd2FpdCB1c2VyRXZlbnQuY2xpY2soY3JlYXRlQnV0dG9uKTtcblxuICAgICAgZXhwZWN0KG1vY2tNdXRhdGlvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBuYW1lOiAnVGVzdCBDYXJkJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1Rlc3QgY2FyZCBkZXNjcmlwdGlvbicsXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICAvLyBTdGVwIDI6IFZlcmlmeSBjYXJkIGFwcGVhcnMgaW4gbGlzdCAoc2ltdWxhdGUgc3VjY2Vzc2Z1bCBjcmVhdGlvbilcbiAgICAgIG1vY2tVc2VRdWVyeS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZGF0YTogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogJ3Rlc3QtY2FyZC1pZCcsXG4gICAgICAgICAgICAgIG5hbWU6ICdUZXN0IENhcmQnLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1Rlc3QgY2FyZCBkZXNjcmlwdGlvbicsXG4gICAgICAgICAgICAgIHR5cGU6ICdjb3JlLXRlY2hub2xvZ2llcycsXG4gICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlLXJlbmRlciB0byBzaG93IHVwZGF0ZWQgZGF0YVxuICAgICAgcmVuZGVyKDxDb250ZW50TWFuYWdlbWVudFBhZ2UgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Rlc3QgQ2FyZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFN0ZXAgMzogRWRpdCB0aGUgY2FyZFxuICAgICAgY29uc3QgZWRpdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvZWRpdCBjYXJkL2kpO1xuICAgICAgYXdhaXQgdXNlckV2ZW50LmNsaWNrKGVkaXRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeURpc3BsYXlWYWx1ZSgnVGVzdCBDYXJkJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZWRpdE5hbWVJbnB1dCA9IHNjcmVlbi5nZXRCeURpc3BsYXlWYWx1ZSgnVGVzdCBDYXJkJyk7XG4gICAgICBhd2FpdCB1c2VyRXZlbnQuY2xlYXIoZWRpdE5hbWVJbnB1dCk7XG4gICAgICBhd2FpdCB1c2VyRXZlbnQudHlwZShlZGl0TmFtZUlucHV0LCAnVXBkYXRlZCBUZXN0IENhcmQnKTtcblxuICAgICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoL3NhdmUgY2hhbmdlcy9pKTtcbiAgICAgIGF3YWl0IHVzZXJFdmVudC5jbGljayhzYXZlQnV0dG9uKTtcblxuICAgICAgZXhwZWN0KG1vY2tNdXRhdGlvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBuYW1lOiAnVXBkYXRlZCBUZXN0IENhcmQnLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgLy8gU3RlcCA0OiBEZWxldGUgdGhlIGNhcmRcbiAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvZGVsZXRlIGNhcmQvaSk7XG4gICAgICBhd2FpdCB1c2VyRXZlbnQuY2xpY2soZGVsZXRlQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9jb25maXJtIGRlbGV0aW9uL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNvbmZpcm1EZWxldGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KC9kZWxldGUvaSk7XG4gICAgICBhd2FpdCB1c2VyRXZlbnQuY2xpY2soY29uZmlybURlbGV0ZUJ1dHRvbik7XG5cbiAgICAgIGV4cGVjdChtb2NrTXV0YXRpb24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd0ZXN0LWNhcmQtaWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NvbXBsZXRlIFF1ZXN0aW9uIE1hbmFnZW1lbnQgV29ya2Zsb3cnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUsIHJlYWQsIHVwZGF0ZSwgYW5kIGRlbGV0ZSBhIHF1ZXN0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1F1ZXN0aW9ucyA9IFtdO1xuICAgICAgY29uc3QgbW9ja0NhcmRzID0gW1xuICAgICAgICB7IGlkOiAnY2FyZC0xJywgbmFtZTogJ0NvcmUgVGVjaG5vbG9naWVzJywgdHlwZTogJ2NvcmUtdGVjaG5vbG9naWVzJyB9LFxuICAgICAgXTtcbiAgICAgIGNvbnN0IG1vY2tQbGFucyA9IFt7IGlkOiAncGxhbi0xJywgbmFtZTogJzEgRGF5IFBsYW4nLCBkdXJhdGlvbjogMSB9XTtcbiAgICAgIGNvbnN0IG1vY2tNdXRhdGlvbiA9IGplc3QuZm4oKTtcblxuICAgICAgbW9ja1VzZVF1ZXJ5XG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKHtcbiAgICAgICAgICBkYXRhOiB7IGRhdGE6IG1vY2tRdWVzdGlvbnMgfSxcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICB9KVxuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAgICAgZGF0YTogeyBkYXRhOiBtb2NrQ2FyZHMgfSxcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICB9KVxuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAgICAgZGF0YTogeyBkYXRhOiBtb2NrUGxhbnMgfSxcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICB9KTtcblxuICAgICAgbW9ja1VzZU11dGF0aW9uLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIG11dGF0ZTogbW9ja011dGF0aW9uLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgaXNTdWNjZXNzOiB0cnVlLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IFF1ZXN0aW9uc1BhZ2UgPSAoYXdhaXQgaW1wb3J0KCdAL2FwcC9hZG1pbi9jb250ZW50L3F1ZXN0aW9ucy9wYWdlJykpXG4gICAgICAgIC5kZWZhdWx0O1xuICAgICAgcmVuZGVyKDxRdWVzdGlvbnNQYWdlIC8+KTtcblxuICAgICAgLy8gU3RlcCAxOiBDcmVhdGUgYSBuZXcgcXVlc3Rpb25cbiAgICAgIGNvbnN0IGFkZFF1ZXN0aW9uQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgvYWRkIHF1ZXN0aW9uL2kpO1xuICAgICAgYXdhaXQgdXNlckV2ZW50LmNsaWNrKGFkZFF1ZXN0aW9uQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9jcmVhdGUgbmV3IHF1ZXN0aW9uL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHF1ZXN0aW9uSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL3F1ZXN0aW9uL2kpO1xuICAgICAgYXdhaXQgdXNlckV2ZW50LnR5cGUocXVlc3Rpb25JbnB1dCwgJ1doYXQgaXMgSmF2YVNjcmlwdD8nKTtcblxuICAgICAgY29uc3QgdHlwZVNlbGVjdCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvdHlwZS9pKTtcbiAgICAgIGF3YWl0IHVzZXJFdmVudC5zZWxlY3RPcHRpb25zKHR5cGVTZWxlY3QsICdtdWx0aXBsZS1jaG9pY2UnKTtcblxuICAgICAgY29uc3QgZGlmZmljdWx0eVNlbGVjdCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvZGlmZmljdWx0eS9pKTtcbiAgICAgIGF3YWl0IHVzZXJFdmVudC5zZWxlY3RPcHRpb25zKGRpZmZpY3VsdHlTZWxlY3QsICdiZWdpbm5lcicpO1xuXG4gICAgICBjb25zdCBjcmVhdGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KC9jcmVhdGUgcXVlc3Rpb24vaSk7XG4gICAgICBhd2FpdCB1c2VyRXZlbnQuY2xpY2soY3JlYXRlQnV0dG9uKTtcblxuICAgICAgZXhwZWN0KG1vY2tNdXRhdGlvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBxdWVzdGlvbjogJ1doYXQgaXMgSmF2YVNjcmlwdD8nLFxuICAgICAgICAgIHR5cGU6ICdtdWx0aXBsZS1jaG9pY2UnLFxuICAgICAgICAgIGRpZmZpY3VsdHk6ICdiZWdpbm5lcicsXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICAvLyBTdGVwIDI6IFZlcmlmeSBxdWVzdGlvbiBhcHBlYXJzIGluIGxpc3RcbiAgICAgIG1vY2tVc2VRdWVyeS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZGF0YTogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogJ3F1ZXN0aW9uLTEnLFxuICAgICAgICAgICAgICBxdWVzdGlvbjogJ1doYXQgaXMgSmF2YVNjcmlwdD8nLFxuICAgICAgICAgICAgICB0eXBlOiAnbXVsdGlwbGUtY2hvaWNlJyxcbiAgICAgICAgICAgICAgZGlmZmljdWx0eTogJ2JlZ2lubmVyJyxcbiAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdqYXZhc2NyaXB0JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxRdWVzdGlvbnNQYWdlIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdXaGF0IGlzIEphdmFTY3JpcHQ/JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU3RlcCAzOiBFZGl0IHRoZSBxdWVzdGlvblxuICAgICAgY29uc3QgZWRpdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvZWRpdCBxdWVzdGlvbi9pKTtcbiAgICAgIGF3YWl0IHVzZXJFdmVudC5jbGljayhlZGl0QnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChcbiAgICAgICAgICBzY3JlZW4uZ2V0QnlEaXNwbGF5VmFsdWUoJ1doYXQgaXMgSmF2YVNjcmlwdD8nKVxuICAgICAgICApLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZWRpdFF1ZXN0aW9uSW5wdXQgPSBzY3JlZW4uZ2V0QnlEaXNwbGF5VmFsdWUoJ1doYXQgaXMgSmF2YVNjcmlwdD8nKTtcbiAgICAgIGF3YWl0IHVzZXJFdmVudC5jbGVhcihlZGl0UXVlc3Rpb25JbnB1dCk7XG4gICAgICBhd2FpdCB1c2VyRXZlbnQudHlwZShcbiAgICAgICAgZWRpdFF1ZXN0aW9uSW5wdXQsXG4gICAgICAgICdXaGF0IGlzIEphdmFTY3JpcHQgcHJvZ3JhbW1pbmcgbGFuZ3VhZ2U/J1xuICAgICAgKTtcblxuICAgICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoL3NhdmUgY2hhbmdlcy9pKTtcbiAgICAgIGF3YWl0IHVzZXJFdmVudC5jbGljayhzYXZlQnV0dG9uKTtcblxuICAgICAgZXhwZWN0KG1vY2tNdXRhdGlvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBxdWVzdGlvbjogJ1doYXQgaXMgSmF2YVNjcmlwdCBwcm9ncmFtbWluZyBsYW5ndWFnZT8nLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgLy8gU3RlcCA0OiBEZWxldGUgdGhlIHF1ZXN0aW9uXG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2RlbGV0ZSBxdWVzdGlvbi9pKTtcbiAgICAgIGF3YWl0IHVzZXJFdmVudC5jbGljayhkZWxldGVCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL2NvbmZpcm0gZGVsZXRpb24vaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgY29uZmlybURlbGV0ZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoL2RlbGV0ZS9pKTtcbiAgICAgIGF3YWl0IHVzZXJFdmVudC5jbGljayhjb25maXJtRGVsZXRlQnV0dG9uKTtcblxuICAgICAgZXhwZWN0KG1vY2tNdXRhdGlvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3F1ZXN0aW9uLTEnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Nyb3NzLUNvbXBvbmVudCBEYXRhIENvbnNpc3RlbmN5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgbWFpbnRhaW4gZGF0YSBjb25zaXN0ZW5jeSBiZXR3ZWVuIGNvbnRlbnQgbWFuYWdlbWVudCBhbmQgcXVlc3Rpb25zIHBhZ2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0NhcmRzID0gW1xuICAgICAgICB7IGlkOiAnY2FyZC0xJywgbmFtZTogJ0NvcmUgVGVjaG5vbG9naWVzJywgdHlwZTogJ2NvcmUtdGVjaG5vbG9naWVzJyB9LFxuICAgICAgXTtcbiAgICAgIGNvbnN0IG1vY2tRdWVzdGlvbnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3F1ZXN0aW9uLTEnLFxuICAgICAgICAgIHF1ZXN0aW9uOiAnV2hhdCBpcyBKYXZhU2NyaXB0PycsXG4gICAgICAgICAgY2F0ZWdvcnk6ICdqYXZhc2NyaXB0JyxcbiAgICAgICAgICBjYXJkVHlwZTogJ2NvcmUtdGVjaG5vbG9naWVzJyxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIC8vIE1vY2sgZm9yIGNvbnRlbnQgbWFuYWdlbWVudCBwYWdlXG4gICAgICBtb2NrVXNlUXVlcnlcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICAgIGRhdGE6IHsgZGF0YTogbW9ja0NhcmRzIH0sXG4gICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgfSlcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICAgIGRhdGE6IHsgZGF0YTogW10gfSxcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICB9KVxuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAgICAgZGF0YTogeyBkYXRhOiBbXSB9LFxuICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIH0pXG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKHtcbiAgICAgICAgICBkYXRhOiB7IGRhdGE6IFtdIH0sXG4gICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IENvbnRlbnRNYW5hZ2VtZW50UGFnZSA9IChcbiAgICAgICAgYXdhaXQgaW1wb3J0KCdAL2FwcC9hZG1pbi9jb250ZW50LW1hbmFnZW1lbnQvcGFnZScpXG4gICAgICApLmRlZmF1bHQ7XG4gICAgICByZW5kZXIoPENvbnRlbnRNYW5hZ2VtZW50UGFnZSAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ29yZSBUZWNobm9sb2dpZXMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIGZvciBxdWVzdGlvbnMgcGFnZVxuICAgICAgbW9ja1VzZVF1ZXJ5XG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKHtcbiAgICAgICAgICBkYXRhOiB7IGRhdGE6IG1vY2tRdWVzdGlvbnMgfSxcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICB9KVxuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAgICAgZGF0YTogeyBkYXRhOiBtb2NrQ2FyZHMgfSxcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICB9KVxuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAgICAgZGF0YTogeyBkYXRhOiBbXSB9LFxuICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIH0pO1xuXG4gICAgICBjb25zdCBRdWVzdGlvbnNQYWdlID0gKGF3YWl0IGltcG9ydCgnQC9hcHAvYWRtaW4vY29udGVudC9xdWVzdGlvbnMvcGFnZScpKVxuICAgICAgICAuZGVmYXVsdDtcbiAgICAgIHJlbmRlcig8UXVlc3Rpb25zUGFnZSAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnV2hhdCBpcyBKYXZhU2NyaXB0PycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnY29yZS10ZWNobm9sb2dpZXMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2VhcmNoIGFuZCBGaWx0ZXIgSW50ZWdyYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBtYWludGFpbiBzZWFyY2ggc3RhdGUgYWNyb3NzIGRpZmZlcmVudCBhZG1pbiBwYWdlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tRdWVzdGlvbnMgPSBbXG4gICAgICAgIHsgaWQ6ICdxMScsIHF1ZXN0aW9uOiAnV2hhdCBpcyBSZWFjdD8nLCBjYXRlZ29yeTogJ3JlYWN0JyB9LFxuICAgICAgICB7IGlkOiAncTInLCBxdWVzdGlvbjogJ1doYXQgaXMgSmF2YVNjcmlwdD8nLCBjYXRlZ29yeTogJ2phdmFzY3JpcHQnIH0sXG4gICAgICBdO1xuXG4gICAgICBtb2NrVXNlUXVlcnkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZGF0YTogeyBkYXRhOiBtb2NrUXVlc3Rpb25zIH0sXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IFF1ZXN0aW9uc1BhZ2UgPSAoYXdhaXQgaW1wb3J0KCdAL2FwcC9hZG1pbi9jb250ZW50L3F1ZXN0aW9ucy9wYWdlJykpXG4gICAgICAgIC5kZWZhdWx0O1xuICAgICAgcmVuZGVyKDxRdWVzdGlvbnNQYWdlIC8+KTtcblxuICAgICAgLy8gU2VhcmNoIGZvciBSZWFjdCBxdWVzdGlvbnNcbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KC9zZWFyY2ggcXVlc3Rpb25zL2kpO1xuICAgICAgYXdhaXQgdXNlckV2ZW50LnR5cGUoc2VhcmNoSW5wdXQsICdSZWFjdCcpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1doYXQgaXMgUmVhY3Q/JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIGV4cGVjdChcbiAgICAgICAgICBzY3JlZW4ucXVlcnlCeVRleHQoJ1doYXQgaXMgSmF2YVNjcmlwdD8nKVxuICAgICAgICApLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEZpbHRlciBieSBjYXRlZ29yeVxuICAgICAgY29uc3QgY2F0ZWdvcnlGaWx0ZXIgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2ZpbHRlciBieSBjYXRlZ29yeS9pKTtcbiAgICAgIGF3YWl0IHVzZXJFdmVudC5zZWxlY3RPcHRpb25zKGNhdGVnb3J5RmlsdGVyLCAncmVhY3QnKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdXaGF0IGlzIFJlYWN0PycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3QoXG4gICAgICAgICAgc2NyZWVuLnF1ZXJ5QnlUZXh0KCdXaGF0IGlzIEphdmFTY3JpcHQ/JylcbiAgICAgICAgKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQnVsayBPcGVyYXRpb25zIEludGVncmF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGJ1bGsgb3BlcmF0aW9ucyBhY3Jvc3MgbXVsdGlwbGUgY29udGVudCB0eXBlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tRdWVzdGlvbnMgPSBbXG4gICAgICAgIHsgaWQ6ICdxMScsIHF1ZXN0aW9uOiAnUXVlc3Rpb24gMScsIGNhdGVnb3J5OiAncmVhY3QnIH0sXG4gICAgICAgIHsgaWQ6ICdxMicsIHF1ZXN0aW9uOiAnUXVlc3Rpb24gMicsIGNhdGVnb3J5OiAncmVhY3QnIH0sXG4gICAgICAgIHsgaWQ6ICdxMycsIHF1ZXN0aW9uOiAnUXVlc3Rpb24gMycsIGNhdGVnb3J5OiAnamF2YXNjcmlwdCcgfSxcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IG1vY2tNdXRhdGlvbiA9IGplc3QuZm4oKTtcblxuICAgICAgbW9ja1VzZVF1ZXJ5Lm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgZGF0YTogbW9ja1F1ZXN0aW9ucyB9LFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrVXNlTXV0YXRpb24ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgbXV0YXRlOiBtb2NrTXV0YXRpb24sXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICBpc1N1Y2Nlc3M6IHRydWUsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgUXVlc3Rpb25zUGFnZSA9IChhd2FpdCBpbXBvcnQoJ0AvYXBwL2FkbWluL2NvbnRlbnQvcXVlc3Rpb25zL3BhZ2UnKSlcbiAgICAgICAgLmRlZmF1bHQ7XG4gICAgICByZW5kZXIoPFF1ZXN0aW9uc1BhZ2UgLz4pO1xuXG4gICAgICAvLyBTZWxlY3QgbXVsdGlwbGUgcXVlc3Rpb25zXG4gICAgICBjb25zdCBjaGVja2JveGVzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnY2hlY2tib3gnKTtcbiAgICAgIGF3YWl0IHVzZXJFdmVudC5jbGljayhjaGVja2JveGVzWzFdKTsgLy8gU2VsZWN0IHNlY29uZCBxdWVzdGlvblxuICAgICAgYXdhaXQgdXNlckV2ZW50LmNsaWNrKGNoZWNrYm94ZXNbMl0pOyAvLyBTZWxlY3QgdGhpcmQgcXVlc3Rpb25cblxuICAgICAgLy8gUGVyZm9ybSBidWxrIG9wZXJhdGlvbiAoZS5nLiwgYnVsayBkZWxldGUpXG4gICAgICBjb25zdCBidWxrRGVsZXRlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgvYnVsayBkZWxldGUvaSk7XG4gICAgICBhd2FpdCB1c2VyRXZlbnQuY2xpY2soYnVsa0RlbGV0ZUJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvY29uZmlybSBidWxrIGRlbGV0aW9uL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNvbmZpcm1CdWxrRGVsZXRlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgvZGVsZXRlIHNlbGVjdGVkL2kpO1xuICAgICAgYXdhaXQgdXNlckV2ZW50LmNsaWNrKGNvbmZpcm1CdWxrRGVsZXRlQnV0dG9uKTtcblxuICAgICAgZXhwZWN0KG1vY2tNdXRhdGlvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoWydxMicsICdxMyddKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIFJlY292ZXJ5IEludGVncmF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGFuZCByZWNvdmVyIGZyb20gZXJyb3JzIGdyYWNlZnVsbHkgYWNyb3NzIGNvbXBvbmVudHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBTaW11bGF0ZSBpbml0aWFsIGVycm9yXG4gICAgICBtb2NrVXNlUXVlcnkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZGF0YTogdW5kZWZpbmVkLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBlcnJvcjogbmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJyksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgQ29udGVudE1hbmFnZW1lbnRQYWdlID0gKFxuICAgICAgICBhd2FpdCBpbXBvcnQoJ0AvYXBwL2FkbWluL2NvbnRlbnQtbWFuYWdlbWVudC9wYWdlJylcbiAgICAgICkuZGVmYXVsdDtcbiAgICAgIHJlbmRlcig8Q29udGVudE1hbmFnZW1lbnRQYWdlIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9lcnJvci9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTaW11bGF0ZSByZXRyeVxuICAgICAgY29uc3QgcmV0cnlCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KC9yZXRyeS9pKTtcbiAgICAgIGF3YWl0IHVzZXJFdmVudC5jbGljayhyZXRyeUJ1dHRvbik7XG5cbiAgICAgIC8vIE1vY2sgc3VjY2Vzc2Z1bCByZXRyeVxuICAgICAgbW9ja1VzZVF1ZXJ5Lm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgZGF0YTogW10gfSxcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoL2Vycm9yL2kpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUGVyZm9ybWFuY2UgSW50ZWdyYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbGFyZ2UgZGF0YXNldHMgZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgbGFyZ2UgZGF0YXNldFxuICAgICAgY29uc3QgbGFyZ2VEYXRhc2V0ID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAwMCB9LCAoXywgaSkgPT4gKHtcbiAgICAgICAgaWQ6IGBpdGVtLSR7aX1gLFxuICAgICAgICBuYW1lOiBgSXRlbSAke2l9YCxcbiAgICAgICAgY2F0ZWdvcnk6IGBjYXRlZ29yeS0ke2kgJSAxMH1gLFxuICAgICAgfSkpO1xuXG4gICAgICBtb2NrVXNlUXVlcnkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZGF0YTogeyBkYXRhOiBsYXJnZURhdGFzZXQgfSxcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICAgIGNvbnN0IFF1ZXN0aW9uc1BhZ2UgPSAoYXdhaXQgaW1wb3J0KCdAL2FwcC9hZG1pbi9jb250ZW50L3F1ZXN0aW9ucy9wYWdlJykpXG4gICAgICAgIC5kZWZhdWx0O1xuICAgICAgcmVuZGVyKDxRdWVzdGlvbnNQYWdlIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdJdGVtIDAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb25zdCByZW5kZXJUaW1lID0gZW5kVGltZSAtIHN0YXJ0VGltZTtcblxuICAgICAgLy8gU2hvdWxkIHJlbmRlciB3aXRoaW4gcmVhc29uYWJsZSB0aW1lIChsZXNzIHRoYW4gMSBzZWNvbmQpXG4gICAgICBleHBlY3QocmVuZGVyVGltZSkudG9CZUxlc3NUaGFuKDEwMDApO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlUXVlcnkiLCJmbiIsInVzZU11dGF0aW9uIiwidXNlUXVlcnlDbGllbnQiLCJpbnZhbGlkYXRlUXVlcmllcyIsInVzZVJvdXRlciIsInB1c2giLCJyZXBsYWNlIiwicHJlZmV0Y2giLCJ1c2VTZWFyY2hQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJ1c2VQYXRobmFtZSIsInVzZVF1ZXJ5U3RhdGUiLCJ1c2VRdWVyeVN0YXRlcyIsInBhcnNlQXNTdHJpbmciLCJwYXJzZUFzSW50ZWdlciIsImNyZWF0ZVNlYXJjaFBhcmFtc0NhY2hlIiwiY3JlYXRlQ2xpZW50IiwiZnJvbSIsInNlbGVjdCIsImVxIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJkYXRhIiwiZXJyb3IiLCJhdXRoIiwib25BdXRoU3RhdGVDaGFuZ2UiLCJzdWJzY3JpcHRpb24iLCJnZXRTZXNzaW9uIiwic2Vzc2lvbiIsImdldFVzZXIiLCJ1c2VyIiwiUmVhY3QiLCJyZXF1aXJlIiwiQWRtaW5BdXRoUHJvdmlkZXIiLCJjaGlsZHJlbiIsInVzZUFkbWluQXV0aCIsImlzQXV0aGVudGljYXRlZCIsImVtYWlsIiwibG9naW4iLCJsb2dvdXQiLCJUaGVtZVByb3ZpZGVyIiwidXNlVGhlbWUiLCJpc0RhcmtNb2RlIiwidG9nZ2xlRGFya01vZGUiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiZGVzY3JpYmUiLCJtb2NrVXNlUXVlcnkiLCJtb2NrVXNlTXV0YXRpb24iLCJtb2NrUXVlcnlDbGllbnQiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXR1cm5WYWx1ZSIsImlzTG9hZGluZyIsInJlZmV0Y2giLCJtdXRhdGUiLCJpc1N1Y2Nlc3MiLCJpdCIsIm1vY2tDYXJkcyIsIm1vY2tNdXRhdGlvbiIsIm1vY2tJbnZhbGlkYXRlUXVlcmllcyIsIkNvbnRlbnRNYW5hZ2VtZW50UGFnZSIsImRlZmF1bHQiLCJyZW5kZXIiLCJhZGRDYXJkQnV0dG9uIiwic2NyZWVuIiwiZ2V0QnlUZXh0IiwidXNlckV2ZW50IiwiY2xpY2siLCJ3YWl0Rm9yIiwiZXhwZWN0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJjYXJkTmFtZUlucHV0IiwiZ2V0QnlMYWJlbFRleHQiLCJ0eXBlIiwiY2FyZERlc2NyaXB0aW9uSW5wdXQiLCJjcmVhdGVCdXR0b24iLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIm9iamVjdENvbnRhaW5pbmciLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJpZCIsImNvbG9yIiwiZWRpdEJ1dHRvbiIsImdldEJ5RGlzcGxheVZhbHVlIiwiZWRpdE5hbWVJbnB1dCIsImNsZWFyIiwic2F2ZUJ1dHRvbiIsImRlbGV0ZUJ1dHRvbiIsImNvbmZpcm1EZWxldGVCdXR0b24iLCJtb2NrUXVlc3Rpb25zIiwibW9ja1BsYW5zIiwiZHVyYXRpb24iLCJtb2NrUmV0dXJuVmFsdWVPbmNlIiwiUXVlc3Rpb25zUGFnZSIsImFkZFF1ZXN0aW9uQnV0dG9uIiwicXVlc3Rpb25JbnB1dCIsInR5cGVTZWxlY3QiLCJzZWxlY3RPcHRpb25zIiwiZGlmZmljdWx0eVNlbGVjdCIsInF1ZXN0aW9uIiwiZGlmZmljdWx0eSIsImNhdGVnb3J5IiwiZWRpdFF1ZXN0aW9uSW5wdXQiLCJjYXJkVHlwZSIsInNlYXJjaElucHV0IiwiZ2V0QnlQbGFjZWhvbGRlclRleHQiLCJxdWVyeUJ5VGV4dCIsIm5vdCIsImNhdGVnb3J5RmlsdGVyIiwiY2hlY2tib3hlcyIsImdldEFsbEJ5Um9sZSIsImJ1bGtEZWxldGVCdXR0b24iLCJjb25maXJtQnVsa0RlbGV0ZUJ1dHRvbiIsInVuZGVmaW5lZCIsIkVycm9yIiwicmV0cnlCdXR0b24iLCJsYXJnZURhdGFzZXQiLCJBcnJheSIsImxlbmd0aCIsIl8iLCJpIiwic3RhcnRUaW1lIiwicGVyZm9ybWFuY2UiLCJub3ciLCJlbmRUaW1lIiwicmVuZGVyVGltZSIsInRvQmVMZXNzVGhhbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7O0NBUUM7QUFNRCxzQkFBc0I7QUFDdEJBLEtBQUtDLElBQUksQ0FBQyx5QkFBeUIsSUFBTyxDQUFBO1FBQ3hDQyxVQUFVRixLQUFLRyxFQUFFO1FBQ2pCQyxhQUFhSixLQUFLRyxFQUFFO1FBQ3BCRSxnQkFBZ0JMLEtBQUtHLEVBQUUsQ0FBQyxJQUFPLENBQUE7Z0JBQzdCRyxtQkFBbUJOLEtBQUtHLEVBQUU7WUFDNUIsQ0FBQTtJQUNGLENBQUE7QUFFQSxzQkFBc0I7QUFDdEJILEtBQUtDLElBQUksQ0FBQyxtQkFBbUIsSUFBTyxDQUFBO1FBQ2xDTSxXQUFXLElBQU8sQ0FBQTtnQkFDaEJDLE1BQU1SLEtBQUtHLEVBQUU7Z0JBQ2JNLFNBQVNULEtBQUtHLEVBQUU7Z0JBQ2hCTyxVQUFVVixLQUFLRyxFQUFFO1lBQ25CLENBQUE7UUFDQVEsaUJBQWlCLElBQU0sSUFBSUM7UUFDM0JDLGFBQWEsSUFBTTtJQUNyQixDQUFBO0FBT0EsWUFBWTtBQUNaYixLQUFLQyxJQUFJLENBQUMsUUFBUSxJQUFPLENBQUE7UUFDdkJhLGVBQWVkLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO2dCQUFDO2dCQUFNSCxLQUFL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