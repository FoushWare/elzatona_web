{"version":3,"sources":["/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-atoms/src/lib/userType.ts"],"sourcesContent":["import { atom } from 'jotai';\nimport { atomWithStorage } from 'jotai/utils';\n\n// User type enum\nexport type UserType = 'student' | 'professional' | 'educator' | 'admin';\n\n// User type state interface\nexport interface UserTypeState {\n  type: UserType;\n  isSelected: boolean;\n  selectedAt?: Date;\n  preferences: {\n    showAdvancedFeatures: boolean;\n    enableNotifications: boolean;\n    defaultDifficulty: 'beginner' | 'intermediate' | 'advanced';\n    studyMode: 'guided' | 'freestyle' | 'mixed';\n  };\n}\n\n// Default user type state\nconst defaultUserTypeState: UserTypeState = {\n  type: 'student',\n  isSelected: false,\n  preferences: {\n    showAdvancedFeatures: false,\n    enableNotifications: true,\n    defaultDifficulty: 'beginner',\n    studyMode: 'guided',\n  },\n};\n\n// User type state atom\nexport const userTypeStateAtom = atomWithStorage<UserTypeState>(\n  'userTypeState',\n  defaultUserTypeState\n);\n\n// Individual user type atoms\nexport const currentUserTypeAtom = atom(get => get(userTypeStateAtom).type);\n\nexport const isUserTypeSelectedAtom = atom(\n  get => get(userTypeStateAtom).isSelected\n);\n\nexport const userTypePreferencesAtom = atom(\n  get => get(userTypeStateAtom).preferences\n);\n\n// Set user type atom\nexport const setUserTypeAtom = atom(null, (get, set, type: UserType) => {\n  const currentState = get(userTypeStateAtom);\n  set(userTypeStateAtom, {\n    ...currentState,\n    type,\n    isSelected: true,\n    selectedAt: new Date(),\n  });\n});\n\n// Update user type preferences atom\nexport const updateUserTypePreferencesAtom = atom(\n  null,\n  (get, set, updates: Partial<UserTypeState['preferences']>) => {\n    const currentState = get(userTypeStateAtom);\n    set(userTypeStateAtom, {\n      ...currentState,\n      preferences: {\n        ...currentState.preferences,\n        ...updates,\n      },\n    });\n  }\n);\n\n// Reset user type atom\nexport const resetUserTypeAtom = atom(null, (get, set) => {\n  set(userTypeStateAtom, defaultUserTypeState);\n});\n\n// Computed atoms for user type specific features\nexport const shouldShowAdvancedFeaturesAtom = atom(get => {\n  const state = get(userTypeStateAtom);\n  return (\n    state.preferences.showAdvancedFeatures ||\n    state.type === 'professional' ||\n    state.type === 'admin'\n  );\n});\n\nexport const canAccessAdminFeaturesAtom = atom(get => {\n  const state = get(userTypeStateAtom);\n  return state.type === 'admin';\n});\n\nexport const defaultStudyModeAtom = atom(get => {\n  const state = get(userTypeStateAtom);\n  return state.preferences.studyMode;\n});\n"],"names":["canAccessAdminFeaturesAtom","currentUserTypeAtom","defaultStudyModeAtom","isUserTypeSelectedAtom","resetUserTypeAtom","setUserTypeAtom","shouldShowAdvancedFeaturesAtom","updateUserTypePreferencesAtom","userTypePreferencesAtom","userTypeStateAtom","defaultUserTypeState","type","isSelected","preferences","showAdvancedFeatures","enableNotifications","defaultDifficulty","studyMode","atomWithStorage","atom","get","set","currentState","selectedAt","Date","updates","state"],"mappings":";;;;;;;;;;;QAyFaA;eAAAA;;QAnDAC;eAAAA;;QAwDAC;eAAAA;;QAtDAC;eAAAA;;QAmCAC;eAAAA;;QA1BAC;eAAAA;;QA+BAC;eAAAA;;QApBAC;eAAAA;;QAhBAC;eAAAA;;QAZAC;eAAAA;;;uBAhCQ;uBACW;AAkBhC,0BAA0B;AAC1B,MAAMC,uBAAsC;IAC1CC,MAAM;IACNC,YAAY;IACZC,aAAa;QACXC,sBAAsB;QACtBC,qBAAqB;QACrBC,mBAAmB;QACnBC,WAAW;IACb;AACF;AAGO,MAAMR,oBAAoBS,IAAAA,sBAAe,EAC9C,iBACAR;AAIK,MAAMT,sBAAsBkB,IAAAA,WAAI,EAACC,CAAAA,MAAOA,IAAIX,mBAAmBE,IAAI;AAEnE,MAAMR,yBAAyBgB,IAAAA,WAAI,EACxCC,CAAAA,MAAOA,IAAIX,mBAAmBG,UAAU;AAGnC,MAAMJ,0BAA0BW,IAAAA,WAAI,EACzCC,CAAAA,MAAOA,IAAIX,mBAAmBI,WAAW;AAIpC,MAAMR,kBAAkBc,IAAAA,WAAI,EAAC,MAAM,CAACC,KAAKC,KAAKV;IACnD,MAAMW,eAAeF,IAAIX;IACzBY,IAAIZ,mBAAmB;QACrB,GAAGa,YAAY;QACfX;QACAC,YAAY;QACZW,YAAY,IAAIC;IAClB;AACF;AAGO,MAAMjB,gCAAgCY,IAAAA,WAAI,EAC/C,MACA,CAACC,KAAKC,KAAKI;IACT,MAAMH,eAAeF,IAAIX;IACzBY,IAAIZ,mBAAmB;QACrB,GAAGa,YAAY;QACfT,aAAa;YACX,GAAGS,aAAaT,WAAW;YAC3B,GAAGY,OAAO;QACZ;IACF;AACF;AAIK,MAAMrB,oBAAoBe,IAAAA,WAAI,EAAC,MAAM,CAACC,KAAKC;IAChDA,IAAIZ,mBAAmBC;AACzB;AAGO,MAAMJ,iCAAiCa,IAAAA,WAAI,EAACC,CAAAA;IACjD,MAAMM,QAAQN,IAAIX;IAClB,OACEiB,MAAMb,WAAW,CAACC,oBAAoB,IACtCY,MAAMf,IAAI,KAAK,kBACfe,MAAMf,IAAI,KAAK;AAEnB;AAEO,MAAMX,6BAA6BmB,IAAAA,WAAI,EAACC,CAAAA;IAC7C,MAAMM,QAAQN,IAAIX;IAClB,OAAOiB,MAAMf,IAAI,KAAK;AACxB;AAEO,MAAMT,uBAAuBiB,IAAAA,WAAI,EAACC,CAAAA;IACvC,MAAMM,QAAQN,IAAIX;IAClB,OAAOiB,MAAMb,WAAW,CAACI,SAAS;AACpC"}