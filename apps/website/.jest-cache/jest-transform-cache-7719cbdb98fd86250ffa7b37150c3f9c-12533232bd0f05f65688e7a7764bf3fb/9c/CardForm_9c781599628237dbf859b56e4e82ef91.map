{"version":3,"sources":["/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-components/src/lib/forms/CardForm.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport { Input } from '@elzatona/shared-components';\nimport { Button } from '@elzatona/shared-components';\nimport { Label } from '@elzatona/shared-components';\nimport { Textarea } from '@elzatona/shared-components';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@elzatona/shared-components';\n\nexport interface CardFormData {\n  name: string;\n  slug: string;\n  description: string;\n  color: string;\n  icon: string;\n  order: number;\n}\n\nexport interface CardFormErrors {\n  name?: string;\n  slug?: string;\n  description?: string;\n  color?: string;\n  icon?: string;\n  order?: string;\n}\n\ninterface CardFormProps {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  card?: any;\n  onSubmit: (data: CardFormData) => void;\n  onCancel: () => void;\n  isLoading?: boolean;\n}\n\nconst CARD_ICONS = [\n  'code',\n  'layers',\n  'puzzle',\n  'network',\n  'book-open',\n  'atom',\n  'server',\n  'database',\n  'globe',\n  'shield',\n  'zap',\n  'star',\n];\n\nconst CARD_COLORS = [\n  '#3B82F6', // Blue\n  '#10B981', // Green\n  '#F59E0B', // Yellow\n  '#EF4444', // Red\n  '#8B5CF6', // Purple\n  '#EC4899', // Pink\n  '#06B6D4', // Cyan\n  '#84CC16', // Lime\n];\n\nexport const CardForm: React.FC<CardFormProps> = ({\n  card,\n  onSubmit,\n  onCancel,\n  isLoading = false,\n}) => {\n  const [formData, setFormData] = useState<CardFormData>({\n    name: '',\n    slug: '',\n    description: '',\n    color: '#3B82F6',\n    icon: 'code',\n    order: 1,\n  });\n  const [errors, setErrors] = useState<CardFormErrors>({});\n\n  useEffect(() => {\n    if (card) {\n      setFormData({\n        name: card.name || '',\n        slug: card.slug || '',\n        description: card.description || '',\n        color: card.color || '#3B82F6',\n        icon: card.icon || 'code',\n        order: card.order || 1,\n      });\n    }\n  }, [card]);\n\n  const handleChange = (field: keyof CardFormData, value: string | number) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n\n    // Auto-generate slug from name\n    if (field === 'name') {\n      const slug = (value as string)\n        .toLowerCase()\n        .replace(/[^a-z0-9]+/g, '-')\n        .replace(/^-|-$/g, '');\n      setFormData(prev => ({ ...prev, slug }));\n    }\n\n    // Clear error when user starts typing\n    if (errors[field]) {\n      setErrors(prev => ({ ...prev, [field]: undefined }));\n    }\n  };\n\n  const validateForm = (): boolean => {\n    const newErrors: CardFormErrors = {};\n\n    if (!formData.name.trim()) {\n      newErrors.name = 'Card name is required';\n    }\n\n    if (!formData.slug.trim()) {\n      newErrors.slug = 'Card slug is required';\n    }\n\n    if (!formData.description.trim()) {\n      newErrors.description = 'Description is required';\n    }\n\n    if (formData.order < 1) {\n      newErrors.order = 'Order must be at least 1';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (validateForm()) {\n      onSubmit(formData);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className='space-y-4'>\n      <div>\n        <Label htmlFor='name'>Card Name *</Label>\n        <Input\n          id='name'\n          value={formData.name}\n          onChange={e => handleChange('name', e.target.value)}\n          placeholder='e.g., Core Technologies'\n          className={errors.name ? 'border-red-500' : ''}\n        />\n        {errors.name && (\n          <p className='text-red-500 text-sm mt-1'>{errors.name}</p>\n        )}\n      </div>\n\n      <div>\n        <Label htmlFor='slug'>Slug *</Label>\n        <Input\n          id='slug'\n          value={formData.slug}\n          onChange={e => handleChange('slug', e.target.value)}\n          placeholder='e.g., core-technologies'\n          className={errors.slug ? 'border-red-500' : ''}\n        />\n        {errors.slug && (\n          <p className='text-red-500 text-sm mt-1'>{errors.slug}</p>\n        )}\n      </div>\n\n      <div>\n        <Label htmlFor='description'>Description *</Label>\n        <Textarea\n          id='description'\n          value={formData.description}\n          onChange={e => handleChange('description', e.target.value)}\n          placeholder='Describe what this card covers...'\n          rows={3}\n          className={errors.description ? 'border-red-500' : ''}\n        />\n        {errors.description && (\n          <p className='text-red-500 text-sm mt-1'>{errors.description}</p>\n        )}\n      </div>\n\n      <div className='grid grid-cols-2 gap-4'>\n        <div>\n          <Label htmlFor='color'>Color</Label>\n          <div className='flex gap-2 mt-1'>\n            {CARD_COLORS.map(color => (\n              <button\n                key={color}\n                type='button'\n                className={`w-8 h-8 rounded-full border-2 ${\n                  formData.color === color\n                    ? 'border-gray-800'\n                    : 'border-gray-300'\n                }`}\n                style={{ backgroundColor: color }}\n                onClick={() => handleChange('color', color)}\n              />\n            ))}\n          </div>\n        </div>\n\n        <div>\n          <Label htmlFor='icon'>Icon</Label>\n          <Select\n            value={formData.icon}\n            onValueChange={value => handleChange('icon', value)}\n          >\n            <SelectTrigger>\n              <SelectValue placeholder='Select an icon' />\n            </SelectTrigger>\n            <SelectContent>\n              {CARD_ICONS.map(icon => (\n                <SelectItem key={icon} value={icon}>\n                  {icon}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        </div>\n      </div>\n\n      <div>\n        <Label htmlFor='order'>Order</Label>\n        <Input\n          id='order'\n          type='number'\n          min='1'\n          value={formData.order}\n          onChange={e => handleChange('order', parseInt(e.target.value) || 1)}\n          className={errors.order ? 'border-red-500' : ''}\n        />\n        {errors.order && (\n          <p className='text-red-500 text-sm mt-1'>{errors.order}</p>\n        )}\n      </div>\n\n      <div className='flex justify-end gap-2 mt-6'>\n        <Button type='button' variant='outline' onClick={onCancel}>\n          Cancel\n        </Button>\n        <Button type='submit' disabled={isLoading}>\n          {isLoading ? 'Saving...' : card ? 'Update Card' : 'Create Card'}\n        </Button>\n      </div>\n    </form>\n  );\n};\n"],"names":["CardForm","CARD_ICONS","CARD_COLORS","card","onSubmit","onCancel","isLoading","formData","setFormData","useState","name","slug","description","color","icon","order","errors","setErrors","useEffect","handleChange","field","value","prev","toLowerCase","replace","undefined","validateForm","newErrors","trim","Object","keys","length","handleSubmit","e","preventDefault","form","className","div","Label","htmlFor","Input","id","onChange","target","placeholder","p","Textarea","rows","map","button","type","style","backgroundColor","onClick","Select","onValueChange","SelectTrigger","SelectValue","SelectContent","SelectItem","min","parseInt","Button","variant","disabled"],"mappings":"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"}