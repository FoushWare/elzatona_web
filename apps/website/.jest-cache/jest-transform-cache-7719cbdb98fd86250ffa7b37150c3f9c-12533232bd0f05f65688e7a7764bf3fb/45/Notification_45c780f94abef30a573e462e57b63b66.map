{"version":3,"sources":["/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-components/src/lib/ui/Notification.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { CheckCircle, XCircle, AlertCircle, X } from 'lucide-react';\n\nexport interface Notification {\n  id: string;\n  type: 'success' | 'error' | 'warning' | 'info';\n  title: string;\n  message: string;\n  duration?: number;\n}\n\ninterface NotificationProps {\n  notification: Notification;\n  onRemove: (id: string) => void;\n}\n\nfunction NotificationItem({ notification, onRemove }: NotificationProps) {\n  const [isVisible, setIsVisible] = useState(false);\n\n  useEffect(() => {\n    // Trigger animation\n    setIsVisible(true);\n\n    // Auto remove after duration\n    const timer = setTimeout(() => {\n      handleRemove();\n    }, notification.duration || 5000);\n\n    return () => clearTimeout(timer);\n  }, [notification.duration]);\n\n  const handleRemove = () => {\n    setIsVisible(false);\n    setTimeout(() => onRemove(notification.id), 300);\n  };\n\n  const getIcon = () => {\n    switch (notification.type) {\n      case 'success':\n        return <CheckCircle className='w-5 h-5 text-green-500' />;\n      case 'error':\n        return <XCircle className='w-5 h-5 text-red-500' />;\n      case 'warning':\n        return <AlertCircle className='w-5 h-5 text-yellow-500' />;\n      case 'info':\n        return <AlertCircle className='w-5 h-5 text-blue-500' />;\n      default:\n        return <AlertCircle className='w-5 h-5 text-gray-500' />;\n    }\n  };\n\n  const getBackgroundColor = () => {\n    switch (notification.type) {\n      case 'success':\n        return 'bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800';\n      case 'error':\n        return 'bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800';\n      case 'warning':\n        return 'bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800';\n      case 'info':\n        return 'bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800';\n      default:\n        return 'bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800';\n    }\n  };\n\n  return (\n    <div\n      className={`\n        ${getBackgroundColor()}\n        border rounded-lg p-4 shadow-lg transition-all duration-300 transform\n        ${isVisible ? 'translate-x-0 opacity-100' : 'translate-x-full opacity-0'}\n        max-w-sm w-full\n      `}\n    >\n      <div className='flex items-start gap-3'>\n        {getIcon()}\n        <div className='flex-1 min-w-0'>\n          <h4 className='text-sm font-medium text-gray-900 dark:text-white'>\n            {notification.title}\n          </h4>\n          <p className='text-sm text-gray-600 dark:text-gray-300 mt-1'>\n            {notification.message}\n          </p>\n        </div>\n        <button\n          onClick={handleRemove}\n          className='text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors'\n        >\n          <X className='w-4 h-4' />\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport function NotificationContainer() {\n  const [notifications, setNotifications] = useState<Notification[]>([]);\n\n  // Listen for custom notification events\n  useEffect(() => {\n    const handleNotification = (event: CustomEvent<Notification>) => {\n      const notification = {\n        ...event.detail,\n        id: Math.random().toString(36).substr(2, 9),\n      };\n      setNotifications(prev => [...prev, notification]);\n    };\n\n    window.addEventListener(\n      'notification' as keyof WindowEventMap,\n      handleNotification as EventListener\n    );\n    return () => {\n      window.removeEventListener(\n        'notification' as keyof WindowEventMap,\n        handleNotification as EventListener\n      );\n    };\n  }, []);\n\n  const removeNotification = (id: string) => {\n    setNotifications(prev => prev.filter(n => n.id !== id));\n  };\n\n  if (notifications.length === 0) return null;\n\n  return (\n    <div className='fixed top-4 right-4 z-50 space-y-2'>\n      {notifications.map(notification => (\n        <NotificationItem\n          key={notification.id}\n          notification={notification}\n          onRemove={removeNotification}\n        />\n      ))}\n    </div>\n  );\n}\n\n// Helper function to show notifications\nexport function showNotification(notification: Omit<Notification, 'id'>) {\n  const event = new CustomEvent('notification', { detail: notification });\n  window.dispatchEvent(event);\n}\n\n// Convenience functions\nexport const notify = {\n  success: (title: string, message: string, duration?: number) =>\n    showNotification({ type: 'success', title, message, duration }),\n  error: (title: string, message: string, duration?: number) =>\n    showNotification({ type: 'error', title, message, duration }),\n  warning: (title: string, message: string, duration?: number) =>\n    showNotification({ type: 'warning', title, message, duration }),\n  info: (title: string, message: string, duration?: number) =>\n    showNotification({ type: 'info', title, message, duration }),\n};\n"],"names":["NotificationContainer","notify","showNotification","NotificationItem","notification","onRemove","isVisible","setIsVisible","useState","useEffect","timer","setTimeout","handleRemove","duration","clearTimeout","id","getIcon","type","CheckCircle","className","XCircle","AlertCircle","getBackgroundColor","div","h4","title","p","message","button","onClick","X","notifications","setNotifications","handleNotification","event","detail","Math","random","toString","substr","prev","window","addEventListener","removeEventListener","removeNotification","filter","n","length","map","CustomEvent","dispatchEvent","success","error","warning","info"],"mappings":"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"}