de7e193f4c447de9869cfe5c3413bc58
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get ErrorBoundary () {
        return ErrorBoundary;
    },
    get withErrorBoundary () {
        return withErrorBoundary;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _lucidereact = require("lucide-react");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
// Conditional Supabase client creation with fallback values
let supabase = null;
try {
    // eslint-disable-next-line @typescript-eslint/no-require-imports
    const { createClient } = require('@supabase/supabase-js');
    const supabaseUrl = process.env['NEXT_PUBLIC_SUPABASE_URL'] || 'https://placeholder.supabase.co';
    const supabaseServiceRoleKey = process.env['SUPABASE_SERVICE_ROLE_KEY'] || 'placeholder_key';
    if (supabaseUrl !== 'https://placeholder.supabase.co' && supabaseServiceRoleKey !== 'placeholder_key') {
        supabase = createClient(supabaseUrl, supabaseServiceRoleKey);
    }
} catch (error) {
    console.warn('Supabase client creation failed in ErrorBoundary:', error);
}
class ErrorBoundary extends _react.Component {
    constructor(props){
        super(props), this.handleRetry = ()=>{
            this.setState({
                hasError: false,
                error: null,
                errorId: null
            });
        }, this.handleGoHome = ()=>{
            if (typeof window !== 'undefined') {
                window.location.href = '/';
            }
        };
        this.state = {
            hasError: false,
            error: null,
            errorId: null
        };
    }
    static getDerivedStateFromError(error) {
        return {
            hasError: true,
            error,
            errorId: null
        };
    }
    componentDidCatch(error, errorInfo) {
        // Log the error
        this.logError(error, errorInfo);
        // Call custom error handler if provided
        if (this.props.onError) {
            this.props.onError(error, errorInfo);
        }
    }
    async logError(error, errorInfo) {
        try {
            // Simple error logging without external service dependency
            console.error('ErrorBoundary caught an error:', error);
            console.error('Error info:', errorInfo);
            // Generate a simple error ID
            const errorId = `error_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
            this.setState({
                errorId
            });
        } catch (logError) {
            console.error('Failed to log error:', logError);
        }
    }
    render() {
        if (this.state.hasError) {
            // Use custom fallback if provided
            if (this.props.fallback) {
                return this.props.fallback;
            }
            // Default error UI
            return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 text-center",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "mb-6",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/20 mb-4",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.AlertTriangle, {
                                        className: "h-6 w-6 text-red-600 dark:text-red-400"
                                    })
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                                    className: "text-xl font-semibold text-gray-900 dark:text-white mb-2",
                                    children: "Something went wrong"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-gray-600 dark:text-gray-400 mb-4",
                                    children: "We're sorry, but something unexpected happened. Our team has been notified."
                                }),
                                this.state.errorId && /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                    className: "text-sm text-gray-500 dark:text-gray-500 mb-4",
                                    children: [
                                        "Error ID: ",
                                        this.state.errorId
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-3",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                                    onClick: this.handleRetry,
                                    className: "w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.RefreshCw, {
                                            className: "h-4 w-4 mr-2"
                                        }),
                                        "Try Again"
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                                    onClick: this.handleGoHome,
                                    className: "w-full flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Home, {
                                            className: "h-4 w-4 mr-2"
                                        }),
                                        "Go Home"
                                    ]
                                })
                            ]
                        }),
                        process.env['NODE_ENV'] === 'development' && this.state.error && /*#__PURE__*/ (0, _jsxruntime.jsxs)("details", {
                            className: "mt-6 text-left",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("summary", {
                                    className: "cursor-pointer text-sm text-gray-500 dark:text-gray-400 mb-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Bug, {
                                            className: "h-4 w-4 inline mr-1"
                                        }),
                                        "Error Details (Development)"
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "bg-gray-100 dark:bg-gray-700 rounded p-3 text-xs font-mono text-gray-800 dark:text-gray-200 overflow-auto",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "mb-2",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("strong", {
                                                    children: "Error:"
                                                }),
                                                " ",
                                                this.state.error.message
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("strong", {
                                                    children: "Stack:"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("pre", {
                                                    className: "whitespace-pre-wrap mt-1",
                                                    children: this.state.error.stack
                                                })
                                            ]
                                        })
                                    ]
                                })
                            ]
                        })
                    ]
                })
            });
        }
        return this.props.children;
    }
}
function withErrorBoundary(Component, errorBoundaryProps) {
    const WrappedComponent = (props)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(ErrorBoundary, {
            ...errorBoundaryProps,
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(Component, {
                ...props
            })
        });
    WrappedComponent.displayName = `withErrorBoundary(${Component.displayName || Component.name})`;
    return WrappedComponent;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hLmZvdWFkL1NpZGVQcm9qZWN0cy9FbHphdG9uYS1hbGwvRWx6YXRvbmEtd2ViL2xpYnMvc2hhcmVkLWNvbXBvbmVudHMvc3JjL2xpYi9jb21tb24vRXJyb3JCb3VuZGFyeS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50LCBSZWFjdE5vZGUsIEVycm9ySW5mbyB9IGZyb20gJ3JlYWN0JztcblxuLy8gQ29uZGl0aW9uYWwgU3VwYWJhc2UgY2xpZW50IGNyZWF0aW9uIHdpdGggZmFsbGJhY2sgdmFsdWVzXG5sZXQgc3VwYWJhc2UgPSBudWxsO1xudHJ5IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1yZXF1aXJlLWltcG9ydHNcbiAgY29uc3QgeyBjcmVhdGVDbGllbnQgfSA9IHJlcXVpcmUoJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcycpO1xuICBjb25zdCBzdXBhYmFzZVVybCA9XG4gICAgcHJvY2Vzcy5lbnZbJ05FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCddIHx8XG4gICAgJ2h0dHBzOi8vcGxhY2Vob2xkZXIuc3VwYWJhc2UuY28nO1xuICBjb25zdCBzdXBhYmFzZVNlcnZpY2VSb2xlS2V5ID1cbiAgICBwcm9jZXNzLmVudlsnU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSddIHx8ICdwbGFjZWhvbGRlcl9rZXknO1xuXG4gIGlmIChcbiAgICBzdXBhYmFzZVVybCAhPT0gJ2h0dHBzOi8vcGxhY2Vob2xkZXIuc3VwYWJhc2UuY28nICYmXG4gICAgc3VwYWJhc2VTZXJ2aWNlUm9sZUtleSAhPT0gJ3BsYWNlaG9sZGVyX2tleSdcbiAgKSB7XG4gICAgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlU2VydmljZVJvbGVLZXkpO1xuICB9XG59IGNhdGNoIChlcnJvcikge1xuICBjb25zb2xlLndhcm4oJ1N1cGFiYXNlIGNsaWVudCBjcmVhdGlvbiBmYWlsZWQgaW4gRXJyb3JCb3VuZGFyeTonLCBlcnJvcik7XG59XG5cbmltcG9ydCB7IEFsZXJ0VHJpYW5nbGUsIFJlZnJlc2hDdywgSG9tZSwgQnVnIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZTtcbiAgZmFsbGJhY2s/OiBSZWFjdE5vZGU7XG4gIG9uRXJyb3I/OiAoZXJyb3I6IEVycm9yLCBlcnJvckluZm86IEVycm9ySW5mbykgPT4gdm9pZDtcbn1cblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgaGFzRXJyb3I6IGJvb2xlYW47XG4gIGVycm9yOiBFcnJvciB8IG51bGw7XG4gIGVycm9ySWQ6IHN0cmluZyB8IG51bGw7XG59XG5cbmV4cG9ydCBjbGFzcyBFcnJvckJvdW5kYXJ5IGV4dGVuZHMgQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGhhc0Vycm9yOiBmYWxzZSxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgZXJyb3JJZDogbnVsbCxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcjogRXJyb3IpOiBTdGF0ZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhhc0Vycm9yOiB0cnVlLFxuICAgICAgZXJyb3IsXG4gICAgICBlcnJvcklkOiBudWxsLFxuICAgIH07XG4gIH1cblxuICBvdmVycmlkZSBjb21wb25lbnREaWRDYXRjaChlcnJvcjogRXJyb3IsIGVycm9ySW5mbzogRXJyb3JJbmZvKSB7XG4gICAgLy8gTG9nIHRoZSBlcnJvclxuICAgIHRoaXMubG9nRXJyb3IoZXJyb3IsIGVycm9ySW5mbyk7XG5cbiAgICAvLyBDYWxsIGN1c3RvbSBlcnJvciBoYW5kbGVyIGlmIHByb3ZpZGVkXG4gICAgaWYgKHRoaXMucHJvcHMub25FcnJvcikge1xuICAgICAgdGhpcy5wcm9wcy5vbkVycm9yKGVycm9yLCBlcnJvckluZm8pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbG9nRXJyb3IoZXJyb3I6IEVycm9yLCBlcnJvckluZm86IEVycm9ySW5mbykge1xuICAgIHRyeSB7XG4gICAgICAvLyBTaW1wbGUgZXJyb3IgbG9nZ2luZyB3aXRob3V0IGV4dGVybmFsIHNlcnZpY2UgZGVwZW5kZW5jeVxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3JCb3VuZGFyeSBjYXVnaHQgYW4gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5mbzonLCBlcnJvckluZm8pO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBhIHNpbXBsZSBlcnJvciBJRFxuICAgICAgY29uc3QgZXJyb3JJZCA9IGBlcnJvcl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3JJZCB9KTtcbiAgICB9IGNhdGNoIChsb2dFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvZyBlcnJvcjonLCBsb2dFcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVSZXRyeSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGhhc0Vycm9yOiBmYWxzZSxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgZXJyb3JJZDogbnVsbCxcbiAgICB9KTtcbiAgfTtcblxuICBwcml2YXRlIGhhbmRsZUdvSG9tZSA9ICgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy8nO1xuICAgIH1cbiAgfTtcblxuICBvdmVycmlkZSByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaGFzRXJyb3IpIHtcbiAgICAgIC8vIFVzZSBjdXN0b20gZmFsbGJhY2sgaWYgcHJvdmlkZWRcbiAgICAgIGlmICh0aGlzLnByb3BzLmZhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmZhbGxiYWNrO1xuICAgICAgfVxuXG4gICAgICAvLyBEZWZhdWx0IGVycm9yIFVJXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWluLWgtc2NyZWVuIGJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTkwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTQnPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtYXgtdy1tZCB3LWZ1bGwgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHNoYWRvdy1sZyBwLTggdGV4dC1jZW50ZXInPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21iLTYnPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbXgtYXV0byBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLTEyIHctMTIgcm91bmRlZC1mdWxsIGJnLXJlZC0xMDAgZGFyazpiZy1yZWQtOTAwLzIwIG1iLTQnPlxuICAgICAgICAgICAgICAgIDxBbGVydFRyaWFuZ2xlIGNsYXNzTmFtZT0naC02IHctNiB0ZXh0LXJlZC02MDAgZGFyazp0ZXh0LXJlZC00MDAnIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPSd0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtd2hpdGUgbWItMic+XG4gICAgICAgICAgICAgICAgU29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCBtYi00Jz5cbiAgICAgICAgICAgICAgICBXZSdyZSBzb3JyeSwgYnV0IHNvbWV0aGluZyB1bmV4cGVjdGVkIGhhcHBlbmVkLiBPdXIgdGVhbSBoYXNcbiAgICAgICAgICAgICAgICBiZWVuIG5vdGlmaWVkLlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmVycm9ySWQgJiYgKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC1zbSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTUwMCBtYi00Jz5cbiAgICAgICAgICAgICAgICAgIEVycm9yIElEOiB7dGhpcy5zdGF0ZS5lcnJvcklkfVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS0zJz5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlUmV0cnl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHgtNCBweS0yIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBob3ZlcjpiZy1ibHVlLTcwMCB0cmFuc2l0aW9uLWNvbG9ycydcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPSdoLTQgdy00IG1yLTInIC8+XG4gICAgICAgICAgICAgICAgVHJ5IEFnYWluXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVHb0hvbWV9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHgtNCBweS0yIGJnLWdyYXktNjAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmF5LTcwMCB0cmFuc2l0aW9uLWNvbG9ycydcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxIb21lIGNsYXNzTmFtZT0naC00IHctNCBtci0yJyAvPlxuICAgICAgICAgICAgICAgIEdvIEhvbWVcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAge3Byb2Nlc3MuZW52WydOT0RFX0VOViddID09PSAnZGV2ZWxvcG1lbnQnICYmIHRoaXMuc3RhdGUuZXJyb3IgJiYgKFxuICAgICAgICAgICAgICA8ZGV0YWlscyBjbGFzc05hbWU9J210LTYgdGV4dC1sZWZ0Jz5cbiAgICAgICAgICAgICAgICA8c3VtbWFyeSBjbGFzc05hbWU9J2N1cnNvci1wb2ludGVyIHRleHQtc20gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgbWItMic+XG4gICAgICAgICAgICAgICAgICA8QnVnIGNsYXNzTmFtZT0naC00IHctNCBpbmxpbmUgbXItMScgLz5cbiAgICAgICAgICAgICAgICAgIEVycm9yIERldGFpbHMgKERldmVsb3BtZW50KVxuICAgICAgICAgICAgICAgIDwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTcwMCByb3VuZGVkIHAtMyB0ZXh0LXhzIGZvbnQtbW9ubyB0ZXh0LWdyYXktODAwIGRhcms6dGV4dC1ncmF5LTIwMCBvdmVyZmxvdy1hdXRvJz5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtYi0yJz5cbiAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5FcnJvcjo8L3N0cm9uZz4ge3RoaXMuc3RhdGUuZXJyb3IubWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5TdGFjazo8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgPHByZSBjbGFzc05hbWU9J3doaXRlc3BhY2UtcHJlLXdyYXAgbXQtMSc+XG4gICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZXJyb3Iuc3RhY2t9XG4gICAgICAgICAgICAgICAgICAgIDwvcHJlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGV0YWlscz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgfVxufVxuXG4vLyBIaWdoZXItb3JkZXIgY29tcG9uZW50IGZvciBlYXNpZXIgdXNhZ2VcbmV4cG9ydCBmdW5jdGlvbiB3aXRoRXJyb3JCb3VuZGFyeTxQIGV4dGVuZHMgb2JqZWN0PihcbiAgQ29tcG9uZW50OiBSZWFjdC5Db21wb25lbnRUeXBlPFA+LFxuICBlcnJvckJvdW5kYXJ5UHJvcHM/OiBPbWl0PFByb3BzLCAnY2hpbGRyZW4nPlxuKSB7XG4gIGNvbnN0IFdyYXBwZWRDb21wb25lbnQgPSAocHJvcHM6IFApID0+IChcbiAgICA8RXJyb3JCb3VuZGFyeSB7Li4uZXJyb3JCb3VuZGFyeVByb3BzfT5cbiAgICAgIDxDb21wb25lbnQgey4uLnByb3BzfSAvPlxuICAgIDwvRXJyb3JCb3VuZGFyeT5cbiAgKTtcblxuICBXcmFwcGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gYHdpdGhFcnJvckJvdW5kYXJ5KCR7Q29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lfSlgO1xuXG4gIHJldHVybiBXcmFwcGVkQ29tcG9uZW50O1xufVxuIl0sIm5hbWVzIjpbIkVycm9yQm91bmRhcnkiLCJ3aXRoRXJyb3JCb3VuZGFyeSIsInN1cGFiYXNlIiwiY3JlYXRlQ2xpZW50IiwicmVxdWlyZSIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsInN1cGFiYXNlU2VydmljZVJvbGVLZXkiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiQ29tcG9uZW50IiwicHJvcHMiLCJoYW5kbGVSZXRyeSIsInNldFN0YXRlIiwiaGFzRXJyb3IiLCJlcnJvcklkIiwiaGFuZGxlR29Ib21lIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwic3RhdGUiLCJnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IiLCJjb21wb25lbnREaWRDYXRjaCIsImVycm9ySW5mbyIsImxvZ0Vycm9yIiwib25FcnJvciIsIkRhdGUiLCJub3ciLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJyZW5kZXIiLCJmYWxsYmFjayIsImRpdiIsImNsYXNzTmFtZSIsIkFsZXJ0VHJpYW5nbGUiLCJoMSIsInAiLCJidXR0b24iLCJvbkNsaWNrIiwiUmVmcmVzaEN3IiwiSG9tZSIsImRldGFpbHMiLCJzdW1tYXJ5IiwiQnVnIiwic3Ryb25nIiwibWVzc2FnZSIsInByZSIsInN0YWNrIiwiY2hpbGRyZW4iLCJlcnJvckJvdW5kYXJ5UHJvcHMiLCJXcmFwcGVkQ29tcG9uZW50IiwiZGlzcGxheU5hbWUiLCJuYW1lIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7O1FBdUNhQTtlQUFBQTs7UUFtSUdDO2VBQUFBOzs7OytEQXhLdUM7NkJBdUJIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFyQnBELDREQUE0RDtBQUM1RCxJQUFJQyxXQUFXO0FBQ2YsSUFBSTtJQUNGLGlFQUFpRTtJQUNqRSxNQUFNLEVBQUVDLFlBQVksRUFBRSxHQUFHQyxRQUFRO0lBQ2pDLE1BQU1DLGNBQ0pDLFFBQVFDLEdBQUcsQ0FBQywyQkFBMkIsSUFDdkM7SUFDRixNQUFNQyx5QkFDSkYsUUFBUUMsR0FBRyxDQUFDLDRCQUE0QixJQUFJO0lBRTlDLElBQ0VGLGdCQUFnQixxQ0FDaEJHLDJCQUEyQixtQkFDM0I7UUFDQU4sV0FBV0MsYUFBYUUsYUFBYUc7SUFDdkM7QUFDRixFQUFFLE9BQU9DLE9BQU87SUFDZEMsUUFBUUMsSUFBSSxDQUFDLHFEQUFxREY7QUFDcEU7QUFnQk8sTUFBTVQsc0JBQXNCWSxnQkFBUztJQUMxQyxZQUFZQyxLQUFZLENBQUU7UUFDeEIsS0FBSyxDQUFDQSxhQXdDQUMsY0FBYztZQUNwQixJQUFJLENBQUNDLFFBQVEsQ0FBQztnQkFDWkMsVUFBVTtnQkFDVlAsT0FBTztnQkFDUFEsU0FBUztZQUNYO1FBQ0YsUUFFUUMsZUFBZTtZQUNyQixJQUFJLE9BQU9DLFdBQVcsYUFBYTtnQkFDakNBLE9BQU9DLFFBQVEsQ0FBQ0MsSUFBSSxHQUFHO1lBQ3pCO1FBQ0Y7UUFuREUsSUFBSSxDQUFDQyxLQUFLLEdBQUc7WUFDWE4sVUFBVTtZQUNWUCxPQUFPO1lBQ1BRLFNBQVM7UUFDWDtJQUNGO0lBRUEsT0FBT00seUJBQXlCZCxLQUFZLEVBQVM7UUFDbkQsT0FBTztZQUNMTyxVQUFVO1lBQ1ZQO1lBQ0FRLFNBQVM7UUFDWDtJQUNGO0lBRVNPLGtCQUFrQmYsS0FBWSxFQUFFZ0IsU0FBb0IsRUFBRTtRQUM3RCxnQkFBZ0I7UUFDaEIsSUFBSSxDQUFDQyxRQUFRLENBQUNqQixPQUFPZ0I7UUFFckIsd0NBQXdDO1FBQ3hDLElBQUksSUFBSSxDQUFDWixLQUFLLENBQUNjLE9BQU8sRUFBRTtZQUN0QixJQUFJLENBQUNkLEtBQUssQ0FBQ2MsT0FBTyxDQUFDbEIsT0FBT2dCO1FBQzVCO0lBQ0Y7SUFFQSxNQUFjQyxTQUFTakIsS0FBWSxFQUFFZ0IsU0FBb0IsRUFBRTtRQUN6RCxJQUFJO1lBQ0YsMkRBQTJEO1lBQzNEZixRQUFRRCxLQUFLLENBQUMsa0NBQWtDQTtZQUNoREMsUUFBUUQsS0FBSyxDQUFDLGVBQWVnQjtZQUU3Qiw2QkFBNkI7WUFDN0IsTUFBTVIsVUFBVSxDQUFDLE1BQU0sRUFBRVcsS0FBS0MsR0FBRyxHQUFHLENBQUMsRUFBRUMsS0FBS0MsTUFBTSxHQUFHQyxRQUFRLENBQUMsSUFBSUMsTUFBTSxDQUFDLEdBQUcsSUFBSTtZQUNoRixJQUFJLENBQUNsQixRQUFRLENBQUM7Z0JBQUVFO1lBQVE7UUFDMUIsRUFBRSxPQUFPUyxVQUFVO1lBQ2pCaEIsUUFBUUQsS0FBSyxDQUFDLHdCQUF3QmlCO1FBQ3hDO0lBQ0Y7SUFnQlNRLFNBQVM7UUFDaEIsSUFBSSxJQUFJLENBQUNaLEtBQUssQ0FBQ04sUUFBUSxFQUFFO1lBQ3ZCLGtDQUFrQztZQUNsQyxJQUFJLElBQUksQ0FBQ0gsS0FBSyxDQUFDc0IsUUFBUSxFQUFFO2dCQUN2QixPQUFPLElBQUksQ0FBQ3RCLEtBQUssQ0FBQ3NCLFFBQVE7WUFDNUI7WUFFQSxtQkFBbUI7WUFDbkIscUJBQ0UscUJBQUNDO2dCQUFJQyxXQUFVOzBCQUNiLGNBQUEsc0JBQUNEO29CQUFJQyxXQUFVOztzQ0FDYixzQkFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUNiLHFCQUFDRDtvQ0FBSUMsV0FBVTs4Q0FDYixjQUFBLHFCQUFDQywwQkFBYTt3Q0FBQ0QsV0FBVTs7OzhDQUUzQixxQkFBQ0U7b0NBQUdGLFdBQVU7OENBQTJEOzs4Q0FHekUscUJBQUNHO29DQUFFSCxXQUFVOzhDQUF3Qzs7Z0NBSXBELElBQUksQ0FBQ2YsS0FBSyxDQUFDTCxPQUFPLGtCQUNqQixzQkFBQ3VCO29DQUFFSCxXQUFVOzt3Q0FBZ0Q7d0NBQ2hELElBQUksQ0FBQ2YsS0FBSyxDQUFDTCxPQUFPOzs7OztzQ0FLbkMsc0JBQUNtQjs0QkFBSUMsV0FBVTs7OENBQ2Isc0JBQUNJO29DQUNDQyxTQUFTLElBQUksQ0FBQzVCLFdBQVc7b0NBQ3pCdUIsV0FBVTs7c0RBRVYscUJBQUNNLHNCQUFTOzRDQUFDTixXQUFVOzt3Q0FBaUI7Ozs4Q0FHeEMsc0JBQUNJO29DQUNDQyxTQUFTLElBQUksQ0FBQ3hCLFlBQVk7b0NBQzFCbUIsV0FBVTs7c0RBRVYscUJBQUNPLGlCQUFJOzRDQUFDUCxXQUFVOzt3Q0FBaUI7Ozs7O3dCQUtwQy9CLFFBQVFDLEdBQUcsQ0FBQyxXQUFXLEtBQUssaUJBQWlCLElBQUksQ0FBQ2UsS0FBSyxDQUFDYixLQUFLLGtCQUM1RCxzQkFBQ29DOzRCQUFRUixXQUFVOzs4Q0FDakIsc0JBQUNTO29DQUFRVCxXQUFVOztzREFDakIscUJBQUNVLGdCQUFHOzRDQUFDVixXQUFVOzt3Q0FBd0I7Ozs4Q0FHekMsc0JBQUNEO29DQUFJQyxXQUFVOztzREFDYixzQkFBQ0Q7NENBQUlDLFdBQVU7OzhEQUNiLHFCQUFDVzs4REFBTzs7Z0RBQWU7Z0RBQUUsSUFBSSxDQUFDMUIsS0FBSyxDQUFDYixLQUFLLENBQUN3QyxPQUFPOzs7c0RBRW5ELHNCQUFDYjs7OERBQ0MscUJBQUNZOzhEQUFPOzs4REFDUixxQkFBQ0U7b0RBQUliLFdBQVU7OERBQ1osSUFBSSxDQUFDZixLQUFLLENBQUNiLEtBQUssQ0FBQzBDLEtBQUs7Ozs7Ozs7Ozs7O1FBU3pDO1FBRUEsT0FBTyxJQUFJLENBQUN0QyxLQUFLLENBQUN1QyxRQUFRO0lBQzVCO0FBQ0Y7QUFHTyxTQUFTbkQsa0JBQ2RXLFNBQWlDLEVBQ2pDeUMsa0JBQTRDO0lBRTVDLE1BQU1DLG1CQUFtQixDQUFDekMsc0JBQ3hCLHFCQUFDYjtZQUFlLEdBQUdxRCxrQkFBa0I7c0JBQ25DLGNBQUEscUJBQUN6QztnQkFBVyxHQUFHQyxLQUFLOzs7SUFJeEJ5QyxpQkFBaUJDLFdBQVcsR0FBRyxDQUFDLGtCQUFrQixFQUFFM0MsVUFBVTJDLFdBQVcsSUFBSTNDLFVBQVU0QyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBRTlGLE9BQU9GO0FBQ1QifQ==