{"version":3,"sources":["/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/get-started/page.test.tsx"],"sourcesContent":["/**\n * Unit Tests for Get Started Page (G-UT-004, G-UT-005, G-UT-006, G-UT-007)\n * Task: G-002 - Get Started Page\n */\n\nimport React from 'react';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport GetStartedPage from './page';\nimport * as sharedContexts from '@elzatona/shared-contexts';\n\n// Mock shared contexts\njest.mock('@elzatona/shared-contexts', () => {\n  const actual = jest.requireActual('../../test-utils/mocks/shared-contexts');\n  return {\n    ...actual,\n    useUserType: jest.fn(),\n  };\n});\n\n// Mock LearningTypeContext\njest.mock('../../context/LearningTypeContext', () => ({\n  useLearningType: jest.fn(() => ({\n    learningType: null,\n    setLearningType: jest.fn(),\n  })),\n}));\n\n// Mock lucide-react icons\njest.mock('lucide-react', () => ({\n  ArrowRight: () => <span data-testid=\"arrow-right-icon\">‚Üí</span>,\n  Play: () => <span data-testid=\"play-icon\">‚ñ∂</span>,\n  Code: () => <span data-testid=\"code-icon\">üíª</span>,\n  Target: () => <span data-testid=\"target-icon\">üéØ</span>,\n  BookOpen: () => <span data-testid=\"book-icon\">üìñ</span>,\n  CheckCircle: () => <span data-testid=\"check-icon\">‚úì</span>,\n  Star: () => <span data-testid=\"star-icon\">‚≠ê</span>,\n  Users: () => <span data-testid=\"users-icon\">üë•</span>,\n  Award: () => <span data-testid=\"award-icon\">üèÜ</span>,\n  Map: () => <span data-testid=\"map-icon\">üó∫Ô∏è</span>,\n  Compass: () => <span data-testid=\"compass-icon\">üß≠</span>,\n  ExternalLink: () => <span data-testid=\"external-icon\">üîó</span>,\n}));\n\nconst mockPush = jest.fn();\nconst mockUseRouter = jest.fn();\n\njest.mock('next/navigation', () => ({\n  useRouter: () => mockUseRouter(),\n}));\n\ndescribe('G-UT-004: \"I need guidance\" Option Renders', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    jest.useFakeTimers();\n    \n    (sharedContexts.useUserType as jest.Mock).mockReturnValue({\n      userType: null,\n      setUserType: jest.fn(),\n    });\n    \n    mockUseRouter.mockReturnValue({\n      push: mockPush,\n      replace: jest.fn(),\n      prefetch: jest.fn(),\n    });\n  });\n\n  afterEach(() => {\n    jest.runOnlyPendingTimers();\n    jest.useRealTimers();\n  });\n\n  it('should have \"I need guidance\" option visible', () => {\n    render(<GetStartedPage />);\n    const guidedOption = screen.getByText(/I need guidance/i);\n    expect(guidedOption).toBeVisible();\n  });\n\n  it('should have correct text content for \"I need guidance\"', () => {\n    render(<GetStartedPage />);\n    expect(screen.getByText(/I need guidance/i)).toBeInTheDocument();\n    expect(screen.getByText(/Show me structured learning paths/i)).toBeInTheDocument();\n    expect(screen.getByText(/Pre-defined learning paths/i)).toBeInTheDocument();\n  });\n});\n\ndescribe('G-UT-005: \"I\\'m self-directed\" Option Renders', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    jest.useFakeTimers();\n    \n    (sharedContexts.useUserType as jest.Mock).mockReturnValue({\n      userType: null,\n      setUserType: jest.fn(),\n    });\n    \n    mockUseRouter.mockReturnValue({\n      push: mockPush,\n      replace: jest.fn(),\n      prefetch: jest.fn(),\n    });\n  });\n\n  afterEach(() => {\n    jest.runOnlyPendingTimers();\n    jest.useRealTimers();\n  });\n\n  it('should have \"I\\'m self-directed\" option visible', () => {\n    render(<GetStartedPage />);\n    const selfDirectedOption = screen.getByText(/I'm self-directed/i);\n    expect(selfDirectedOption).toBeVisible();\n  });\n\n  it('should have correct text content for \"I\\'m self-directed\"', () => {\n    render(<GetStartedPage />);\n    expect(screen.getByText(/I'm self-directed/i)).toBeInTheDocument();\n    expect(screen.getByText(/Let me create my own roadmap/i)).toBeInTheDocument();\n    expect(screen.getByText(/Custom roadmap builder/i)).toBeInTheDocument();\n  });\n});\n\ndescribe('G-UT-006: Selection Feedback Works', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    jest.useFakeTimers();\n    \n    (sharedContexts.useUserType as jest.Mock).mockReturnValue({\n      userType: null,\n      setUserType: jest.fn(),\n    });\n    \n    mockUseRouter.mockReturnValue({\n      push: mockPush,\n      replace: jest.fn(),\n      prefetch: jest.fn(),\n    });\n  });\n\n  afterEach(() => {\n    jest.runOnlyPendingTimers();\n    jest.useRealTimers();\n  });\n\n  it('should show selection feedback when \"I need guidance\" is clicked', async () => {\n    render(<GetStartedPage />);\n    \n    const guidedOption = screen.getByText(/I need guidance/i).closest('div[class*=\"cursor-pointer\"]');\n    expect(guidedOption).toBeInTheDocument();\n    \n    if (guidedOption) {\n      fireEvent.click(guidedOption);\n      \n      // Wait for the selection to process\n      jest.advanceTimersByTime(300);\n      \n      await waitFor(() => {\n        expect(screen.getByText(/Great choice!/i)).toBeInTheDocument();\n      });\n    }\n  });\n\n  it('should show loading transition when option is selected', async () => {\n    render(<GetStartedPage />);\n    \n    const guidedOption = screen.getByText(/I need guidance/i).closest('div[class*=\"cursor-pointer\"]');\n    if (guidedOption) {\n      fireEvent.click(guidedOption);\n      \n      jest.advanceTimersByTime(300);\n      \n      await waitFor(() => {\n        expect(screen.getByText(/Loading your learning experience/i)).toBeInTheDocument();\n      });\n    }\n  });\n});\n\ndescribe('G-UT-007: Page Structure Renders', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    jest.useFakeTimers();\n    \n    (sharedContexts.useUserType as jest.Mock).mockReturnValue({\n      userType: null,\n      setUserType: jest.fn(),\n    });\n    \n    mockUseRouter.mockReturnValue({\n      push: mockPush,\n      replace: jest.fn(),\n      prefetch: jest.fn(),\n    });\n  });\n\n  afterEach(() => {\n    jest.runOnlyPendingTimers();\n    jest.useRealTimers();\n  });\n\n  it('should render page title', () => {\n    render(<GetStartedPage />);\n    expect(screen.getByText(/Choose Your Learning Style/i)).toBeInTheDocument();\n  });\n\n  it('should render page description', () => {\n    render(<GetStartedPage />);\n    expect(screen.getByText(/Select how you'd like to learn/i)).toBeInTheDocument();\n  });\n\n  it('should render both learning options', () => {\n    render(<GetStartedPage />);\n    expect(screen.getByText(/I need guidance/i)).toBeInTheDocument();\n    expect(screen.getByText(/I'm self-directed/i)).toBeInTheDocument();\n  });\n});\n\ndescribe('G-UT-SNAPSHOT: Get Started Page Snapshot Tests', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    jest.useFakeTimers();\n    \n    (sharedContexts.useUserType as jest.Mock).mockReturnValue({\n      userType: null,\n      setUserType: jest.fn(),\n    });\n    \n    mockUseRouter.mockReturnValue({\n      push: mockPush,\n      replace: jest.fn(),\n      prefetch: jest.fn(),\n    });\n  });\n\n  afterEach(() => {\n    jest.runOnlyPendingTimers();\n    jest.useRealTimers();\n  });\n\n  it('should match get started page snapshot', () => {\n    const { container } = render(<GetStartedPage />);\n    expect(container.firstChild).toMatchSnapshot();\n  });\n\n  it('should match snapshot with loading transition', () => {\n    const { container, rerender } = render(<GetStartedPage />);\n    \n    const guidedOption = screen.getByText(/I need guidance/i).closest('div[class*=\"cursor-pointer\"]');\n    if (guidedOption) {\n      fireEvent.click(guidedOption);\n      jest.advanceTimersByTime(300);\n    }\n    \n    rerender(<GetStartedPage />);\n    expect(container.firstChild).toMatchSnapshot();\n  });\n});\n\n"],"names":["jest","mock","actual","requireActual","useUserType","fn","useLearningType","learningType","setLearningType","ArrowRight","span","data-testid","Play","Code","Target","BookOpen","CheckCircle","Star","Users","Award","Map","Compass","ExternalLink","useRouter","mockUseRouter","mockPush","describe","beforeEach","clearAllMocks","useFakeTimers","sharedContexts","mockReturnValue","userType","setUserType","push","replace","prefetch","afterEach","runOnlyPendingTimers","useRealTimers","it","render","GetStartedPage","guidedOption","screen","getByText","expect","toBeVisible","toBeInTheDocument","selfDirectedOption","closest","fireEvent","click","advanceTimersByTime","waitFor","container","firstChild","toMatchSnapshot","rerender"],"mappings":"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"}