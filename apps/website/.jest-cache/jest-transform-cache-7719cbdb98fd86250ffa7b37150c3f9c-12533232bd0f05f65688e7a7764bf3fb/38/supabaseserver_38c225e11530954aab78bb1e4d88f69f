326308b0d5b48ebdb30c57b04267c07d
/* eslint-disable @typescript-eslint/no-explicit-any */ // Server-side Supabase configuration for Next.js 15 compatibility
// This file uses 'any' types for Supabase query builder operations
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get supabase () {
        return supabase;
    },
    get supabaseOperations () {
        return supabaseOperations;
    }
});
const _supabasejs = require("@supabase/supabase-js");
// Supabase configuration
const supabaseUrl = process.env['NEXT_PUBLIC_SUPABASE_URL'] || 'https://hpnewqkvpnthpohvxcmq.supabase.co';
const supabaseServiceRoleKey = process.env['SUPABASE_SERVICE_ROLE_KEY'] || 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhwbmV3cWt2cG50aHBvaHZ4Y21xIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDY2MDQxOCwiZXhwIjoyMDc2MjM2NDE4fQ.BH3xSC7yk5DqX5bTgyedOyC45fNg1_vBcV04X_tkYLQ';
// Initialize Supabase client (server-side with service role key)
let supabase = null;
try {
    supabase = (0, _supabasejs.createClient)(supabaseUrl, supabaseServiceRoleKey, {
        auth: {
            autoRefreshToken: false,
            persistSession: false
        }
    });
    console.log('‚úÖ Supabase server initialized successfully with service role key!');
} catch (error) {
    console.error('‚ùå Supabase server initialization failed:', error);
}
const supabaseOperations = {
    // Learning Cards
    async getLearningCards (filters) {
        if (!supabase) throw new Error('Supabase not initialized');
        let query = supabase.from('learning_cards').select('*');
        if (filters?.type) {
            query = query.eq('type', filters.type);
        }
        if (filters?.isActive !== undefined) {
            query = query.eq('is_active', filters.isActive);
        }
        if (filters?.orderBy) {
            query = query.order(filters.orderBy, {
                ascending: filters.orderDirection === 'asc'
            });
        }
        if (filters?.limit) {
            query = query.limit(filters.limit);
        }
        return await query;
    },
    async createLearningCard (cardData) {
        if (!supabase) throw new Error('Supabase not initialized');
        const data = {
            ...cardData,
            created_at: new Date().toISOString(),
            updated_at: new Date().toISOString(),
            is_active: cardData.is_active !== false
        };
        return await supabase.from('learning_cards').insert(data).select().single();
    },
    async updateLearningCard (id, updates) {
        if (!supabase) throw new Error('Supabase not initialized');
        const data = {
            ...updates,
            updated_at: new Date().toISOString()
        };
        return await supabase.from('learning_cards').update(data).eq('id', id).select().single();
    },
    async deleteLearningCard (id) {
        if (!supabase) throw new Error('Supabase not initialized');
        return await supabase.from('learning_cards').delete().eq('id', id);
    },
    // Categories
    async getCategories (filters) {
        if (!supabase) throw new Error('Supabase not initialized');
        let query = supabase.from('categories').select('*');
        if (filters?.isActive !== undefined) {
            query = query.eq('is_active', filters.isActive);
        }
        if (filters?.orderBy) {
            query = query.order(filters.orderBy, {
                ascending: filters.orderDirection === 'asc'
            });
        }
        return await query;
    },
    async createCategory (categoryData) {
        if (!supabase) throw new Error('Supabase not initialized');
        const data = {
            ...categoryData,
            slug: categoryData.slug || categoryData.name.toLowerCase().replace(/\s+/g, '-'),
            card_type: categoryData.card_type || categoryData.slug || categoryData.name.toLowerCase().replace(/\s+/g, '-'),
            created_at: new Date().toISOString(),
            updated_at: new Date().toISOString(),
            is_active: categoryData.is_active !== false
        };
        return await supabase.from('categories').insert(data).select().single();
    },
    // Topics
    async getTopics (filters) {
        if (!supabase) throw new Error('Supabase not initialized');
        let query = supabase.from('topics').select('*');
        if (filters?.categoryId) {
            query = query.eq('category_id', filters.categoryId);
        }
        if (filters?.isActive !== undefined) {
            query = query.eq('is_active', filters.isActive);
        }
        if (filters?.orderBy) {
            query = query.order(filters.orderBy, {
                ascending: filters.orderDirection === 'asc'
            });
        }
        return await query;
    },
    async createTopic (topicData) {
        if (!supabase) throw new Error('Supabase not initialized');
        const data = {
            ...topicData,
            slug: topicData.slug || topicData.name.toLowerCase().replace(/\s+/g, '-'),
            created_at: new Date().toISOString(),
            updated_at: new Date().toISOString(),
            is_active: topicData.is_active !== false
        };
        return await supabase.from('topics').insert(data).select().single();
    },
    // Questions
    async getQuestions (filters) {
        if (!supabase) throw new Error('Supabase not initialized');
        let query = supabase.from('questions').select('*');
        if (filters?.topicId) {
            console.log(`üîç getQuestions - Applying topic_id filter: ${filters.topicId}`);
            query = query.eq('topic_id', filters.topicId);
        } else {
            console.log('‚ö†Ô∏è getQuestions - No topic_id filter provided');
        }
        if (filters?.categoryId) {
            if (Array.isArray(filters.categoryId)) {
                // Filter by multiple category IDs
                query = query.in('category_id', filters.categoryId);
            } else {
                // Filter by single category ID
                query = query.eq('category_id', filters.categoryId);
            }
        }
        if (filters?.difficulty) {
            query = query.eq('difficulty', filters.difficulty);
        }
        if (filters?.questionType) {
            query = query.eq('question_type', filters.questionType);
        }
        if (filters?.isActive !== undefined) {
            query = query.eq('is_active', filters.isActive);
        }
        if (filters?.orderBy) {
            query = query.order(filters.orderBy, {
                ascending: filters.orderDirection === 'asc'
            });
        }
        if (filters?.limit) {
            query = query.limit(filters.limit);
        }
        return await query;
    },
    async createQuestion (questionData) {
        if (!supabase) throw new Error('Supabase not initialized');
        const data = {
            ...questionData,
            created_at: new Date().toISOString(),
            updated_at: new Date().toISOString(),
            is_active: questionData.is_active !== false
        };
        return await supabase.from('questions').insert(data).select().single();
    },
    // Learning Plans
    async getLearningPlans (filters) {
        if (!supabase) throw new Error('Supabase not initialized');
        let query = supabase.from('learning_plans').select('*');
        if (filters?.difficulty) {
            query = query.eq('difficulty', filters.difficulty);
        }
        if (filters?.isActive !== undefined) {
            query = query.eq('is_active', filters.isActive);
        }
        if (filters?.orderBy) {
            query = query.order(filters.orderBy, {
                ascending: filters.orderDirection === 'asc'
            });
        }
        return await query;
    },
    async createLearningPlan (planData) {
        if (!supabase) throw new Error('Supabase not initialized');
        const data = {
            ...planData,
            created_at: new Date().toISOString(),
            updated_at: new Date().toISOString(),
            is_active: planData.is_active !== false
        };
        return await supabase.from('learning_plans').insert(data).select().single();
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hLmZvdWFkL1NpZGVQcm9qZWN0cy9FbHphdG9uYS1hbGwvRWx6YXRvbmEtd2ViL2FwcHMvd2Vic2l0ZS9zcmMvbGliL3N1cGFiYXNlLXNlcnZlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vLyBTZXJ2ZXItc2lkZSBTdXBhYmFzZSBjb25maWd1cmF0aW9uIGZvciBOZXh0LmpzIDE1IGNvbXBhdGliaWxpdHlcbi8vIFRoaXMgZmlsZSB1c2VzICdhbnknIHR5cGVzIGZvciBTdXBhYmFzZSBxdWVyeSBidWlsZGVyIG9wZXJhdGlvbnNcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5cbi8vIFN1cGFiYXNlIGNvbmZpZ3VyYXRpb25cbmNvbnN0IHN1cGFiYXNlVXJsID1cbiAgcHJvY2Vzcy5lbnZbJ05FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCddIHx8XG4gICdodHRwczovL2hwbmV3cWt2cG50aHBvaHZ4Y21xLnN1cGFiYXNlLmNvJztcbmNvbnN0IHN1cGFiYXNlU2VydmljZVJvbGVLZXkgPVxuICBwcm9jZXNzLmVudlsnU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSddIHx8XG4gICdleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcGMzTWlPaUp6ZFhCaFltRnpaU0lzSW5KbFppSTZJbWh3Ym1WM2NXdDJjRzUwYUhCdmFIWjRZMjF4SWl3aWNtOXNaU0k2SW5ObGNuWnBZMlZmY205c1pTSXNJbWxoZENJNk1UYzJNRFkyTURReE9Dd2laWGh3SWpveU1EYzJNak0yTkRFNGZRLkJIM3hTQzd5azVEcVg1YlRneWVkT3lDNDVmTmcxX3ZCY1YwNFhfdGtZTFEnO1xuXG4vLyBJbml0aWFsaXplIFN1cGFiYXNlIGNsaWVudCAoc2VydmVyLXNpZGUgd2l0aCBzZXJ2aWNlIHJvbGUga2V5KVxubGV0IHN1cGFiYXNlOiBSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVDbGllbnQ+IHwgbnVsbCA9IG51bGw7XG5cbnRyeSB7XG4gIHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZVNlcnZpY2VSb2xlS2V5LCB7XG4gICAgYXV0aDoge1xuICAgICAgYXV0b1JlZnJlc2hUb2tlbjogZmFsc2UsXG4gICAgICBwZXJzaXN0U2Vzc2lvbjogZmFsc2UsXG4gICAgfSxcbiAgfSk7XG4gIGNvbnNvbGUubG9nKFxuICAgICfinIUgU3VwYWJhc2Ugc2VydmVyIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseSB3aXRoIHNlcnZpY2Ugcm9sZSBrZXkhJ1xuICApO1xufSBjYXRjaCAoZXJyb3IpIHtcbiAgY29uc29sZS5lcnJvcign4p2MIFN1cGFiYXNlIHNlcnZlciBpbml0aWFsaXphdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xufVxuXG4vLyBFeHBvcnQgU3VwYWJhc2UgY2xpZW50IGZvciBzZXJ2ZXItc2lkZSB1c2VcbmV4cG9ydCB7IHN1cGFiYXNlIH07XG5cbi8vIEV4cG9ydCBjb21tb24gU3VwYWJhc2Ugb3BlcmF0aW9ucyBmb3IgZWFzeSBtaWdyYXRpb25cbmV4cG9ydCBjb25zdCBzdXBhYmFzZU9wZXJhdGlvbnMgPSB7XG4gIC8vIExlYXJuaW5nIENhcmRzXG4gIGFzeW5jIGdldExlYXJuaW5nQ2FyZHMoZmlsdGVycz86IHtcbiAgICB0eXBlPzogc3RyaW5nO1xuICAgIGlzQWN0aXZlPzogYm9vbGVhbjtcbiAgICBsaW1pdD86IG51bWJlcjtcbiAgICBvcmRlckJ5Pzogc3RyaW5nO1xuICAgIG9yZGVyRGlyZWN0aW9uPzogJ2FzYycgfCAnZGVzYyc7XG4gIH0pIHtcbiAgICBpZiAoIXN1cGFiYXNlKSB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIG5vdCBpbml0aWFsaXplZCcpO1xuXG4gICAgbGV0IHF1ZXJ5ID0gKHN1cGFiYXNlIGFzIGFueSkuZnJvbSgnbGVhcm5pbmdfY2FyZHMnKS5zZWxlY3QoJyonKTtcblxuICAgIGlmIChmaWx0ZXJzPy50eXBlKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCd0eXBlJywgZmlsdGVycy50eXBlKTtcbiAgICB9XG4gICAgaWYgKGZpbHRlcnM/LmlzQWN0aXZlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ2lzX2FjdGl2ZScsIGZpbHRlcnMuaXNBY3RpdmUpO1xuICAgIH1cbiAgICBpZiAoZmlsdGVycz8ub3JkZXJCeSkge1xuICAgICAgcXVlcnkgPSBxdWVyeS5vcmRlcihmaWx0ZXJzLm9yZGVyQnksIHtcbiAgICAgICAgYXNjZW5kaW5nOiBmaWx0ZXJzLm9yZGVyRGlyZWN0aW9uID09PSAnYXNjJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZmlsdGVycz8ubGltaXQpIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkubGltaXQoZmlsdGVycy5saW1pdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IHF1ZXJ5O1xuICB9LFxuXG4gIGFzeW5jIGNyZWF0ZUxlYXJuaW5nQ2FyZChjYXJkRGF0YToge1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgY29sb3I/OiBzdHJpbmc7XG4gICAgaWNvbj86IHN0cmluZztcbiAgICBvcmRlcl9pbmRleD86IG51bWJlcjtcbiAgICBpc19hY3RpdmU/OiBib29sZWFuO1xuICB9KSB7XG4gICAgaWYgKCFzdXBhYmFzZSkgdGhyb3cgbmV3IEVycm9yKCdTdXBhYmFzZSBub3QgaW5pdGlhbGl6ZWQnKTtcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAuLi5jYXJkRGF0YSxcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGlzX2FjdGl2ZTogY2FyZERhdGEuaXNfYWN0aXZlICE9PSBmYWxzZSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIGF3YWl0IChzdXBhYmFzZSBhcyBhbnkpXG4gICAgICAuZnJvbSgnbGVhcm5pbmdfY2FyZHMnKVxuICAgICAgLmluc2VydChkYXRhKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG4gIH0sXG5cbiAgYXN5bmMgdXBkYXRlTGVhcm5pbmdDYXJkKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgdXBkYXRlczogUGFydGlhbDx7XG4gICAgICB0aXRsZTogc3RyaW5nO1xuICAgICAgdHlwZTogc3RyaW5nO1xuICAgICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICAgIGNvbG9yOiBzdHJpbmc7XG4gICAgICBpY29uOiBzdHJpbmc7XG4gICAgICBvcmRlcl9pbmRleDogbnVtYmVyO1xuICAgICAgaXNfYWN0aXZlOiBib29sZWFuO1xuICAgIH0+XG4gICkge1xuICAgIGlmICghc3VwYWJhc2UpIHRocm93IG5ldyBFcnJvcignU3VwYWJhc2Ugbm90IGluaXRpYWxpemVkJyk7XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgLi4udXBkYXRlcyxcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIGF3YWl0IChzdXBhYmFzZSBhcyBhbnkpXG4gICAgICAuZnJvbSgnbGVhcm5pbmdfY2FyZHMnKVxuICAgICAgLnVwZGF0ZShkYXRhKVxuICAgICAgLmVxKCdpZCcsIGlkKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG4gIH0sXG5cbiAgYXN5bmMgZGVsZXRlTGVhcm5pbmdDYXJkKGlkOiBzdHJpbmcpIHtcbiAgICBpZiAoIXN1cGFiYXNlKSB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIG5vdCBpbml0aWFsaXplZCcpO1xuICAgIHJldHVybiBhd2FpdCAoc3VwYWJhc2UgYXMgYW55KS5mcm9tKCdsZWFybmluZ19jYXJkcycpLmRlbGV0ZSgpLmVxKCdpZCcsIGlkKTtcbiAgfSxcblxuICAvLyBDYXRlZ29yaWVzXG4gIGFzeW5jIGdldENhdGVnb3JpZXMoZmlsdGVycz86IHtcbiAgICBpc0FjdGl2ZT86IGJvb2xlYW47XG4gICAgb3JkZXJCeT86IHN0cmluZztcbiAgICBvcmRlckRpcmVjdGlvbj86ICdhc2MnIHwgJ2Rlc2MnO1xuICB9KSB7XG4gICAgaWYgKCFzdXBhYmFzZSkgdGhyb3cgbmV3IEVycm9yKCdTdXBhYmFzZSBub3QgaW5pdGlhbGl6ZWQnKTtcblxuICAgIGxldCBxdWVyeSA9IChzdXBhYmFzZSBhcyBhbnkpLmZyb20oJ2NhdGVnb3JpZXMnKS5zZWxlY3QoJyonKTtcblxuICAgIGlmIChmaWx0ZXJzPy5pc0FjdGl2ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdpc19hY3RpdmUnLCBmaWx0ZXJzLmlzQWN0aXZlKTtcbiAgICB9XG4gICAgaWYgKGZpbHRlcnM/Lm9yZGVyQnkpIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkub3JkZXIoZmlsdGVycy5vcmRlckJ5LCB7XG4gICAgICAgIGFzY2VuZGluZzogZmlsdGVycy5vcmRlckRpcmVjdGlvbiA9PT0gJ2FzYycsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgcXVlcnk7XG4gIH0sXG5cbiAgYXN5bmMgY3JlYXRlQ2F0ZWdvcnkoY2F0ZWdvcnlEYXRhOiB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgc2x1Zz86IHN0cmluZztcbiAgICBjYXJkX3R5cGU/OiBzdHJpbmc7XG4gICAgaWNvbj86IHN0cmluZztcbiAgICBjb2xvcj86IHN0cmluZztcbiAgICBvcmRlcl9pbmRleD86IG51bWJlcjtcbiAgICBpc19hY3RpdmU/OiBib29sZWFuO1xuICB9KSB7XG4gICAgaWYgKCFzdXBhYmFzZSkgdGhyb3cgbmV3IEVycm9yKCdTdXBhYmFzZSBub3QgaW5pdGlhbGl6ZWQnKTtcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAuLi5jYXRlZ29yeURhdGEsXG4gICAgICBzbHVnOlxuICAgICAgICBjYXRlZ29yeURhdGEuc2x1ZyB8fFxuICAgICAgICBjYXRlZ29yeURhdGEubmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJy0nKSxcbiAgICAgIGNhcmRfdHlwZTpcbiAgICAgICAgY2F0ZWdvcnlEYXRhLmNhcmRfdHlwZSB8fFxuICAgICAgICBjYXRlZ29yeURhdGEuc2x1ZyB8fFxuICAgICAgICBjYXRlZ29yeURhdGEubmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJy0nKSxcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGlzX2FjdGl2ZTogY2F0ZWdvcnlEYXRhLmlzX2FjdGl2ZSAhPT0gZmFsc2UsXG4gICAgfTtcblxuICAgIHJldHVybiBhd2FpdCAoc3VwYWJhc2UgYXMgYW55KVxuICAgICAgLmZyb20oJ2NhdGVnb3JpZXMnKVxuICAgICAgLmluc2VydChkYXRhKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG4gIH0sXG5cbiAgLy8gVG9waWNzXG4gIGFzeW5jIGdldFRvcGljcyhmaWx0ZXJzPzoge1xuICAgIGNhdGVnb3J5SWQ/OiBzdHJpbmc7XG4gICAgaXNBY3RpdmU/OiBib29sZWFuO1xuICAgIG9yZGVyQnk/OiBzdHJpbmc7XG4gICAgb3JkZXJEaXJlY3Rpb24/OiAnYXNjJyB8ICdkZXNjJztcbiAgfSkge1xuICAgIGlmICghc3VwYWJhc2UpIHRocm93IG5ldyBFcnJvcignU3VwYWJhc2Ugbm90IGluaXRpYWxpemVkJyk7XG5cbiAgICBsZXQgcXVlcnkgPSAoc3VwYWJhc2UgYXMgYW55KS5mcm9tKCd0b3BpY3MnKS5zZWxlY3QoJyonKTtcblxuICAgIGlmIChmaWx0ZXJzPy5jYXRlZ29yeUlkKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdjYXRlZ29yeV9pZCcsIGZpbHRlcnMuY2F0ZWdvcnlJZCk7XG4gICAgfVxuICAgIGlmIChmaWx0ZXJzPy5pc0FjdGl2ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdpc19hY3RpdmUnLCBmaWx0ZXJzLmlzQWN0aXZlKTtcbiAgICB9XG4gICAgaWYgKGZpbHRlcnM/Lm9yZGVyQnkpIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkub3JkZXIoZmlsdGVycy5vcmRlckJ5LCB7XG4gICAgICAgIGFzY2VuZGluZzogZmlsdGVycy5vcmRlckRpcmVjdGlvbiA9PT0gJ2FzYycsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgcXVlcnk7XG4gIH0sXG5cbiAgYXN5bmMgY3JlYXRlVG9waWModG9waWNEYXRhOiB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgc2x1Zz86IHN0cmluZztcbiAgICBjYXRlZ29yeV9pZD86IHN0cmluZztcbiAgICBvcmRlcl9pbmRleD86IG51bWJlcjtcbiAgICBpc19hY3RpdmU/OiBib29sZWFuO1xuICB9KSB7XG4gICAgaWYgKCFzdXBhYmFzZSkgdGhyb3cgbmV3IEVycm9yKCdTdXBhYmFzZSBub3QgaW5pdGlhbGl6ZWQnKTtcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAuLi50b3BpY0RhdGEsXG4gICAgICBzbHVnOiB0b3BpY0RhdGEuc2x1ZyB8fCB0b3BpY0RhdGEubmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJy0nKSxcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGlzX2FjdGl2ZTogdG9waWNEYXRhLmlzX2FjdGl2ZSAhPT0gZmFsc2UsXG4gICAgfTtcblxuICAgIHJldHVybiBhd2FpdCAoc3VwYWJhc2UgYXMgYW55KVxuICAgICAgLmZyb20oJ3RvcGljcycpXG4gICAgICAuaW5zZXJ0KGRhdGEpXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKTtcbiAgfSxcblxuICAvLyBRdWVzdGlvbnNcbiAgYXN5bmMgZ2V0UXVlc3Rpb25zKGZpbHRlcnM/OiB7XG4gICAgdG9waWNJZD86IHN0cmluZztcbiAgICBjYXRlZ29yeUlkPzogc3RyaW5nIHwgc3RyaW5nW107XG4gICAgZGlmZmljdWx0eT86IHN0cmluZztcbiAgICBxdWVzdGlvblR5cGU/OiBzdHJpbmc7XG4gICAgaXNBY3RpdmU/OiBib29sZWFuO1xuICAgIGxpbWl0PzogbnVtYmVyO1xuICAgIG9yZGVyQnk/OiBzdHJpbmc7XG4gICAgb3JkZXJEaXJlY3Rpb24/OiAnYXNjJyB8ICdkZXNjJztcbiAgfSkge1xuICAgIGlmICghc3VwYWJhc2UpIHRocm93IG5ldyBFcnJvcignU3VwYWJhc2Ugbm90IGluaXRpYWxpemVkJyk7XG5cbiAgICBsZXQgcXVlcnkgPSAoc3VwYWJhc2UgYXMgYW55KS5mcm9tKCdxdWVzdGlvbnMnKS5zZWxlY3QoJyonKTtcblxuICAgIGlmIChmaWx0ZXJzPy50b3BpY0lkKSB7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgYPCflI0gZ2V0UXVlc3Rpb25zIC0gQXBwbHlpbmcgdG9waWNfaWQgZmlsdGVyOiAke2ZpbHRlcnMudG9waWNJZH1gXG4gICAgICApO1xuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgndG9waWNfaWQnLCBmaWx0ZXJzLnRvcGljSWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygn4pqg77iPIGdldFF1ZXN0aW9ucyAtIE5vIHRvcGljX2lkIGZpbHRlciBwcm92aWRlZCcpO1xuICAgIH1cbiAgICBpZiAoZmlsdGVycz8uY2F0ZWdvcnlJZCkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZmlsdGVycy5jYXRlZ29yeUlkKSkge1xuICAgICAgICAvLyBGaWx0ZXIgYnkgbXVsdGlwbGUgY2F0ZWdvcnkgSURzXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuaW4oJ2NhdGVnb3J5X2lkJywgZmlsdGVycy5jYXRlZ29yeUlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZpbHRlciBieSBzaW5nbGUgY2F0ZWdvcnkgSURcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnY2F0ZWdvcnlfaWQnLCBmaWx0ZXJzLmNhdGVnb3J5SWQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmlsdGVycz8uZGlmZmljdWx0eSkge1xuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnZGlmZmljdWx0eScsIGZpbHRlcnMuZGlmZmljdWx0eSk7XG4gICAgfVxuICAgIGlmIChmaWx0ZXJzPy5xdWVzdGlvblR5cGUpIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3F1ZXN0aW9uX3R5cGUnLCBmaWx0ZXJzLnF1ZXN0aW9uVHlwZSk7XG4gICAgfVxuICAgIGlmIChmaWx0ZXJzPy5pc0FjdGl2ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdpc19hY3RpdmUnLCBmaWx0ZXJzLmlzQWN0aXZlKTtcbiAgICB9XG4gICAgaWYgKGZpbHRlcnM/Lm9yZGVyQnkpIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkub3JkZXIoZmlsdGVycy5vcmRlckJ5LCB7XG4gICAgICAgIGFzY2VuZGluZzogZmlsdGVycy5vcmRlckRpcmVjdGlvbiA9PT0gJ2FzYycsXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGZpbHRlcnM/LmxpbWl0KSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LmxpbWl0KGZpbHRlcnMubGltaXQpO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCBxdWVyeTtcbiAgfSxcblxuICBhc3luYyBjcmVhdGVRdWVzdGlvbihxdWVzdGlvbkRhdGE6IHtcbiAgICBxdWVzdGlvbl90ZXh0OiBzdHJpbmc7XG4gICAgZXhwbGFuYXRpb246IHN0cmluZztcbiAgICB0b3BpY19pZD86IHN0cmluZztcbiAgICBkaWZmaWN1bHR5Pzogc3RyaW5nO1xuICAgIHF1ZXN0aW9uX3R5cGU/OiBzdHJpbmc7XG4gICAgb3B0aW9ucz86IHN0cmluZztcbiAgICBjb3JyZWN0X2Fuc3dlcj86IHN0cmluZztcbiAgICB0YWdzPzogc3RyaW5nO1xuICAgIGlzX2FjdGl2ZT86IGJvb2xlYW47XG4gIH0pIHtcbiAgICBpZiAoIXN1cGFiYXNlKSB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIG5vdCBpbml0aWFsaXplZCcpO1xuXG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIC4uLnF1ZXN0aW9uRGF0YSxcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGlzX2FjdGl2ZTogcXVlc3Rpb25EYXRhLmlzX2FjdGl2ZSAhPT0gZmFsc2UsXG4gICAgfTtcblxuICAgIHJldHVybiBhd2FpdCAoc3VwYWJhc2UgYXMgYW55KVxuICAgICAgLmZyb20oJ3F1ZXN0aW9ucycpXG4gICAgICAuaW5zZXJ0KGRhdGEpXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKTtcbiAgfSxcblxuICAvLyBMZWFybmluZyBQbGFuc1xuICBhc3luYyBnZXRMZWFybmluZ1BsYW5zKGZpbHRlcnM/OiB7XG4gICAgZGlmZmljdWx0eT86IHN0cmluZztcbiAgICBpc0FjdGl2ZT86IGJvb2xlYW47XG4gICAgb3JkZXJCeT86IHN0cmluZztcbiAgICBvcmRlckRpcmVjdGlvbj86ICdhc2MnIHwgJ2Rlc2MnO1xuICB9KSB7XG4gICAgaWYgKCFzdXBhYmFzZSkgdGhyb3cgbmV3IEVycm9yKCdTdXBhYmFzZSBub3QgaW5pdGlhbGl6ZWQnKTtcblxuICAgIGxldCBxdWVyeSA9IChzdXBhYmFzZSBhcyBhbnkpLmZyb20oJ2xlYXJuaW5nX3BsYW5zJykuc2VsZWN0KCcqJyk7XG5cbiAgICBpZiAoZmlsdGVycz8uZGlmZmljdWx0eSkge1xuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnZGlmZmljdWx0eScsIGZpbHRlcnMuZGlmZmljdWx0eSk7XG4gICAgfVxuICAgIGlmIChmaWx0ZXJzPy5pc0FjdGl2ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdpc19hY3RpdmUnLCBmaWx0ZXJzLmlzQWN0aXZlKTtcbiAgICB9XG4gICAgaWYgKGZpbHRlcnM/Lm9yZGVyQnkpIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkub3JkZXIoZmlsdGVycy5vcmRlckJ5LCB7XG4gICAgICAgIGFzY2VuZGluZzogZmlsdGVycy5vcmRlckRpcmVjdGlvbiA9PT0gJ2FzYycsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgcXVlcnk7XG4gIH0sXG5cbiAgYXN5bmMgY3JlYXRlTGVhcm5pbmdQbGFuKHBsYW5EYXRhOiB7XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIGRpZmZpY3VsdHk/OiBzdHJpbmc7XG4gICAgZXN0aW1hdGVkX3RpbWU/OiBudW1iZXI7XG4gICAgaXNfYWN0aXZlPzogYm9vbGVhbjtcbiAgfSkge1xuICAgIGlmICghc3VwYWJhc2UpIHRocm93IG5ldyBFcnJvcignU3VwYWJhc2Ugbm90IGluaXRpYWxpemVkJyk7XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgLi4ucGxhbkRhdGEsXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBpc19hY3RpdmU6IHBsYW5EYXRhLmlzX2FjdGl2ZSAhPT0gZmFsc2UsXG4gICAgfTtcblxuICAgIHJldHVybiBhd2FpdCAoc3VwYWJhc2UgYXMgYW55KVxuICAgICAgLmZyb20oJ2xlYXJuaW5nX3BsYW5zJylcbiAgICAgIC5pbnNlcnQoZGF0YSlcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpO1xuICB9LFxufTtcbiJdLCJuYW1lcyI6WyJzdXBhYmFzZSIsInN1cGFiYXNlT3BlcmF0aW9ucyIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsInN1cGFiYXNlU2VydmljZVJvbGVLZXkiLCJjcmVhdGVDbGllbnQiLCJhdXRoIiwiYXV0b1JlZnJlc2hUb2tlbiIsInBlcnNpc3RTZXNzaW9uIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiZ2V0TGVhcm5pbmdDYXJkcyIsImZpbHRlcnMiLCJFcnJvciIsInF1ZXJ5IiwiZnJvbSIsInNlbGVjdCIsInR5cGUiLCJlcSIsImlzQWN0aXZlIiwidW5kZWZpbmVkIiwib3JkZXJCeSIsIm9yZGVyIiwiYXNjZW5kaW5nIiwib3JkZXJEaXJlY3Rpb24iLCJsaW1pdCIsImNyZWF0ZUxlYXJuaW5nQ2FyZCIsImNhcmREYXRhIiwiZGF0YSIsImNyZWF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1cGRhdGVkX2F0IiwiaXNfYWN0aXZlIiwiaW5zZXJ0Iiwic2luZ2xlIiwidXBkYXRlTGVhcm5pbmdDYXJkIiwiaWQiLCJ1cGRhdGVzIiwidXBkYXRlIiwiZGVsZXRlTGVhcm5pbmdDYXJkIiwiZGVsZXRlIiwiZ2V0Q2F0ZWdvcmllcyIsImNyZWF0ZUNhdGVnb3J5IiwiY2F0ZWdvcnlEYXRhIiwic2x1ZyIsIm5hbWUiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJjYXJkX3R5cGUiLCJnZXRUb3BpY3MiLCJjYXRlZ29yeUlkIiwiY3JlYXRlVG9waWMiLCJ0b3BpY0RhdGEiLCJnZXRRdWVzdGlvbnMiLCJ0b3BpY0lkIiwiQXJyYXkiLCJpc0FycmF5IiwiaW4iLCJkaWZmaWN1bHR5IiwicXVlc3Rpb25UeXBlIiwiY3JlYXRlUXVlc3Rpb24iLCJxdWVzdGlvbkRhdGEiLCJnZXRMZWFybmluZ1BsYW5zIiwiY3JlYXRlTGVhcm5pbmdQbGFuIiwicGxhbkRhdGEiXSwibWFwcGluZ3MiOiJBQUFBLHFEQUFxRCxHQUNyRCxrRUFBa0U7QUFDbEUsbUVBQW1FOzs7Ozs7Ozs7Ozs7UUE2QjFEQTtlQUFBQTs7UUFHSUM7ZUFBQUE7Ozs0QkEvQmdCO0FBRTdCLHlCQUF5QjtBQUN6QixNQUFNQyxjQUNKQyxRQUFRQyxHQUFHLENBQUMsMkJBQTJCLElBQ3ZDO0FBQ0YsTUFBTUMseUJBQ0pGLFFBQVFDLEdBQUcsQ0FBQyw0QkFBNEIsSUFDeEM7QUFFRixpRUFBaUU7QUFDakUsSUFBSUosV0FBbUQ7QUFFdkQsSUFBSTtJQUNGQSxXQUFXTSxJQUFBQSx3QkFBWSxFQUFDSixhQUFhRyx3QkFBd0I7UUFDM0RFLE1BQU07WUFDSkMsa0JBQWtCO1lBQ2xCQyxnQkFBZ0I7UUFDbEI7SUFDRjtJQUNBQyxRQUFRQyxHQUFHLENBQ1Q7QUFFSixFQUFFLE9BQU9DLE9BQU87SUFDZEYsUUFBUUUsS0FBSyxDQUFDLDRDQUE0Q0E7QUFDNUQ7QUFNTyxNQUFNWCxxQkFBcUI7SUFDaEMsaUJBQWlCO0lBQ2pCLE1BQU1ZLGtCQUFpQkMsT0FNdEI7UUFDQyxJQUFJLENBQUNkLFVBQVUsTUFBTSxJQUFJZSxNQUFNO1FBRS9CLElBQUlDLFFBQVEsQUFBQ2hCLFNBQWlCaUIsSUFBSSxDQUFDLGtCQUFrQkMsTUFBTSxDQUFDO1FBRTVELElBQUlKLFNBQVNLLE1BQU07WUFDakJILFFBQVFBLE1BQU1JLEVBQUUsQ0FBQyxRQUFRTixRQUFRSyxJQUFJO1FBQ3ZDO1FBQ0EsSUFBSUwsU0FBU08sYUFBYUMsV0FBVztZQUNuQ04sUUFBUUEsTUFBTUksRUFBRSxDQUFDLGFBQWFOLFFBQVFPLFFBQVE7UUFDaEQ7UUFDQSxJQUFJUCxTQUFTUyxTQUFTO1lBQ3BCUCxRQUFRQSxNQUFNUSxLQUFLLENBQUNWLFFBQVFTLE9BQU8sRUFBRTtnQkFDbkNFLFdBQVdYLFFBQVFZLGNBQWMsS0FBSztZQUN4QztRQUNGO1FBQ0EsSUFBSVosU0FBU2EsT0FBTztZQUNsQlgsUUFBUUEsTUFBTVcsS0FBSyxDQUFDYixRQUFRYSxLQUFLO1FBQ25DO1FBRUEsT0FBTyxNQUFNWDtJQUNmO0lBRUEsTUFBTVksb0JBQW1CQyxRQVF4QjtRQUNDLElBQUksQ0FBQzdCLFVBQVUsTUFBTSxJQUFJZSxNQUFNO1FBRS9CLE1BQU1lLE9BQU87WUFDWCxHQUFHRCxRQUFRO1lBQ1hFLFlBQVksSUFBSUMsT0FBT0MsV0FBVztZQUNsQ0MsWUFBWSxJQUFJRixPQUFPQyxXQUFXO1lBQ2xDRSxXQUFXTixTQUFTTSxTQUFTLEtBQUs7UUFDcEM7UUFFQSxPQUFPLE1BQU0sQUFBQ25DLFNBQ1hpQixJQUFJLENBQUMsa0JBQ0xtQixNQUFNLENBQUNOLE1BQ1BaLE1BQU0sR0FDTm1CLE1BQU07SUFDWDtJQUVBLE1BQU1DLG9CQUNKQyxFQUFVLEVBQ1ZDLE9BUUU7UUFFRixJQUFJLENBQUN4QyxVQUFVLE1BQU0sSUFBSWUsTUFBTTtRQUUvQixNQUFNZSxPQUFPO1lBQ1gsR0FBR1UsT0FBTztZQUNWTixZQUFZLElBQUlGLE9BQU9DLFdBQVc7UUFDcEM7UUFFQSxPQUFPLE1BQU0sQUFBQ2pDLFNBQ1hpQixJQUFJLENBQUMsa0JBQ0x3QixNQUFNLENBQUNYLE1BQ1BWLEVBQUUsQ0FBQyxNQUFNbUIsSUFDVHJCLE1BQU0sR0FDTm1CLE1BQU07SUFDWDtJQUVBLE1BQU1LLG9CQUFtQkgsRUFBVTtRQUNqQyxJQUFJLENBQUN2QyxVQUFVLE1BQU0sSUFBSWUsTUFBTTtRQUMvQixPQUFPLE1BQU0sQUFBQ2YsU0FBaUJpQixJQUFJLENBQUMsa0JBQWtCMEIsTUFBTSxHQUFHdkIsRUFBRSxDQUFDLE1BQU1tQjtJQUMxRTtJQUVBLGFBQWE7SUFDYixNQUFNSyxlQUFjOUIsT0FJbkI7UUFDQyxJQUFJLENBQUNkLFVBQVUsTUFBTSxJQUFJZSxNQUFNO1FBRS9CLElBQUlDLFFBQVEsQUFBQ2hCLFNBQWlCaUIsSUFBSSxDQUFDLGNBQWNDLE1BQU0sQ0FBQztRQUV4RCxJQUFJSixTQUFTTyxhQUFhQyxXQUFXO1lBQ25DTixRQUFRQSxNQUFNSSxFQUFFLENBQUMsYUFBYU4sUUFBUU8sUUFBUTtRQUNoRDtRQUNBLElBQUlQLFNBQVNTLFNBQVM7WUFDcEJQLFFBQVFBLE1BQU1RLEtBQUssQ0FBQ1YsUUFBUVMsT0FBTyxFQUFFO2dCQUNuQ0UsV0FBV1gsUUFBUVksY0FBYyxLQUFLO1lBQ3hDO1FBQ0Y7UUFFQSxPQUFPLE1BQU1WO0lBQ2Y7SUFFQSxNQUFNNkIsZ0JBQWVDLFlBU3BCO1FBQ0MsSUFBSSxDQUFDOUMsVUFBVSxNQUFNLElBQUllLE1BQU07UUFFL0IsTUFBTWUsT0FBTztZQUNYLEdBQUdnQixZQUFZO1lBQ2ZDLE1BQ0VELGFBQWFDLElBQUksSUFDakJELGFBQWFFLElBQUksQ0FBQ0MsV0FBVyxHQUFHQyxPQUFPLENBQUMsUUFBUTtZQUNsREMsV0FDRUwsYUFBYUssU0FBUyxJQUN0QkwsYUFBYUMsSUFBSSxJQUNqQkQsYUFBYUUsSUFBSSxDQUFDQyxXQUFXLEdBQUdDLE9BQU8sQ0FBQyxRQUFRO1lBQ2xEbkIsWUFBWSxJQUFJQyxPQUFPQyxXQUFXO1lBQ2xDQyxZQUFZLElBQUlGLE9BQU9DLFdBQVc7WUFDbENFLFdBQVdXLGFBQWFYLFNBQVMsS0FBSztRQUN4QztRQUVBLE9BQU8sTUFBTSxBQUFDbkMsU0FDWGlCLElBQUksQ0FBQyxjQUNMbUIsTUFBTSxDQUFDTixNQUNQWixNQUFNLEdBQ05tQixNQUFNO0lBQ1g7SUFFQSxTQUFTO0lBQ1QsTUFBTWUsV0FBVXRDLE9BS2Y7UUFDQyxJQUFJLENBQUNkLFVBQVUsTUFBTSxJQUFJZSxNQUFNO1FBRS9CLElBQUlDLFFBQVEsQUFBQ2hCLFNBQWlCaUIsSUFBSSxDQUFDLFVBQVVDLE1BQU0sQ0FBQztRQUVwRCxJQUFJSixTQUFTdUMsWUFBWTtZQUN2QnJDLFFBQVFBLE1BQU1JLEVBQUUsQ0FBQyxlQUFlTixRQUFRdUMsVUFBVTtRQUNwRDtRQUNBLElBQUl2QyxTQUFTTyxhQUFhQyxXQUFXO1lBQ25DTixRQUFRQSxNQUFNSSxFQUFFLENBQUMsYUFBYU4sUUFBUU8sUUFBUTtRQUNoRDtRQUNBLElBQUlQLFNBQVNTLFNBQVM7WUFDcEJQLFFBQVFBLE1BQU1RLEtBQUssQ0FBQ1YsUUFBUVMsT0FBTyxFQUFFO2dCQUNuQ0UsV0FBV1gsUUFBUVksY0FBYyxLQUFLO1lBQ3hDO1FBQ0Y7UUFFQSxPQUFPLE1BQU1WO0lBQ2Y7SUFFQSxNQUFNc0MsYUFBWUMsU0FPakI7UUFDQyxJQUFJLENBQUN2RCxVQUFVLE1BQU0sSUFBSWUsTUFBTTtRQUUvQixNQUFNZSxPQUFPO1lBQ1gsR0FBR3lCLFNBQVM7WUFDWlIsTUFBTVEsVUFBVVIsSUFBSSxJQUFJUSxVQUFVUCxJQUFJLENBQUNDLFdBQVcsR0FBR0MsT0FBTyxDQUFDLFFBQVE7WUFDckVuQixZQUFZLElBQUlDLE9BQU9DLFdBQVc7WUFDbENDLFlBQVksSUFBSUYsT0FBT0MsV0FBVztZQUNsQ0UsV0FBV29CLFVBQVVwQixTQUFTLEtBQUs7UUFDckM7UUFFQSxPQUFPLE1BQU0sQUFBQ25DLFNBQ1hpQixJQUFJLENBQUMsVUFDTG1CLE1BQU0sQ0FBQ04sTUFDUFosTUFBTSxHQUNObUIsTUFBTTtJQUNYO0lBRUEsWUFBWTtJQUNaLE1BQU1tQixjQUFhMUMsT0FTbEI7UUFDQyxJQUFJLENBQUNkLFVBQVUsTUFBTSxJQUFJZSxNQUFNO1FBRS9CLElBQUlDLFFBQVEsQUFBQ2hCLFNBQWlCaUIsSUFBSSxDQUFDLGFBQWFDLE1BQU0sQ0FBQztRQUV2RCxJQUFJSixTQUFTMkMsU0FBUztZQUNwQi9DLFFBQVFDLEdBQUcsQ0FDVCxDQUFDLDRDQUE0QyxFQUFFRyxRQUFRMkMsT0FBTyxFQUFFO1lBRWxFekMsUUFBUUEsTUFBTUksRUFBRSxDQUFDLFlBQVlOLFFBQVEyQyxPQUFPO1FBQzlDLE9BQU87WUFDTC9DLFFBQVFDLEdBQUcsQ0FBQztRQUNkO1FBQ0EsSUFBSUcsU0FBU3VDLFlBQVk7WUFDdkIsSUFBSUssTUFBTUMsT0FBTyxDQUFDN0MsUUFBUXVDLFVBQVUsR0FBRztnQkFDckMsa0NBQWtDO2dCQUNsQ3JDLFFBQVFBLE1BQU00QyxFQUFFLENBQUMsZUFBZTlDLFFBQVF1QyxVQUFVO1lBQ3BELE9BQU87Z0JBQ0wsK0JBQStCO2dCQUMvQnJDLFFBQVFBLE1BQU1JLEVBQUUsQ0FBQyxlQUFlTixRQUFRdUMsVUFBVTtZQUNwRDtRQUNGO1FBQ0EsSUFBSXZDLFNBQVMrQyxZQUFZO1lBQ3ZCN0MsUUFBUUEsTUFBTUksRUFBRSxDQUFDLGNBQWNOLFFBQVErQyxVQUFVO1FBQ25EO1FBQ0EsSUFBSS9DLFNBQVNnRCxjQUFjO1lBQ3pCOUMsUUFBUUEsTUFBTUksRUFBRSxDQUFDLGlCQUFpQk4sUUFBUWdELFlBQVk7UUFDeEQ7UUFDQSxJQUFJaEQsU0FBU08sYUFBYUMsV0FBVztZQUNuQ04sUUFBUUEsTUFBTUksRUFBRSxDQUFDLGFBQWFOLFFBQVFPLFFBQVE7UUFDaEQ7UUFDQSxJQUFJUCxTQUFTUyxTQUFTO1lBQ3BCUCxRQUFRQSxNQUFNUSxLQUFLLENBQUNWLFFBQVFTLE9BQU8sRUFBRTtnQkFDbkNFLFdBQVdYLFFBQVFZLGNBQWMsS0FBSztZQUN4QztRQUNGO1FBQ0EsSUFBSVosU0FBU2EsT0FBTztZQUNsQlgsUUFBUUEsTUFBTVcsS0FBSyxDQUFDYixRQUFRYSxLQUFLO1FBQ25DO1FBRUEsT0FBTyxNQUFNWDtJQUNmO0lBRUEsTUFBTStDLGdCQUFlQyxZQVVwQjtRQUNDLElBQUksQ0FBQ2hFLFVBQVUsTUFBTSxJQUFJZSxNQUFNO1FBRS9CLE1BQU1lLE9BQU87WUFDWCxHQUFHa0MsWUFBWTtZQUNmakMsWUFBWSxJQUFJQyxPQUFPQyxXQUFXO1lBQ2xDQyxZQUFZLElBQUlGLE9BQU9DLFdBQVc7WUFDbENFLFdBQVc2QixhQUFhN0IsU0FBUyxLQUFLO1FBQ3hDO1FBRUEsT0FBTyxNQUFNLEFBQUNuQyxTQUNYaUIsSUFBSSxDQUFDLGFBQ0xtQixNQUFNLENBQUNOLE1BQ1BaLE1BQU0sR0FDTm1CLE1BQU07SUFDWDtJQUVBLGlCQUFpQjtJQUNqQixNQUFNNEIsa0JBQWlCbkQsT0FLdEI7UUFDQyxJQUFJLENBQUNkLFVBQVUsTUFBTSxJQUFJZSxNQUFNO1FBRS9CLElBQUlDLFFBQVEsQUFBQ2hCLFNBQWlCaUIsSUFBSSxDQUFDLGtCQUFrQkMsTUFBTSxDQUFDO1FBRTVELElBQUlKLFNBQVMrQyxZQUFZO1lBQ3ZCN0MsUUFBUUEsTUFBTUksRUFBRSxDQUFDLGNBQWNOLFFBQVErQyxVQUFVO1FBQ25EO1FBQ0EsSUFBSS9DLFNBQVNPLGFBQWFDLFdBQVc7WUFDbkNOLFFBQVFBLE1BQU1JLEVBQUUsQ0FBQyxhQUFhTixRQUFRTyxRQUFRO1FBQ2hEO1FBQ0EsSUFBSVAsU0FBU1MsU0FBUztZQUNwQlAsUUFBUUEsTUFBTVEsS0FBSyxDQUFDVixRQUFRUyxPQUFPLEVBQUU7Z0JBQ25DRSxXQUFXWCxRQUFRWSxjQUFjLEtBQUs7WUFDeEM7UUFDRjtRQUVBLE9BQU8sTUFBTVY7SUFDZjtJQUVBLE1BQU1rRCxvQkFBbUJDLFFBTXhCO1FBQ0MsSUFBSSxDQUFDbkUsVUFBVSxNQUFNLElBQUllLE1BQU07UUFFL0IsTUFBTWUsT0FBTztZQUNYLEdBQUdxQyxRQUFRO1lBQ1hwQyxZQUFZLElBQUlDLE9BQU9DLFdBQVc7WUFDbENDLFlBQVksSUFBSUYsT0FBT0MsV0FBVztZQUNsQ0UsV0FBV2dDLFNBQVNoQyxTQUFTLEtBQUs7UUFDcEM7UUFFQSxPQUFPLE1BQU0sQUFBQ25DLFNBQ1hpQixJQUFJLENBQUMsa0JBQ0xtQixNQUFNLENBQUNOLE1BQ1BaLE1BQU0sR0FDTm1CLE1BQU07SUFDWDtBQUNGIn0=