{"version":3,"sources":["/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/libs/shared-atoms/src/lib/onboarding.ts"],"sourcesContent":["import { atom } from 'jotai';\nimport { atomWithStorage } from 'jotai/utils';\n\n// Onboarding state interface\nexport interface OnboardingState {\n  isCompleted: boolean;\n  currentStep: number;\n  totalSteps: number;\n  skipped: boolean;\n  completedAt?: Date;\n}\n\n// Default onboarding state\nconst defaultOnboardingState: OnboardingState = {\n  isCompleted: false,\n  currentStep: 0,\n  totalSteps: 5,\n  skipped: false,\n};\n\n// Onboarding state atom\nexport const onboardingStateAtom = atomWithStorage<OnboardingState>(\n  'onboardingState',\n  defaultOnboardingState\n);\n\n// Individual onboarding atoms\nexport const isOnboardingCompletedAtom = atom(\n  get => get(onboardingStateAtom).isCompleted\n);\n\nexport const currentOnboardingStepAtom = atom(\n  get => get(onboardingStateAtom).currentStep\n);\n\nexport const totalOnboardingStepsAtom = atom(\n  get => get(onboardingStateAtom).totalSteps\n);\n\nexport const isOnboardingSkippedAtom = atom(\n  get => get(onboardingStateAtom).skipped\n);\n\n// Onboarding progress atom\nexport const onboardingProgressAtom = atom(get => {\n  const state = get(onboardingStateAtom);\n  return (state.currentStep / state.totalSteps) * 100;\n});\n\n// Next step atom\nexport const nextOnboardingStepAtom = atom(null, (get, set) => {\n  const state = get(onboardingStateAtom);\n  if (state.currentStep < state.totalSteps - 1) {\n    set(onboardingStateAtom, {\n      ...state,\n      currentStep: state.currentStep + 1,\n    });\n  } else {\n    set(onboardingStateAtom, {\n      ...state,\n      isCompleted: true,\n      completedAt: new Date(),\n    });\n  }\n});\n\n// Previous step atom\nexport const previousOnboardingStepAtom = atom(null, (get, set) => {\n  const state = get(onboardingStateAtom);\n  if (state.currentStep > 0) {\n    set(onboardingStateAtom, {\n      ...state,\n      currentStep: state.currentStep - 1,\n    });\n  }\n});\n\n// Skip onboarding atom\nexport const skipOnboardingAtom = atom(null, (get, set) => {\n  const state = get(onboardingStateAtom);\n  set(onboardingStateAtom, {\n    ...state,\n    skipped: true,\n    isCompleted: true,\n    completedAt: new Date(),\n  });\n});\n\n// Complete onboarding atom\nexport const completeOnboardingAtom = atom(null, (get, set) => {\n  const state = get(onboardingStateAtom);\n  set(onboardingStateAtom, {\n    ...state,\n    isCompleted: true,\n    completedAt: new Date(),\n  });\n});\n\n// Reset onboarding atom\nexport const resetOnboardingAtom = atom(null, (get, set) => {\n  set(onboardingStateAtom, defaultOnboardingState);\n});\n"],"names":["completeOnboardingAtom","currentOnboardingStepAtom","isOnboardingCompletedAtom","isOnboardingSkippedAtom","nextOnboardingStepAtom","onboardingProgressAtom","onboardingStateAtom","previousOnboardingStepAtom","resetOnboardingAtom","skipOnboardingAtom","totalOnboardingStepsAtom","defaultOnboardingState","isCompleted","currentStep","totalSteps","skipped","atomWithStorage","atom","get","state","set","completedAt","Date"],"mappings":";;;;;;;;;;;QAyFaA;eAAAA;;QA1DAC;eAAAA;;QAJAC;eAAAA;;QAYAC;eAAAA;;QAWAC;eAAAA;;QANAC;eAAAA;;QAvBAC;eAAAA;;QA8CAC;eAAAA;;QAgCAC;eAAAA;;QArBAC;eAAAA;;QA3CAC;eAAAA;;;uBAnCQ;uBACW;AAWhC,2BAA2B;AAC3B,MAAMC,yBAA0C;IAC9CC,aAAa;IACbC,aAAa;IACbC,YAAY;IACZC,SAAS;AACX;AAGO,MAAMT,sBAAsBU,IAAAA,sBAAe,EAChD,mBACAL;AAIK,MAAMT,4BAA4Be,IAAAA,WAAI,EAC3CC,CAAAA,MAAOA,IAAIZ,qBAAqBM,WAAW;AAGtC,MAAMX,4BAA4BgB,IAAAA,WAAI,EAC3CC,CAAAA,MAAOA,IAAIZ,qBAAqBO,WAAW;AAGtC,MAAMH,2BAA2BO,IAAAA,WAAI,EAC1CC,CAAAA,MAAOA,IAAIZ,qBAAqBQ,UAAU;AAGrC,MAAMX,0BAA0Bc,IAAAA,WAAI,EACzCC,CAAAA,MAAOA,IAAIZ,qBAAqBS,OAAO;AAIlC,MAAMV,yBAAyBY,IAAAA,WAAI,EAACC,CAAAA;IACzC,MAAMC,QAAQD,IAAIZ;IAClB,OAAO,AAACa,MAAMN,WAAW,GAAGM,MAAML,UAAU,GAAI;AAClD;AAGO,MAAMV,yBAAyBa,IAAAA,WAAI,EAAC,MAAM,CAACC,KAAKE;IACrD,MAAMD,QAAQD,IAAIZ;IAClB,IAAIa,MAAMN,WAAW,GAAGM,MAAML,UAAU,GAAG,GAAG;QAC5CM,IAAId,qBAAqB;YACvB,GAAGa,KAAK;YACRN,aAAaM,MAAMN,WAAW,GAAG;QACnC;IACF,OAAO;QACLO,IAAId,qBAAqB;YACvB,GAAGa,KAAK;YACRP,aAAa;YACbS,aAAa,IAAIC;QACnB;IACF;AACF;AAGO,MAAMf,6BAA6BU,IAAAA,WAAI,EAAC,MAAM,CAACC,KAAKE;IACzD,MAAMD,QAAQD,IAAIZ;IAClB,IAAIa,MAAMN,WAAW,GAAG,GAAG;QACzBO,IAAId,qBAAqB;YACvB,GAAGa,KAAK;YACRN,aAAaM,MAAMN,WAAW,GAAG;QACnC;IACF;AACF;AAGO,MAAMJ,qBAAqBQ,IAAAA,WAAI,EAAC,MAAM,CAACC,KAAKE;IACjD,MAAMD,QAAQD,IAAIZ;IAClBc,IAAId,qBAAqB;QACvB,GAAGa,KAAK;QACRJ,SAAS;QACTH,aAAa;QACbS,aAAa,IAAIC;IACnB;AACF;AAGO,MAAMtB,yBAAyBiB,IAAAA,WAAI,EAAC,MAAM,CAACC,KAAKE;IACrD,MAAMD,QAAQD,IAAIZ;IAClBc,IAAId,qBAAqB;QACvB,GAAGa,KAAK;QACRP,aAAa;QACbS,aAAa,IAAIC;IACnB;AACF;AAGO,MAAMd,sBAAsBS,IAAAA,WAAI,EAAC,MAAM,CAACC,KAAKE;IAClDA,IAAId,qBAAqBK;AAC3B"}