{"version":3,"sources":["/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/admin/login/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { useAdminAuth } from '@elzatona/shared-contexts';\nimport { AdminLoginNavbar } from '@elzatona/shared-components';\n\nexport default function AdminLoginPage() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState('');\n\n  const { isAuthenticated, isLoading, login } = useAdminAuth();\n  const router = useRouter();\n\n  // Redirect is now handled by AdminAuthProvider context\n  // No need for local redirect logic here\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    setError('');\n\n    try {\n      const result = await login(email, password);\n\n      if (result.success) {\n        // Don't redirect here - let the useEffect handle it\n        // This prevents double redirects\n      } else {\n        setError(result.error || 'Login failed');\n      }\n    } catch {\n      setError('An unexpected error occurred');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Show loading state while checking authentication\n  if (isLoading) {\n    return (\n      <div className='min-h-screen bg-gradient-to-br from-red-50 to-red-100 dark:from-gray-900 dark:to-gray-800'>\n        <AdminLoginNavbar />\n        <div className='pt-20 flex items-center justify-center min-h-screen'>\n          <div className='text-center'>\n            <div className='animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4'></div>\n            <p className='text-gray-600 dark:text-gray-400'>Loading...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className='min-h-screen bg-gradient-to-br from-red-50 to-red-100 dark:from-gray-900 dark:to-gray-800'>\n      <AdminLoginNavbar />\n      <div className='pt-20 flex items-center justify-center min-h-screen p-4'>\n        <div className='max-w-md w-full'>\n          {/* Header */}\n          <div className='text-center mb-8'>\n            <h1 className='text-3xl font-bold text-gray-900 dark:text-white mb-2'>\n              Admin Login\n            </h1>\n            <p className='text-gray-600 dark:text-gray-400'>\n              Access the admin dashboard\n            </p>\n          </div>\n\n          {/* Login Form */}\n          <div className='bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8'>\n            <form onSubmit={handleSubmit} className='space-y-6'>\n              {/* Email Field */}\n              <div>\n                <label\n                  htmlFor='email'\n                  className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'\n                >\n                  Email Address\n                </label>\n                <input\n                  type='email'\n                  id='email'\n                  value={email}\n                  onChange={e => setEmail(e.target.value)}\n                  required\n                  className='w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white transition-colors'\n                  placeholder='Enter your email'\n                />\n              </div>\n\n              {/* Password Field */}\n              <div>\n                <label\n                  htmlFor='password'\n                  className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'\n                >\n                  Password\n                </label>\n                <input\n                  type='password'\n                  id='password'\n                  value={password}\n                  onChange={e => setPassword(e.target.value)}\n                  required\n                  className='w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white transition-colors'\n                  placeholder='Enter your password'\n                />\n              </div>\n\n              {/* Error Message */}\n              {error && (\n                <div className='bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4'>\n                  <p className='text-red-600 dark:text-red-400 text-sm'>\n                    {error}\n                  </p>\n                </div>\n              )}\n\n              {/* Submit Button */}\n              <button\n                type='submit'\n                disabled={isSubmitting}\n                className='w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-3 px-4 rounded-lg transition-colors'\n              >\n                {isSubmitting ? (\n                  <div className='flex items-center justify-center'>\n                    <div className='animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2'></div>\n                    Signing In...\n                  </div>\n                ) : (\n                  'Sign In'\n                )}\n              </button>\n            </form>\n\n            {/* Back to Home Link */}\n            <div className='mt-6 text-center'>\n              <Link\n                href='/'\n                className='text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm transition-colors'\n              >\n                ‚Üê Back to Home\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["AdminLoginPage","email","setEmail","useState","password","setPassword","isSubmitting","setIsSubmitting","error","setError","isAuthenticated","isLoading","login","useAdminAuth","router","useRouter","handleSubmit","e","preventDefault","result","success","div","className","AdminLoginNavbar","p","h1","form","onSubmit","label","htmlFor","input","type","id","value","onChange","target","required","placeholder","button","disabled","Link","href"],"mappings":"AAAA;;;;;+BAQA;;;eAAwBA;;;;uBANY;4BACV;6DACT;gCACY;kCACI;;;;;;AAElB,SAASA;IACtB,MAAM,CAACC,OAAOC,SAAS,GAAGC,IAAAA,eAAQ,EAAC;IACnC,MAAM,CAACC,UAAUC,YAAY,GAAGF,IAAAA,eAAQ,EAAC;IACzC,MAAM,CAACG,cAAcC,gBAAgB,GAAGJ,IAAAA,eAAQ,EAAC;IACjD,MAAM,CAACK,OAAOC,SAAS,GAAGN,IAAAA,eAAQ,EAAC;IAEnC,MAAM,EAAEO,eAAe,EAAEC,SAAS,EAAEC,KAAK,EAAE,GAAGC,IAAAA,4BAAY;IAC1D,MAAMC,SAASC,IAAAA,qBAAS;IAExB,uDAAuD;IACvD,wCAAwC;IAExC,MAAMC,eAAe,OAAOC;QAC1BA,EAAEC,cAAc;QAChBX,gBAAgB;QAChBE,SAAS;QAET,IAAI;YACF,MAAMU,SAAS,MAAMP,MAAMX,OAAOG;YAElC,IAAIe,OAAOC,OAAO,EAAE;YAClB,oDAAoD;YACpD,iCAAiC;YACnC,OAAO;gBACLX,SAASU,OAAOX,KAAK,IAAI;YAC3B;QACF,EAAE,OAAM;YACNC,SAAS;QACX,SAAU;YACRF,gBAAgB;QAClB;IACF;IAEA,mDAAmD;IACnD,IAAII,WAAW;QACb,qBACE,sBAACU;YAAIC,WAAU;;8BACb,qBAACC,kCAAgB;8BACjB,qBAACF;oBAAIC,WAAU;8BACb,cAAA,sBAACD;wBAAIC,WAAU;;0CACb,qBAACD;gCAAIC,WAAU;;0CACf,qBAACE;gCAAEF,WAAU;0CAAmC;;;;;;;IAK1D;IAEA,qBACE,sBAACD;QAAIC,WAAU;;0BACb,qBAACC,kCAAgB;0BACjB,qBAACF;gBAAIC,WAAU;0BACb,cAAA,sBAACD;oBAAIC,WAAU;;sCAEb,sBAACD;4BAAIC,WAAU;;8CACb,qBAACG;oCAAGH,WAAU;8CAAwD;;8CAGtE,qBAACE;oCAAEF,WAAU;8CAAmC;;;;sCAMlD,sBAACD;4BAAIC,WAAU;;8CACb,sBAACI;oCAAKC,UAAUX;oCAAcM,WAAU;;sDAEtC,sBAACD;;8DACC,qBAACO;oDACCC,SAAQ;oDACRP,WAAU;8DACX;;8DAGD,qBAACQ;oDACCC,MAAK;oDACLC,IAAG;oDACHC,OAAOhC;oDACPiC,UAAUjB,CAAAA,IAAKf,SAASe,EAAEkB,MAAM,CAACF,KAAK;oDACtCG,QAAQ;oDACRd,WAAU;oDACVe,aAAY;;;;sDAKhB,sBAAChB;;8DACC,qBAACO;oDACCC,SAAQ;oDACRP,WAAU;8DACX;;8DAGD,qBAACQ;oDACCC,MAAK;oDACLC,IAAG;oDACHC,OAAO7B;oDACP8B,UAAUjB,CAAAA,IAAKZ,YAAYY,EAAEkB,MAAM,CAACF,KAAK;oDACzCG,QAAQ;oDACRd,WAAU;oDACVe,aAAY;;;;wCAKf7B,uBACC,qBAACa;4CAAIC,WAAU;sDACb,cAAA,qBAACE;gDAAEF,WAAU;0DACVd;;;sDAMP,qBAAC8B;4CACCP,MAAK;4CACLQ,UAAUjC;4CACVgB,WAAU;sDAEThB,6BACC,sBAACe;gDAAIC,WAAU;;kEACb,qBAACD;wDAAIC,WAAU;;oDAAuE;;iDAIxF;;;;8CAMN,qBAACD;oCAAIC,WAAU;8CACb,cAAA,qBAACkB,aAAI;wCACHC,MAAK;wCACLnB,WAAU;kDACX;;;;;;;;;;AASf"}