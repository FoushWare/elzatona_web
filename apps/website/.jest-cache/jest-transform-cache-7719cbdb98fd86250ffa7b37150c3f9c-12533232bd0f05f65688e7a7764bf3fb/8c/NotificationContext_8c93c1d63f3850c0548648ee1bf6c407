a16a4e3f490f93f82dd6c3f1c9dcde91
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get NotificationProvider () {
        return NotificationProvider;
    },
    get useNotifications () {
        return useNotifications;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
// Only create Supabase client if environment variables are available
// eslint-disable-next-line @typescript-eslint/no-explicit-any
let supabase = null;
if (process.env['NEXT_PUBLIC_SUPABASE_URL'] && process.env['SUPABASE_SERVICE_ROLE_KEY']) {
    // eslint-disable-next-line @typescript-eslint/no-require-imports
    const { createClient } = require('@supabase/supabase-js');
    const supabaseUrl = process.env['NEXT_PUBLIC_SUPABASE_URL'];
    const supabaseServiceRoleKey = process.env['SUPABASE_SERVICE_ROLE_KEY'];
    supabase = createClient(supabaseUrl, supabaseServiceRoleKey);
}
const NotificationContext = /*#__PURE__*/ (0, _react.createContext)(undefined);
function NotificationProvider({ children, userId, adminId }) {
    const [notifications, setNotifications] = (0, _react.useState)([]);
    const [unreadCount, setUnreadCount] = (0, _react.useState)(0);
    const [isLoading, setIsLoading] = (0, _react.useState)(false);
    const [error, setError] = (0, _react.useState)(null);
    const refreshNotifications = (0, _react.useCallback)(async ()=>{
        // Simple implementation - just reset state
        setIsLoading(false);
        setError(null);
    }, []);
    const markAsRead = (0, _react.useCallback)(async (notificationId)=>{
        setNotifications((prev)=>prev.map((notification)=>notification.id === notificationId ? {
                    ...notification,
                    read: true
                } : notification));
    }, []);
    const markAllAsRead = (0, _react.useCallback)(async ()=>{
        setNotifications((prev)=>prev.map((notification)=>({
                    ...notification,
                    read: true
                })));
    }, []);
    // Update unread count when notifications change
    (0, _react.useEffect)(()=>{
        const unread = notifications.filter((n)=>!n.read).length;
        setUnreadCount(unread);
    }, [
        notifications
    ]);
    const value = {
        notifications,
        unreadCount,
        isLoading,
        error,
        markAsRead,
        markAllAsRead,
        refreshNotifications
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(NotificationContext.Provider, {
        value: value,
        children: children
    });
}
function useNotifications() {
    const context = (0, _react.useContext)(NotificationContext);
    if (context === undefined) {
        throw new Error('useNotifications must be used within a NotificationProvider');
    }
    return context;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hLmZvdWFkL1NpZGVQcm9qZWN0cy9FbHphdG9uYS1hbGwvRWx6YXRvbmEtd2ViL2xpYnMvc2hhcmVkLWNvbnRleHRzL3NyYy9saWIvTm90aWZpY2F0aW9uQ29udGV4dC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG4vLyBPbmx5IGNyZWF0ZSBTdXBhYmFzZSBjbGllbnQgaWYgZW52aXJvbm1lbnQgdmFyaWFibGVzIGFyZSBhdmFpbGFibGVcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5sZXQgc3VwYWJhc2U6IGFueSA9IG51bGw7XG5pZiAoXG4gIHByb2Nlc3MuZW52WydORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwnXSAmJlxuICBwcm9jZXNzLmVudlsnU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSddXG4pIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1yZXF1aXJlLWltcG9ydHNcbiAgY29uc3QgeyBjcmVhdGVDbGllbnQgfSA9IHJlcXVpcmUoJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcycpO1xuICBjb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52WydORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwnXTtcbiAgY29uc3Qgc3VwYWJhc2VTZXJ2aWNlUm9sZUtleSA9IHByb2Nlc3MuZW52WydTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZJ107XG4gIHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZVNlcnZpY2VSb2xlS2V5KTtcbn1cbmltcG9ydCBSZWFjdCwge1xuICB1c2VTdGF0ZSxcbiAgdXNlRWZmZWN0LFxuICB1c2VDYWxsYmFjayxcbiAgUmVhY3ROb2RlLFxuICBjcmVhdGVDb250ZXh0LFxuICB1c2VDb250ZXh0LFxufSBmcm9tICdyZWFjdCc7XG5cbi8vIFNpbXBsZSBub3RpZmljYXRpb24gdHlwZXNcbmludGVyZmFjZSBOb3RpZmljYXRpb24ge1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIHR5cGU6ICdpbmZvJyB8ICdzdWNjZXNzJyB8ICd3YXJuaW5nJyB8ICdlcnJvcic7XG4gIHRpbWVzdGFtcDogRGF0ZTtcbiAgcmVhZDogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIE5vdGlmaWNhdGlvbkNvbnRleHRUeXBlIHtcbiAgbm90aWZpY2F0aW9uczogTm90aWZpY2F0aW9uW107XG4gIHVucmVhZENvdW50OiBudW1iZXI7XG4gIGlzTG9hZGluZzogYm9vbGVhbjtcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gIG1hcmtBc1JlYWQ6IChub3RpZmljYXRpb25JZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBtYXJrQWxsQXNSZWFkOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICByZWZyZXNoTm90aWZpY2F0aW9uczogKCkgPT4gdm9pZDtcbn1cblxuY29uc3QgTm90aWZpY2F0aW9uQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8Tm90aWZpY2F0aW9uQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KFxuICB1bmRlZmluZWRcbik7XG5cbmludGVyZmFjZSBOb3RpZmljYXRpb25Qcm92aWRlclByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZTtcbiAgdXNlcklkPzogc3RyaW5nO1xuICBhZG1pbklkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTm90aWZpY2F0aW9uUHJvdmlkZXIoe1xuICBjaGlsZHJlbixcbiAgdXNlcklkLFxuICBhZG1pbklkLFxufTogTm90aWZpY2F0aW9uUHJvdmlkZXJQcm9wcykge1xuICBjb25zdCBbbm90aWZpY2F0aW9ucywgc2V0Tm90aWZpY2F0aW9uc10gPSB1c2VTdGF0ZTxOb3RpZmljYXRpb25bXT4oW10pO1xuICBjb25zdCBbdW5yZWFkQ291bnQsIHNldFVucmVhZENvdW50XSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IHJlZnJlc2hOb3RpZmljYXRpb25zID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIC8vIFNpbXBsZSBpbXBsZW1lbnRhdGlvbiAtIGp1c3QgcmVzZXQgc3RhdGVcbiAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgbWFya0FzUmVhZCA9IHVzZUNhbGxiYWNrKGFzeW5jIChub3RpZmljYXRpb25JZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0Tm90aWZpY2F0aW9ucyhwcmV2ID0+XG4gICAgICBwcmV2Lm1hcChub3RpZmljYXRpb24gPT5cbiAgICAgICAgbm90aWZpY2F0aW9uLmlkID09PSBub3RpZmljYXRpb25JZFxuICAgICAgICAgID8geyAuLi5ub3RpZmljYXRpb24sIHJlYWQ6IHRydWUgfVxuICAgICAgICAgIDogbm90aWZpY2F0aW9uXG4gICAgICApXG4gICAgKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IG1hcmtBbGxBc1JlYWQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgc2V0Tm90aWZpY2F0aW9ucyhwcmV2ID0+XG4gICAgICBwcmV2Lm1hcChub3RpZmljYXRpb24gPT4gKHsgLi4ubm90aWZpY2F0aW9uLCByZWFkOiB0cnVlIH0pKVxuICAgICk7XG4gIH0sIFtdKTtcblxuICAvLyBVcGRhdGUgdW5yZWFkIGNvdW50IHdoZW4gbm90aWZpY2F0aW9ucyBjaGFuZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1bnJlYWQgPSBub3RpZmljYXRpb25zLmZpbHRlcihuID0+ICFuLnJlYWQpLmxlbmd0aDtcbiAgICBzZXRVbnJlYWRDb3VudCh1bnJlYWQpO1xuICB9LCBbbm90aWZpY2F0aW9uc10pO1xuXG4gIGNvbnN0IHZhbHVlOiBOb3RpZmljYXRpb25Db250ZXh0VHlwZSA9IHtcbiAgICBub3RpZmljYXRpb25zLFxuICAgIHVucmVhZENvdW50LFxuICAgIGlzTG9hZGluZyxcbiAgICBlcnJvcixcbiAgICBtYXJrQXNSZWFkLFxuICAgIG1hcmtBbGxBc1JlYWQsXG4gICAgcmVmcmVzaE5vdGlmaWNhdGlvbnMsXG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8Tm90aWZpY2F0aW9uQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dmFsdWV9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvTm90aWZpY2F0aW9uQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZU5vdGlmaWNhdGlvbnMoKTogTm90aWZpY2F0aW9uQ29udGV4dFR5cGUge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChOb3RpZmljYXRpb25Db250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICd1c2VOb3RpZmljYXRpb25zIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBOb3RpZmljYXRpb25Qcm92aWRlcidcbiAgICApO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufVxuIl0sIm5hbWVzIjpbIk5vdGlmaWNhdGlvblByb3ZpZGVyIiwidXNlTm90aWZpY2F0aW9ucyIsInN1cGFiYXNlIiwicHJvY2VzcyIsImVudiIsImNyZWF0ZUNsaWVudCIsInJlcXVpcmUiLCJzdXBhYmFzZVVybCIsInN1cGFiYXNlU2VydmljZVJvbGVLZXkiLCJOb3RpZmljYXRpb25Db250ZXh0IiwiY3JlYXRlQ29udGV4dCIsInVuZGVmaW5lZCIsImNoaWxkcmVuIiwidXNlcklkIiwiYWRtaW5JZCIsIm5vdGlmaWNhdGlvbnMiLCJzZXROb3RpZmljYXRpb25zIiwidXNlU3RhdGUiLCJ1bnJlYWRDb3VudCIsInNldFVucmVhZENvdW50IiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsInJlZnJlc2hOb3RpZmljYXRpb25zIiwidXNlQ2FsbGJhY2siLCJtYXJrQXNSZWFkIiwibm90aWZpY2F0aW9uSWQiLCJwcmV2IiwibWFwIiwibm90aWZpY2F0aW9uIiwiaWQiLCJyZWFkIiwibWFya0FsbEFzUmVhZCIsInVzZUVmZmVjdCIsInVucmVhZCIsImZpbHRlciIsIm4iLCJsZW5ndGgiLCJ2YWx1ZSIsIlByb3ZpZGVyIiwiY29udGV4dCIsInVzZUNvbnRleHQiLCJFcnJvciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7OztRQXNEZ0JBO2VBQUFBOztRQXVEQUM7ZUFBQUE7Ozs7K0RBdkZUOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFwQlAscUVBQXFFO0FBQ3JFLDhEQUE4RDtBQUM5RCxJQUFJQyxXQUFnQjtBQUNwQixJQUNFQyxRQUFRQyxHQUFHLENBQUMsMkJBQTJCLElBQ3ZDRCxRQUFRQyxHQUFHLENBQUMsNEJBQTRCLEVBQ3hDO0lBQ0EsaUVBQWlFO0lBQ2pFLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUdDLFFBQVE7SUFDakMsTUFBTUMsY0FBY0osUUFBUUMsR0FBRyxDQUFDLDJCQUEyQjtJQUMzRCxNQUFNSSx5QkFBeUJMLFFBQVFDLEdBQUcsQ0FBQyw0QkFBNEI7SUFDdkVGLFdBQVdHLGFBQWFFLGFBQWFDO0FBQ3ZDO0FBOEJBLE1BQU1DLG9DQUFzQkMsSUFBQUEsb0JBQWEsRUFDdkNDO0FBU0ssU0FBU1gscUJBQXFCLEVBQ25DWSxRQUFRLEVBQ1JDLE1BQU0sRUFDTkMsT0FBTyxFQUNtQjtJQUMxQixNQUFNLENBQUNDLGVBQWVDLGlCQUFpQixHQUFHQyxJQUFBQSxlQUFRLEVBQWlCLEVBQUU7SUFDckUsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdGLElBQUFBLGVBQVEsRUFBQztJQUMvQyxNQUFNLENBQUNHLFdBQVdDLGFBQWEsR0FBR0osSUFBQUEsZUFBUSxFQUFDO0lBQzNDLE1BQU0sQ0FBQ0ssT0FBT0MsU0FBUyxHQUFHTixJQUFBQSxlQUFRLEVBQWdCO0lBRWxELE1BQU1PLHVCQUF1QkMsSUFBQUEsa0JBQVcsRUFBQztRQUN2QywyQ0FBMkM7UUFDM0NKLGFBQWE7UUFDYkUsU0FBUztJQUNYLEdBQUcsRUFBRTtJQUVMLE1BQU1HLGFBQWFELElBQUFBLGtCQUFXLEVBQUMsT0FBT0U7UUFDcENYLGlCQUFpQlksQ0FBQUEsT0FDZkEsS0FBS0MsR0FBRyxDQUFDQyxDQUFBQSxlQUNQQSxhQUFhQyxFQUFFLEtBQUtKLGlCQUNoQjtvQkFBRSxHQUFHRyxZQUFZO29CQUFFRSxNQUFNO2dCQUFLLElBQzlCRjtJQUdWLEdBQUcsRUFBRTtJQUVMLE1BQU1HLGdCQUFnQlIsSUFBQUEsa0JBQVcsRUFBQztRQUNoQ1QsaUJBQWlCWSxDQUFBQSxPQUNmQSxLQUFLQyxHQUFHLENBQUNDLENBQUFBLGVBQWlCLENBQUE7b0JBQUUsR0FBR0EsWUFBWTtvQkFBRUUsTUFBTTtnQkFBSyxDQUFBO0lBRTVELEdBQUcsRUFBRTtJQUVMLGdEQUFnRDtJQUNoREUsSUFBQUEsZ0JBQVMsRUFBQztRQUNSLE1BQU1DLFNBQVNwQixjQUFjcUIsTUFBTSxDQUFDQyxDQUFBQSxJQUFLLENBQUNBLEVBQUVMLElBQUksRUFBRU0sTUFBTTtRQUN4RG5CLGVBQWVnQjtJQUNqQixHQUFHO1FBQUNwQjtLQUFjO0lBRWxCLE1BQU13QixRQUFpQztRQUNyQ3hCO1FBQ0FHO1FBQ0FFO1FBQ0FFO1FBQ0FJO1FBQ0FPO1FBQ0FUO0lBQ0Y7SUFFQSxxQkFDRSxxQkFBQ2Ysb0JBQW9CK0IsUUFBUTtRQUFDRCxPQUFPQTtrQkFDbEMzQjs7QUFHUDtBQUVPLFNBQVNYO0lBQ2QsTUFBTXdDLFVBQVVDLElBQUFBLGlCQUFVLEVBQUNqQztJQUMzQixJQUFJZ0MsWUFBWTlCLFdBQVc7UUFDekIsTUFBTSxJQUFJZ0MsTUFDUjtJQUVKO0lBQ0EsT0FBT0Y7QUFDVCJ9