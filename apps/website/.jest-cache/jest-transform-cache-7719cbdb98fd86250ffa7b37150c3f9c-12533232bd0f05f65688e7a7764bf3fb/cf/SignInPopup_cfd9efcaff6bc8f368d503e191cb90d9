e330d99e792d589ef93a5abcdf50c963
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "SignInPopup", {
    enumerable: true,
    get: function() {
        return SignInPopup;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _supabasejs = require("@supabase/supabase-js");
const _sharedcomponents = require("../..");
const _lucidereact = require("lucide-react");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const supabaseUrl = process.env['NEXT_PUBLIC_SUPABASE_URL'];
const supabaseServiceRoleKey = process.env['SUPABASE_SERVICE_ROLE_KEY'];
const supabase = (0, _supabasejs.createClient)(supabaseUrl, supabaseServiceRoleKey);
const SignInPopup = ({ isOpen, onClose, onSuccess })=>{
    const [isLogin, setIsLogin] = (0, _react.useState)(true);
    const [isSubmitting, setIsSubmitting] = (0, _react.useState)(false);
    const [showPassword, setShowPassword] = (0, _react.useState)(false);
    const [showConfirmPassword, setShowConfirmPassword] = (0, _react.useState)(false);
    const [error, setError] = (0, _react.useState)('');
    const [formData, setFormData] = (0, _react.useState)({
        email: '',
        password: '',
        confirmPassword: '',
        name: ''
    });
    const [isAuthenticated, setIsAuthenticated] = (0, _react.useState)(false);
    // Check authentication status
    (0, _react.useEffect)(()=>{
        const checkAuth = async ()=>{
            const { data: { session } } = await supabase.auth.getSession();
            setIsAuthenticated(!!session);
        };
        checkAuth();
    }, []);
    // Close popup and call success callback when authenticated
    (0, _react.useEffect)(()=>{
        if (isAuthenticated) {
            onSuccess();
        }
    }, [
        isAuthenticated,
        onSuccess
    ]);
    const handleSubmit = async (e)=>{
        e.preventDefault();
        setError('');
        setIsSubmitting(true);
        try {
            if (isLogin) {
                const { error } = await supabase.auth.signInWithPassword({
                    email: formData.email,
                    password: formData.password
                });
                if (error) throw error;
            } else {
                if (formData.password !== formData.confirmPassword) {
                    setError('Passwords do not match');
                    return;
                }
                const { error } = await supabase.auth.signUp({
                    email: formData.email,
                    password: formData.password,
                    options: {
                        data: {
                            name: formData.name
                        }
                    }
                });
                if (error) throw error;
            }
            setIsAuthenticated(true);
        } catch (err) {
            setError(err instanceof Error ? err.message : 'Authentication failed');
        } finally{
            setIsSubmitting(false);
        }
    };
    const handleGoogleSignIn = async ()=>{
        try {
            const { error } = await supabase.auth.signInWithOAuth({
                provider: 'google'
            });
            if (error) throw error;
        } catch (err) {
            setError(err instanceof Error ? err.message : 'Google sign-in failed');
        }
    };
    const handleGithubSignIn = async ()=>{
        try {
            const { error } = await supabase.auth.signInWithOAuth({
                provider: 'github'
            });
            if (error) throw error;
        } catch (err) {
            setError(err instanceof Error ? err.message : 'Github sign-in failed');
        }
    };
    const handleInputChange = (e)=>{
        setFormData((prev)=>({
                ...prev,
                [e.target.name]: e.target.value
            }));
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcomponents.Dialog, {
        open: isOpen,
        onOpenChange: onClose,
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_sharedcomponents.DialogContent, {
            className: "sm:max-w-lg max-h-[90vh] overflow-y-auto",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcomponents.DialogHeader, {
                    className: "space-y-4",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center space-x-4",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.BookOpen, {
                                    className: "w-6 h-6 text-white"
                                })
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcomponents.DialogTitle, {
                                        className: "text-2xl font-bold text-gray-900 dark:text-white",
                                        children: isLogin ? 'Welcome Back!' : 'Join Elzatona'
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcomponents.DialogDescription, {
                                        className: "text-gray-600 dark:text-gray-400 text-base",
                                        children: isLogin ? 'Sign in to access your guided learning plans' : 'Create your account to start your learning journey'
                                    })
                                ]
                            })
                        ]
                    })
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "space-y-6 py-2",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-3",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)(_sharedcomponents.Button, {
                                    onClick: handleGoogleSignIn,
                                    variant: "outline",
                                    className: "w-full h-12 text-base font-medium border-2 border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200 rounded-xl",
                                    disabled: isSubmitting,
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Mail, {
                                            className: "w-5 h-5 mr-3"
                                        }),
                                        "Continue with Google"
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)(_sharedcomponents.Button, {
                                    onClick: handleGithubSignIn,
                                    variant: "outline",
                                    className: "w-full h-12 text-base font-medium border-2 border-gray-200 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all duration-200 rounded-xl",
                                    disabled: isSubmitting,
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Github, {
                                            className: "w-5 h-5 mr-3"
                                        }),
                                        "Continue with Github"
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "relative",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "absolute inset-0 flex items-center",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "w-full border-t border-gray-200 dark:border-gray-700"
                                    })
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "relative flex justify-center text-sm",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "bg-white dark:bg-gray-900 px-4 text-gray-500 dark:text-gray-400 font-medium",
                                        children: "Or continue with email"
                                    })
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("form", {
                            onSubmit: handleSubmit,
                            className: "space-y-5",
                            children: [
                                !isLogin && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "space-y-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcomponents.Label, {
                                            htmlFor: "name",
                                            className: "text-sm font-semibold text-gray-700 dark:text-gray-300",
                                            children: "Full Name"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcomponents.Input, {
                                            id: "name",
                                            name: "name",
                                            type: "text",
                                            value: formData.name,
                                            onChange: handleInputChange,
                                            required: !isLogin,
                                            disabled: isSubmitting,
                                            className: "h-12 text-base border-2 border-gray-200 dark:border-gray-700 focus:border-blue-500 dark:focus:border-blue-400 rounded-xl transition-colors duration-200",
                                            placeholder: "Enter your full name"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "space-y-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcomponents.Label, {
                                            htmlFor: "email",
                                            className: "text-sm font-semibold text-gray-700 dark:text-gray-300",
                                            children: "Email Address"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcomponents.Input, {
                                            id: "email",
                                            name: "email",
                                            type: "email",
                                            value: formData.email,
                                            onChange: handleInputChange,
                                            required: true,
                                            disabled: isSubmitting,
                                            className: "h-12 text-base border-2 border-gray-200 dark:border-gray-700 focus:border-blue-500 dark:focus:border-blue-400 rounded-xl transition-colors duration-200",
                                            placeholder: "Enter your email address"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "space-y-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcomponents.Label, {
                                            htmlFor: "password",
                                            className: "text-sm font-semibold text-gray-700 dark:text-gray-300",
                                            children: "Password"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "relative",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcomponents.Input, {
                                                    id: "password",
                                                    name: "password",
                                                    type: showPassword ? 'text' : 'password',
                                                    value: formData.password,
                                                    onChange: handleInputChange,
                                                    required: true,
                                                    disabled: isSubmitting,
                                                    className: "h-12 text-base border-2 border-gray-200 dark:border-gray-700 focus:border-blue-500 dark:focus:border-blue-400 rounded-xl transition-colors duration-200 pr-12",
                                                    placeholder: "Enter your password"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                                    type: "button",
                                                    onClick: ()=>setShowPassword(!showPassword),
                                                    className: "absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",
                                                    children: showPassword ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.EyeOff, {
                                                        className: "w-5 h-5"
                                                    }) : /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Eye, {
                                                        className: "w-5 h-5"
                                                    })
                                                })
                                            ]
                                        })
                                    ]
                                }),
                                !isLogin && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "space-y-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcomponents.Label, {
                                            htmlFor: "confirmPassword",
                                            className: "text-sm font-semibold text-gray-700 dark:text-gray-300",
                                            children: "Confirm Password"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "relative",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_sharedcomponents.Input, {
                                                    id: "confirmPassword",
                                                    name: "confirmPassword",
                                                    type: showConfirmPassword ? 'text' : 'password',
                                                    value: formData.confirmPassword,
                                                    onChange: handleInputChange,
                                                    required: !isLogin,
                                                    disabled: isSubmitting,
                                                    className: "h-12 text-base border-2 border-gray-200 dark:border-gray-700 focus:border-blue-500 dark:focus:border-blue-400 rounded-xl transition-colors duration-200 pr-12",
                                                    placeholder: "Confirm your password"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                                    type: "button",
                                                    onClick: ()=>setShowConfirmPassword(!showConfirmPassword),
                                                    className: "absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",
                                                    children: showConfirmPassword ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.EyeOff, {
                                                        className: "w-5 h-5"
                                                    }) : /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Eye, {
                                                        className: "w-5 h-5"
                                                    })
                                                })
                                            ]
                                        })
                                    ]
                                }),
                                error && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "text-sm text-red-600 bg-red-50 dark:bg-red-900/20 p-4 rounded-xl border border-red-200 dark:border-red-800",
                                    children: error
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)(_sharedcomponents.Button, {
                                    type: "submit",
                                    className: "w-full h-12 text-base font-semibold bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",
                                    disabled: isSubmitting,
                                    children: [
                                        isSubmitting ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Loader2, {
                                            className: "w-5 h-5 mr-2 animate-spin"
                                        }) : null,
                                        isLogin ? 'Sign In' : 'Create Account'
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "text-center",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                type: "button",
                                onClick: ()=>setIsLogin(!isLogin),
                                className: "text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium text-base transition-colors duration-200 hover:underline",
                                children: isLogin ? "Don't have an account? Sign up" : 'Already have an account? Sign in'
                            })
                        })
                    ]
                })
            ]
        })
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hLmZvdWFkL1NpZGVQcm9qZWN0cy9FbHphdG9uYS1hbGwvRWx6YXRvbmEtd2ViL2xpYnMvc2hhcmVkLWNvbXBvbmVudHMvc3JjL2xpYi9hdXRoL1NpZ25JblBvcHVwLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudlsnTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMJ10hO1xuY29uc3Qgc3VwYWJhc2VTZXJ2aWNlUm9sZUtleSA9IHByb2Nlc3MuZW52WydTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZJ10hO1xuY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlU2VydmljZVJvbGVLZXkpO1xuXG5pbXBvcnQge1xuICBEaWFsb2csXG4gIERpYWxvZ0NvbnRlbnQsXG4gIERpYWxvZ0hlYWRlcixcbiAgRGlhbG9nVGl0bGUsXG4gIERpYWxvZ0Rlc2NyaXB0aW9uLFxufSBmcm9tICdAZWx6YXRvbmEvc2hhcmVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQGVsemF0b25hL3NoYXJlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnQGVsemF0b25hL3NoYXJlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IExhYmVsIH0gZnJvbSAnQGVsemF0b25hL3NoYXJlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IExvYWRlcjIsIE1haWwsIEdpdGh1YiwgQm9va09wZW4sIEV5ZSwgRXllT2ZmIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcblxuaW50ZXJmYWNlIFNpZ25JblBvcHVwUHJvcHMge1xuICBpc09wZW46IGJvb2xlYW47XG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG4gIG9uU3VjY2VzczogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNvbnN0IFNpZ25JblBvcHVwOiBSZWFjdC5GQzxTaWduSW5Qb3B1cFByb3BzPiA9ICh7XG4gIGlzT3BlbixcbiAgb25DbG9zZSxcbiAgb25TdWNjZXNzLFxufSkgPT4ge1xuICBjb25zdCBbaXNMb2dpbiwgc2V0SXNMb2dpbl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2lzU3VibWl0dGluZywgc2V0SXNTdWJtaXR0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dQYXNzd29yZCwgc2V0U2hvd1Bhc3N3b3JkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dDb25maXJtUGFzc3dvcmQsIHNldFNob3dDb25maXJtUGFzc3dvcmRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2Zvcm1EYXRhLCBzZXRGb3JtRGF0YV0gPSB1c2VTdGF0ZSh7XG4gICAgZW1haWw6ICcnLFxuICAgIHBhc3N3b3JkOiAnJyxcbiAgICBjb25maXJtUGFzc3dvcmQ6ICcnLFxuICAgIG5hbWU6ICcnLFxuICB9KTtcblxuICBjb25zdCBbaXNBdXRoZW50aWNhdGVkLCBzZXRJc0F1dGhlbnRpY2F0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIENoZWNrIGF1dGhlbnRpY2F0aW9uIHN0YXR1c1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNoZWNrQXV0aCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZGF0YTogeyBzZXNzaW9uIH0sXG4gICAgICB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gICAgICBzZXRJc0F1dGhlbnRpY2F0ZWQoISFzZXNzaW9uKTtcbiAgICB9O1xuICAgIGNoZWNrQXV0aCgpO1xuICB9LCBbXSk7XG5cbiAgLy8gQ2xvc2UgcG9wdXAgYW5kIGNhbGwgc3VjY2VzcyBjYWxsYmFjayB3aGVuIGF1dGhlbnRpY2F0ZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICBvblN1Y2Nlc3MoKTtcbiAgICB9XG4gIH0sIFtpc0F1dGhlbnRpY2F0ZWQsIG9uU3VjY2Vzc10pO1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgc2V0RXJyb3IoJycpO1xuICAgIHNldElzU3VibWl0dGluZyh0cnVlKTtcblxuICAgIHRyeSB7XG4gICAgICBpZiAoaXNMb2dpbikge1xuICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25JbldpdGhQYXNzd29yZCh7XG4gICAgICAgICAgZW1haWw6IGZvcm1EYXRhLmVtYWlsLFxuICAgICAgICAgIHBhc3N3b3JkOiBmb3JtRGF0YS5wYXNzd29yZCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm9ybURhdGEucGFzc3dvcmQgIT09IGZvcm1EYXRhLmNvbmZpcm1QYXNzd29yZCkge1xuICAgICAgICAgIHNldEVycm9yKCdQYXNzd29yZHMgZG8gbm90IG1hdGNoJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnblVwKHtcbiAgICAgICAgICBlbWFpbDogZm9ybURhdGEuZW1haWwsXG4gICAgICAgICAgcGFzc3dvcmQ6IGZvcm1EYXRhLnBhc3N3b3JkLFxuICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgbmFtZTogZm9ybURhdGEubmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICBzZXRJc0F1dGhlbnRpY2F0ZWQodHJ1ZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZCcpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1N1Ym1pdHRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVHb29nbGVTaWduSW4gPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnbkluV2l0aE9BdXRoKHtcbiAgICAgICAgcHJvdmlkZXI6ICdnb29nbGUnLFxuICAgICAgfSk7XG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdHb29nbGUgc2lnbi1pbiBmYWlsZWQnKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlR2l0aHViU2lnbkluID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25JbldpdGhPQXV0aCh7XG4gICAgICAgIHByb3ZpZGVyOiAnZ2l0aHViJyxcbiAgICAgIH0pO1xuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnR2l0aHViIHNpZ24taW4gZmFpbGVkJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgc2V0Rm9ybURhdGEocHJldiA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIFtlLnRhcmdldC5uYW1lXTogZS50YXJnZXQudmFsdWUsXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPERpYWxvZyBvcGVuPXtpc09wZW59IG9uT3BlbkNoYW5nZT17b25DbG9zZX0+XG4gICAgICA8RGlhbG9nQ29udGVudCBjbGFzc05hbWU9J3NtOm1heC13LWxnIG1heC1oLVs5MHZoXSBvdmVyZmxvdy15LWF1dG8nPlxuICAgICAgICA8RGlhbG9nSGVhZGVyIGNsYXNzTmFtZT0nc3BhY2UteS00Jz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC00Jz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEyIGgtMTIgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwMCB0by1wdXJwbGUtNjAwIHJvdW5kZWQtMnhsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNoYWRvdy1sZyc+XG4gICAgICAgICAgICAgIDxCb29rT3BlbiBjbGFzc05hbWU9J3ctNiBoLTYgdGV4dC13aGl0ZScgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlIGNsYXNzTmFtZT0ndGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlJz5cbiAgICAgICAgICAgICAgICB7aXNMb2dpbiA/ICdXZWxjb21lIEJhY2shJyA6ICdKb2luIEVsemF0b25hJ31cbiAgICAgICAgICAgICAgPC9EaWFsb2dUaXRsZT5cbiAgICAgICAgICAgICAgPERpYWxvZ0Rlc2NyaXB0aW9uIGNsYXNzTmFtZT0ndGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAgdGV4dC1iYXNlJz5cbiAgICAgICAgICAgICAgICB7aXNMb2dpblxuICAgICAgICAgICAgICAgICAgPyAnU2lnbiBpbiB0byBhY2Nlc3MgeW91ciBndWlkZWQgbGVhcm5pbmcgcGxhbnMnXG4gICAgICAgICAgICAgICAgICA6ICdDcmVhdGUgeW91ciBhY2NvdW50IHRvIHN0YXJ0IHlvdXIgbGVhcm5pbmcgam91cm5leSd9XG4gICAgICAgICAgICAgIDwvRGlhbG9nRGVzY3JpcHRpb24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9EaWFsb2dIZWFkZXI+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NwYWNlLXktNiBweS0yJz5cbiAgICAgICAgICB7LyogU29jaWFsIFNpZ24gSW4gKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NwYWNlLXktMyc+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUdvb2dsZVNpZ25Jbn1cbiAgICAgICAgICAgICAgdmFyaWFudD0nb3V0bGluZSdcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPSd3LWZ1bGwgaC0xMiB0ZXh0LWJhc2UgZm9udC1tZWRpdW0gYm9yZGVyLTIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIGhvdmVyOmJvcmRlci1ibHVlLTMwMCBkYXJrOmhvdmVyOmJvcmRlci1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTUwIGRhcms6aG92ZXI6YmctYmx1ZS05MDAvMjAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIHJvdW5kZWQteGwnXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxNYWlsIGNsYXNzTmFtZT0ndy01IGgtNSBtci0zJyAvPlxuICAgICAgICAgICAgICBDb250aW51ZSB3aXRoIEdvb2dsZVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUdpdGh1YlNpZ25Jbn1cbiAgICAgICAgICAgICAgdmFyaWFudD0nb3V0bGluZSdcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPSd3LWZ1bGwgaC0xMiB0ZXh0LWJhc2UgZm9udC1tZWRpdW0gYm9yZGVyLTIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIGhvdmVyOmJvcmRlci1ncmF5LTQwMCBkYXJrOmhvdmVyOmJvcmRlci1ncmF5LTUwMCBob3ZlcjpiZy1ncmF5LTUwIGRhcms6aG92ZXI6YmctZ3JheS04MDAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIHJvdW5kZWQteGwnXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxHaXRodWIgY2xhc3NOYW1lPSd3LTUgaC01IG1yLTMnIC8+XG4gICAgICAgICAgICAgIENvbnRpbnVlIHdpdGggR2l0aHViXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdyZWxhdGl2ZSc+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlcic+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ndy1mdWxsIGJvcmRlci10IGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCcgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3JlbGF0aXZlIGZsZXgganVzdGlmeS1jZW50ZXIgdGV4dC1zbSc+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nYmctd2hpdGUgZGFyazpiZy1ncmF5LTkwMCBweC00IHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIGZvbnQtbWVkaXVtJz5cbiAgICAgICAgICAgICAgICBPciBjb250aW51ZSB3aXRoIGVtYWlsXG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIEVtYWlsIEZvcm0gKi99XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPSdzcGFjZS15LTUnPlxuICAgICAgICAgICAgeyFpc0xvZ2luICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NwYWNlLXktMic+XG4gICAgICAgICAgICAgICAgPExhYmVsXG4gICAgICAgICAgICAgICAgICBodG1sRm9yPSduYW1lJ1xuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAnXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgRnVsbCBOYW1lXG4gICAgICAgICAgICAgICAgPC9MYWJlbD5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIGlkPSduYW1lJ1xuICAgICAgICAgICAgICAgICAgbmFtZT0nbmFtZSdcbiAgICAgICAgICAgICAgICAgIHR5cGU9J3RleHQnXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEubmFtZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVJbnB1dENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkPXshaXNMb2dpbn1cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2gtMTIgdGV4dC1iYXNlIGJvcmRlci0yIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBmb2N1czpib3JkZXItYmx1ZS01MDAgZGFyazpmb2N1czpib3JkZXItYmx1ZS00MDAgcm91bmRlZC14bCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAnXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0nRW50ZXIgeW91ciBmdWxsIG5hbWUnXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS0yJz5cbiAgICAgICAgICAgICAgPExhYmVsXG4gICAgICAgICAgICAgICAgaHRtbEZvcj0nZW1haWwnXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAnXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBFbWFpbCBBZGRyZXNzXG4gICAgICAgICAgICAgIDwvTGFiZWw+XG4gICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgIGlkPSdlbWFpbCdcbiAgICAgICAgICAgICAgICBuYW1lPSdlbWFpbCdcbiAgICAgICAgICAgICAgICB0eXBlPSdlbWFpbCdcbiAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEuZW1haWx9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUlucHV0Q2hhbmdlfVxuICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2gtMTIgdGV4dC1iYXNlIGJvcmRlci0yIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBmb2N1czpib3JkZXItYmx1ZS01MDAgZGFyazpmb2N1czpib3JkZXItYmx1ZS00MDAgcm91bmRlZC14bCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAnXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J0VudGVyIHlvdXIgZW1haWwgYWRkcmVzcydcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS0yJz5cbiAgICAgICAgICAgICAgPExhYmVsXG4gICAgICAgICAgICAgICAgaHRtbEZvcj0ncGFzc3dvcmQnXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAnXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBQYXNzd29yZFxuICAgICAgICAgICAgICA8L0xhYmVsPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncmVsYXRpdmUnPlxuICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgaWQ9J3Bhc3N3b3JkJ1xuICAgICAgICAgICAgICAgICAgbmFtZT0ncGFzc3dvcmQnXG4gICAgICAgICAgICAgICAgICB0eXBlPXtzaG93UGFzc3dvcmQgPyAndGV4dCcgOiAncGFzc3dvcmQnfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUlucHV0Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2gtMTIgdGV4dC1iYXNlIGJvcmRlci0yIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBmb2N1czpib3JkZXItYmx1ZS01MDAgZGFyazpmb2N1czpib3JkZXItYmx1ZS00MDAgcm91bmRlZC14bCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgcHItMTInXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0nRW50ZXIgeW91ciBwYXNzd29yZCdcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9J2J1dHRvbidcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dQYXNzd29yZCghc2hvd1Bhc3N3b3JkKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYWJzb2x1dGUgcmlnaHQtMyB0b3AtMS8yIHRyYW5zZm9ybSAtdHJhbnNsYXRlLXktMS8yIHRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1ncmF5LTYwMCBkYXJrOmhvdmVyOnRleHQtZ3JheS0zMDAnXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3Nob3dQYXNzd29yZCA/IChcbiAgICAgICAgICAgICAgICAgICAgPEV5ZU9mZiBjbGFzc05hbWU9J3ctNSBoLTUnIC8+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8RXllIGNsYXNzTmFtZT0ndy01IGgtNScgLz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHshaXNMb2dpbiAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzcGFjZS15LTInPlxuICAgICAgICAgICAgICAgIDxMYWJlbFxuICAgICAgICAgICAgICAgICAgaHRtbEZvcj0nY29uZmlybVBhc3N3b3JkJ1xuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAnXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgQ29uZmlybSBQYXNzd29yZFxuICAgICAgICAgICAgICAgIDwvTGFiZWw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3JlbGF0aXZlJz5cbiAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICBpZD0nY29uZmlybVBhc3N3b3JkJ1xuICAgICAgICAgICAgICAgICAgICBuYW1lPSdjb25maXJtUGFzc3dvcmQnXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9e3Nob3dDb25maXJtUGFzc3dvcmQgPyAndGV4dCcgOiAncGFzc3dvcmQnfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEuY29uZmlybVBhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlSW5wdXRDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkPXshaXNMb2dpbn1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdoLTEyIHRleHQtYmFzZSBib3JkZXItMiBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgZm9jdXM6Ym9yZGVyLWJsdWUtNTAwIGRhcms6Zm9jdXM6Ym9yZGVyLWJsdWUtNDAwIHJvdW5kZWQteGwgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIHByLTEyJ1xuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0nQ29uZmlybSB5b3VyIHBhc3N3b3JkJ1xuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgdHlwZT0nYnV0dG9uJ1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93Q29uZmlybVBhc3N3b3JkKCFzaG93Q29uZmlybVBhc3N3b3JkKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdhYnNvbHV0ZSByaWdodC0zIHRvcC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteS0xLzIgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LWdyYXktNjAwIGRhcms6aG92ZXI6dGV4dC1ncmF5LTMwMCdcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge3Nob3dDb25maXJtUGFzc3dvcmQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPEV5ZU9mZiBjbGFzc05hbWU9J3ctNSBoLTUnIC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPEV5ZSBjbGFzc05hbWU9J3ctNSBoLTUnIC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGV4dC1zbSB0ZXh0LXJlZC02MDAgYmctcmVkLTUwIGRhcms6YmctcmVkLTkwMC8yMCBwLTQgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgZGFyazpib3JkZXItcmVkLTgwMCc+XG4gICAgICAgICAgICAgICAge2Vycm9yfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdHlwZT0nc3VibWl0J1xuICAgICAgICAgICAgICBjbGFzc05hbWU9J3ctZnVsbCBoLTEyIHRleHQtYmFzZSBmb250LXNlbWlib2xkIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTYwMCB0by1wdXJwbGUtNjAwIGhvdmVyOmZyb20tYmx1ZS03MDAgaG92ZXI6dG8tcHVycGxlLTcwMCB0ZXh0LXdoaXRlIHJvdW5kZWQteGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIHNoYWRvdy1sZyBob3ZlcjpzaGFkb3cteGwgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQnXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpc1N1Ym1pdHRpbmcgPyAoXG4gICAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPSd3LTUgaC01IG1yLTIgYW5pbWF0ZS1zcGluJyAvPlxuICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAge2lzTG9naW4gPyAnU2lnbiBJbicgOiAnQ3JlYXRlIEFjY291bnQnfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9mb3JtPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RleHQtY2VudGVyJz5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT0nYnV0dG9uJ1xuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc0xvZ2luKCFpc0xvZ2luKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPSd0ZXh0LWJsdWUtNjAwIGhvdmVyOnRleHQtYmx1ZS03MDAgZGFyazp0ZXh0LWJsdWUtNDAwIGRhcms6aG92ZXI6dGV4dC1ibHVlLTMwMCBmb250LW1lZGl1bSB0ZXh0LWJhc2UgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIGhvdmVyOnVuZGVybGluZSdcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2lzTG9naW5cbiAgICAgICAgICAgICAgICA/IFwiRG9uJ3QgaGF2ZSBhbiBhY2NvdW50PyBTaWduIHVwXCJcbiAgICAgICAgICAgICAgICA6ICdBbHJlYWR5IGhhdmUgYW4gYWNjb3VudD8gU2lnbiBpbid9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0RpYWxvZ0NvbnRlbnQ+XG4gICAgPC9EaWFsb2c+XG4gICk7XG59O1xuIl0sIm5hbWVzIjpbIlNpZ25JblBvcHVwIiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52Iiwic3VwYWJhc2VTZXJ2aWNlUm9sZUtleSIsInN1cGFiYXNlIiwiY3JlYXRlQ2xpZW50IiwiaXNPcGVuIiwib25DbG9zZSIsIm9uU3VjY2VzcyIsImlzTG9naW4iLCJzZXRJc0xvZ2luIiwidXNlU3RhdGUiLCJpc1N1Ym1pdHRpbmciLCJzZXRJc1N1Ym1pdHRpbmciLCJzaG93UGFzc3dvcmQiLCJzZXRTaG93UGFzc3dvcmQiLCJzaG93Q29uZmlybVBhc3N3b3JkIiwic2V0U2hvd0NvbmZpcm1QYXNzd29yZCIsImVycm9yIiwic2V0RXJyb3IiLCJmb3JtRGF0YSIsInNldEZvcm1EYXRhIiwiZW1haWwiLCJwYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsIm5hbWUiLCJpc0F1dGhlbnRpY2F0ZWQiLCJzZXRJc0F1dGhlbnRpY2F0ZWQiLCJ1c2VFZmZlY3QiLCJjaGVja0F1dGgiLCJkYXRhIiwic2Vzc2lvbiIsImF1dGgiLCJnZXRTZXNzaW9uIiwiaGFuZGxlU3VibWl0IiwiZSIsInByZXZlbnREZWZhdWx0Iiwic2lnbkluV2l0aFBhc3N3b3JkIiwic2lnblVwIiwib3B0aW9ucyIsImVyciIsIkVycm9yIiwibWVzc2FnZSIsImhhbmRsZUdvb2dsZVNpZ25JbiIsInNpZ25JbldpdGhPQXV0aCIsInByb3ZpZGVyIiwiaGFuZGxlR2l0aHViU2lnbkluIiwiaGFuZGxlSW5wdXRDaGFuZ2UiLCJwcmV2IiwidGFyZ2V0IiwidmFsdWUiLCJEaWFsb2ciLCJvcGVuIiwib25PcGVuQ2hhbmdlIiwiRGlhbG9nQ29udGVudCIsImNsYXNzTmFtZSIsIkRpYWxvZ0hlYWRlciIsImRpdiIsIkJvb2tPcGVuIiwiRGlhbG9nVGl0bGUiLCJEaWFsb2dEZXNjcmlwdGlvbiIsIkJ1dHRvbiIsIm9uQ2xpY2siLCJ2YXJpYW50IiwiZGlzYWJsZWQiLCJNYWlsIiwiR2l0aHViIiwic3BhbiIsImZvcm0iLCJvblN1Ym1pdCIsIkxhYmVsIiwiaHRtbEZvciIsIklucHV0IiwiaWQiLCJ0eXBlIiwib25DaGFuZ2UiLCJyZXF1aXJlZCIsInBsYWNlaG9sZGVyIiwiYnV0dG9uIiwiRXllT2ZmIiwiRXllIiwiTG9hZGVyMiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OytCQTJCYUE7OztlQUFBQTs7OzsrREF6QjhCOzRCQUNkO2tDQVl0Qjs2QkFJc0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWQ3RCxNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUMsMkJBQTJCO0FBQzNELE1BQU1DLHlCQUF5QkYsUUFBUUMsR0FBRyxDQUFDLDRCQUE0QjtBQUN2RSxNQUFNRSxXQUFXQyxJQUFBQSx3QkFBWSxFQUFDTCxhQUFhRztBQW9CcEMsTUFBTUosY0FBMEMsQ0FBQyxFQUN0RE8sTUFBTSxFQUNOQyxPQUFPLEVBQ1BDLFNBQVMsRUFDVjtJQUNDLE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHQyxJQUFBQSxlQUFRLEVBQUM7SUFDdkMsTUFBTSxDQUFDQyxjQUFjQyxnQkFBZ0IsR0FBR0YsSUFBQUEsZUFBUSxFQUFDO0lBQ2pELE1BQU0sQ0FBQ0csY0FBY0MsZ0JBQWdCLEdBQUdKLElBQUFBLGVBQVEsRUFBQztJQUNqRCxNQUFNLENBQUNLLHFCQUFxQkMsdUJBQXVCLEdBQUdOLElBQUFBLGVBQVEsRUFBQztJQUMvRCxNQUFNLENBQUNPLE9BQU9DLFNBQVMsR0FBR1IsSUFBQUEsZUFBUSxFQUFDO0lBQ25DLE1BQU0sQ0FBQ1MsVUFBVUMsWUFBWSxHQUFHVixJQUFBQSxlQUFRLEVBQUM7UUFDdkNXLE9BQU87UUFDUEMsVUFBVTtRQUNWQyxpQkFBaUI7UUFDakJDLE1BQU07SUFDUjtJQUVBLE1BQU0sQ0FBQ0MsaUJBQWlCQyxtQkFBbUIsR0FBR2hCLElBQUFBLGVBQVEsRUFBQztJQUV2RCw4QkFBOEI7SUFDOUJpQixJQUFBQSxnQkFBUyxFQUFDO1FBQ1IsTUFBTUMsWUFBWTtZQUNoQixNQUFNLEVBQ0pDLE1BQU0sRUFBRUMsT0FBTyxFQUFF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