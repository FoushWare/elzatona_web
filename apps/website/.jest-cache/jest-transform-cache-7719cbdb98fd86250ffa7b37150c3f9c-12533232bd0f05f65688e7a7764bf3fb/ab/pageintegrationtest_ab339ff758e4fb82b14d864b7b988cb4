fd3257b20ba3c05561f4729347181e73
/**
 * Integration Tests for My Plans Page (F-IT-004, F-IT-005)
 * Task: F-002 - My Plans Page
 */ "use strict";
jest.mock('@elzatona/shared-contexts', ()=>{
    const actual = jest.requireActual('../../../../test-utils/mocks/shared-contexts');
    return {
        ...actual,
        useAuth: jest.fn()
    };
});
jest.mock('next/navigation', ()=>({
        useRouter: ()=>({
                push: mockPush,
                replace: jest.fn(),
                prefetch: jest.fn()
            })
    }));
jest.mock('lucide-react', ()=>({
        BookOpen: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                children: "\uD83D\uDCD6"
            }),
        Plus: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                children: "+"
            }),
        Play: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                children: "▶️"
            }),
        Edit: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                children: "✏️"
            }),
        Trash2: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                children: "\uD83D\uDDD1️"
            }),
        CheckCircle: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                children: "✅"
            }),
        Clock: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                children: "⏰"
            }),
        Target: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                children: "\uD83C\uDFAF"
            }),
        Loader2: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                children: "⏳"
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
require("@testing-library/jest-dom");
const _page = /*#__PURE__*/ _interop_require_default(require("./page"));
const _sharedcontexts = /*#__PURE__*/ _interop_require_wildcard(require("../../../../../libs/shared-contexts/src"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const mockPush = jest.fn();
Storage.prototype.getItem = jest.fn(()=>JSON.stringify([
        {
            id: '1',
            name: 'Test Plan',
            description: 'Test',
            duration: 30,
            totalQuestions: 100,
            dailyQuestions: 5,
            created_at: new Date().toISOString(),
            isActive: true
        }
    ]));
describe('F-IT-004: Plan Loading Integration', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        _sharedcontexts.useAuth.mockReturnValue({
            isAuthenticated: true,
            user: {
                id: '1'
            },
            isLoading: false
        });
    });
    it('should load plans from localStorage', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
        await (0, _react1.waitFor)(()=>{
            expect(Storage.prototype.getItem).toHaveBeenCalledWith('userPlans');
        });
    });
});
describe('F-IT-005: Plan Actions Integration', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        _sharedcontexts.useAuth.mockReturnValue({
            isAuthenticated: true,
            user: {
                id: '1'
            },
            isLoading: false
        });
    });
    it('should integrate plan navigation', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText(/Test Plan/i)).toBeInTheDocument();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hLmZvdWFkL1NpZGVQcm9qZWN0cy9FbHphdG9uYS1hbGwvRWx6YXRvbmEtd2ViL2FwcHMvd2Vic2l0ZS9zcmMvYXBwL215LXBsYW5zL3BhZ2UuaW50ZWdyYXRpb24udGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJbnRlZ3JhdGlvbiBUZXN0cyBmb3IgTXkgUGxhbnMgUGFnZSAoRi1JVC0wMDQsIEYtSVQtMDA1KVxuICogVGFzazogRi0wMDIgLSBNeSBQbGFucyBQYWdlXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCAnQHRlc3RpbmctbGlicmFyeS9qZXN0LWRvbSc7XG5pbXBvcnQgTXlQbGFuc1BhZ2UgZnJvbSAnLi9wYWdlJztcbmltcG9ydCAqIGFzIHNoYXJlZENvbnRleHRzIGZyb20gJ0BlbHphdG9uYS9zaGFyZWQtY29udGV4dHMnO1xuXG5qZXN0Lm1vY2soJ0BlbHphdG9uYS9zaGFyZWQtY29udGV4dHMnLCAoKSA9PiB7XG4gIGNvbnN0IGFjdHVhbCA9IGplc3QucmVxdWlyZUFjdHVhbCgnLi4vLi4vLi4vLi4vdGVzdC11dGlscy9tb2Nrcy9zaGFyZWQtY29udGV4dHMnKTtcbiAgcmV0dXJuIHtcbiAgICAuLi5hY3R1YWwsXG4gICAgdXNlQXV0aDogamVzdC5mbigpLFxuICB9O1xufSk7XG5cbmNvbnN0IG1vY2tQdXNoID0gamVzdC5mbigpO1xuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICB1c2VSb3V0ZXI6ICgpID0+ICh7XG4gICAgcHVzaDogbW9ja1B1c2gsXG4gICAgcmVwbGFjZTogamVzdC5mbigpLFxuICAgIHByZWZldGNoOiBqZXN0LmZuKCksXG4gIH0pLFxufSkpO1xuXG5TdG9yYWdlLnByb3RvdHlwZS5nZXRJdGVtID0gamVzdC5mbigoKSA9PiBKU09OLnN0cmluZ2lmeShbXG4gIHtcbiAgICBpZDogJzEnLFxuICAgIG5hbWU6ICdUZXN0IFBsYW4nLFxuICAgIGRlc2NyaXB0aW9uOiAnVGVzdCcsXG4gICAgZHVyYXRpb246IDMwLFxuICAgIHRvdGFsUXVlc3Rpb25zOiAxMDAsXG4gICAgZGFpbHlRdWVzdGlvbnM6IDUsXG4gICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIGlzQWN0aXZlOiB0cnVlLFxuICB9LFxuXSkpO1xuXG5qZXN0Lm1vY2soJ2x1Y2lkZS1yZWFjdCcsICgpID0+ICh7XG4gIEJvb2tPcGVuOiAoKSA9PiA8c3Bhbj7wn5OWPC9zcGFuPixcbiAgUGx1czogKCkgPT4gPHNwYW4+Kzwvc3Bhbj4sXG4gIFBsYXk6ICgpID0+IDxzcGFuPuKWtu+4jzwvc3Bhbj4sXG4gIEVkaXQ6ICgpID0+IDxzcGFuPuKcj++4jzwvc3Bhbj4sXG4gIFRyYXNoMjogKCkgPT4gPHNwYW4+8J+Xke+4jzwvc3Bhbj4sXG4gIENoZWNrQ2lyY2xlOiAoKSA9PiA8c3Bhbj7inIU8L3NwYW4+LFxuICBDbG9jazogKCkgPT4gPHNwYW4+4o+wPC9zcGFuPixcbiAgVGFyZ2V0OiAoKSA9PiA8c3Bhbj7wn46vPC9zcGFuPixcbiAgTG9hZGVyMjogKCkgPT4gPHNwYW4+4o+zPC9zcGFuPixcbn0pKTtcblxuZGVzY3JpYmUoJ0YtSVQtMDA0OiBQbGFuIExvYWRpbmcgSW50ZWdyYXRpb24nLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIFxuICAgIChzaGFyZWRDb250ZXh0cy51c2VBdXRoIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIGlzQXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICAgIHVzZXI6IHsgaWQ6ICcxJyB9LFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBsb2FkIHBsYW5zIGZyb20gbG9jYWxTdG9yYWdlJywgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlcig8TXlQbGFuc1BhZ2UgLz4pO1xuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KFN0b3JhZ2UucHJvdG90eXBlLmdldEl0ZW0pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd1c2VyUGxhbnMnKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ0YtSVQtMDA1OiBQbGFuIEFjdGlvbnMgSW50ZWdyYXRpb24nLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIFxuICAgIChzaGFyZWRDb250ZXh0cy51c2VBdXRoIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIGlzQXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICAgIHVzZXI6IHsgaWQ6ICcxJyB9LFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBpbnRlZ3JhdGUgcGxhbiBuYXZpZ2F0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlcig8TXlQbGFuc1BhZ2UgLz4pO1xuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL1Rlc3QgUGxhbi9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsImFjdHVhbCIsInJlcXVpcmVBY3R1YWwiLCJ1c2VBdXRoIiwiZm4iLCJ1c2VSb3V0ZXIiLCJwdXNoIiwibW9ja1B1c2giLCJyZXBsYWNlIiwicHJlZmV0Y2giLCJCb29rT3BlbiIsInNwYW4iLCJQbHVzIiwiUGxheSIsIkVkaXQiLCJUcmFzaDIiLCJDaGVja0NpcmNsZSIsIkNsb2NrIiwiVGFyZ2V0IiwiTG9hZGVyMiIsIlN0b3JhZ2UiLCJwcm90b3R5cGUiLCJnZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImlkIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiZHVyYXRpb24iLCJ0b3RhbFF1ZXN0aW9ucyIsImRhaWx5UXVlc3Rpb25zIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImlzQWN0aXZlIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsInNoYXJlZENvbnRleHRzIiwibW9ja1JldHVyblZhbHVlIiwiaXNBdXRoZW50aWNhdGVkIiwidXNlciIsImlzTG9hZGluZyIsIml0IiwicmVuZGVyIiwiTXlQbGFuc1BhZ2UiLCJ3YWl0Rm9yIiwiZXhwZWN0IiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCJdLCJtYXBwaW5ncyI6IkFBQUE7OztDQUdDO0FBUURBLEtBQUtDLElBQUksQ0FBQyw2QkFBNkI7SUFDckMsTUFBTUMsU0FBU0YsS0FBS0csYUFBYSxDQUFDO0lBQ2xDLE9BQU87UUFDTCxHQUFHRCxNQUFNO1FBQ1RFLFNBQVNKLEtBQUtLLEVBQUU7SUFDbEI7QUFDRjtBQUdBTCxLQUFLQyxJQUFJLENBQUMsbUJBQW1CLElBQU8sQ0FBQTtRQUNsQ0ssV0FBVyxJQUFPLENBQUE7Z0JBQ2hCQyxNQUFNQztnQkFDTkMsU0FBU1QsS0FBS0ssRUFBRTtnQkFDaEJLLFVBQVVWLEtBQUtLLEVBQUU7WUFDbkIsQ0FBQTtJQUNGLENBQUE7QUFlQUwsS0FBS0MsSUFBSSxDQUFDLGdCQUFnQixJQUFPLENBQUE7UUFDL0JVLFVBQVUsa0JBQU0scUJBQUNDOzBCQUFLOztRQUN0QkMsTUFBTSxrQkFBTSxxQkFBQ0Q7MEJBQUs7O1FBQ2xCRSxNQUFNLGtCQUFNLHFCQUFDRjswQkFBSzs7UUFDbEJHLE1BQU0sa0JBQU0scUJBQUNIOzBCQUFLOztRQUNsQkksUUFBUSxrQkFBTSxxQkFBQ0o7MEJBQUs7O1FBQ3BCSyxhQUFhLGtCQUFNLHFCQUFDTDswQkFBSzs7UUFDekJNLE9BQU8sa0JBQU0scUJBQUNOOzBCQUFLOztRQUNuQk8sUUFBUSxrQkFBTSxxQkFBQ1A7MEJBQUs7O1FBQ3BCUSxTQUFTLGtCQUFNLHFCQUFDUjswQkFBSzs7SUFDdkIsQ0FBQTs7Ozs7OERBOUNrQjt3QkFDaUM7UUFDNUM7NkRBQ2lCO3dFQUNROzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVVoQyxNQUFNSixXQUFXUixLQUFLSyxFQUFFO0FBU3hCZ0IsUUFBUUMsU0FBUyxDQUFDQyxPQUFPLEdBQUd2QixLQUFLSyxFQUFFLENBQUMsSUFBTW1CLEtBQUtDLFNBQVMsQ0FBQztRQUN2RDtZQUNFQyxJQUFJO1lBQ0pDLE1BQU07WUFDTkMsYUFBYTtZQUNiQyxVQUFVO1lBQ1ZDLGdCQUFnQjtZQUNoQkMsZ0JBQWdCO1lBQ2hCQyxZQUFZLElBQUlDLE9BQU9DLFdBQVc7WUFDbENDLFVBQVU7UUFDWjtLQUNEO0FBY0RDLFNBQVMsc0NBQXNDO0lBQzdDQyxXQUFXO1FBQ1RyQyxLQUFLc0MsYUFBYTtRQUVqQkMsZ0JBQWVuQyxPQUFPLENBQWVvQyxlQUFlLENBQUM7WUFDcERDLGlCQUFpQjtZQUNqQkMsTUFBTTtnQkFBRWhCLElBQUk7WUFBSTtZQUNoQmlCLFdBQVc7UUFDYjtJQUNGO0lBRUFDLEdBQUcsdUNBQXVDO1FBQ3hDQyxJQUFBQSxjQUFNLGdCQUFDLHFCQUFDQyxhQUFXO1FBQ25CLE1BQU1DLElBQUFBLGVBQU8sRUFBQztZQUNaQyxPQUFPM0IsUUFBUUMsU0FBUyxDQUFDQyxPQUFPLEVBQUUwQixvQkFBb0IsQ0FBQztRQUN6RDtJQUNGO0FBQ0Y7QUFFQWIsU0FBUyxzQ0FBc0M7SUFDN0NDLFdBQVc7UUFDVHJDLEtBQUtzQyxhQUFhO1FBRWpCQyxnQkFBZW5DLE9BQU8sQ0FBZW9DLGVBQWUsQ0FBQztZQUNwREMsaUJBQWlCO1lBQ2pCQyxNQUFNO2dCQUFFaEIsSUFBSTtZQUFJO1lBQ2hCaUIsV0FBVztRQUNiO0lBQ0Y7SUFFQUMsR0FBRyxvQ0FBb0M7UUFDckNDLElBQUFBLGNBQU0sZ0JBQUMscUJBQUNDLGFBQVc7UUFDbkIsTUFBTUMsSUFBQUEsZUFBTyxFQUFDO1lBQ1pDLE9BQU9FLGNBQU0sQ0FBQ0MsU0FBUyxDQUFDLGVBQWVDLGlCQUFpQjtRQUMxRDtJQUNGO0FBQ0YifQ==