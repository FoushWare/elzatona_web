{"version":3,"sources":["/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/lib/cart.ts"],"sourcesContent":["// v1.0 - simple localStorage-backed question cart for custom plans\n\nexport interface CartItem {\n  id: string; // question id\n  question: string;\n  section?: string;\n  topic?: string;\n  difficulty?: string;\n  addedAt: number;\n}\n\nconst STORAGE_KEY = 'question-cart:v1';\n\nexport function loadCart(): CartItem[] {\n  if (typeof window === 'undefined') return [];\n  try {\n    const raw = localStorage.getItem(STORAGE_KEY);\n    return raw ? (JSON.parse(raw) as CartItem[]) : [];\n  } catch (_) {\n    return [];\n  }\n}\n\nexport function saveCart(items: CartItem[]) {\n  if (typeof window === 'undefined') return;\n  try {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(items));\n  } catch (_) {}\n}\n\nexport function addToCart(item: CartItem) {\n  const items = loadCart();\n  if (items.some(i => i.id === item.id)) return;\n  items.unshift(item);\n  saveCart(items);\n}\n\nexport function removeFromCart(questionId: string) {\n  saveCart(loadCart().filter(i => i.id !== questionId));\n}\n\nexport function clearCart() {\n  saveCart([]);\n}\n"],"names":["addToCart","clearCart","loadCart","removeFromCart","saveCart","STORAGE_KEY","window","raw","localStorage","getItem","JSON","parse","_","items","setItem","stringify","item","some","i","id","unshift","questionId","filter"],"mappings":"AAAA,mEAAmE;;;;;;;;;;;;QA8BnDA;eAAAA;;QAWAC;eAAAA;;QA5BAC;eAAAA;;QAwBAC;eAAAA;;QAdAC;eAAAA;;;AAZhB,MAAMC,cAAc;AAEb,SAASH;IACd,IAAI,OAAOI,WAAW,aAAa,OAAO,EAAE;IAC5C,IAAI;QACF,MAAMC,MAAMC,aAAaC,OAAO,CAACJ;QACjC,OAAOE,MAAOG,KAAKC,KAAK,CAACJ,OAAsB,EAAE;IACnD,EAAE,OAAOK,GAAG;QACV,OAAO,EAAE;IACX;AACF;AAEO,SAASR,SAASS,KAAiB;IACxC,IAAI,OAAOP,WAAW,aAAa;IACnC,IAAI;QACFE,aAAaM,OAAO,CAACT,aAAaK,KAAKK,SAAS,CAACF;IACnD,EAAE,OAAOD,GAAG,CAAC;AACf;AAEO,SAASZ,UAAUgB,IAAc;IACtC,MAAMH,QAAQX;IACd,IAAIW,MAAMI,IAAI,CAACC,CAAAA,IAAKA,EAAEC,EAAE,KAAKH,KAAKG,EAAE,GAAG;IACvCN,MAAMO,OAAO,CAACJ;IACdZ,SAASS;AACX;AAEO,SAASV,eAAekB,UAAkB;IAC/CjB,SAASF,WAAWoB,MAAM,CAACJ,CAAAA,IAAKA,EAAEC,EAAE,KAAKE;AAC3C;AAEO,SAASpB;IACdG,SAAS,EAAE;AACb"}