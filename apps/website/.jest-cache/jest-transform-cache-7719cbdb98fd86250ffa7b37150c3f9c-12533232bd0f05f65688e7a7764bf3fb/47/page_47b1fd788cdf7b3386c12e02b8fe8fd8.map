{"version":3,"sources":["/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/learning-paths/page.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n// This file uses 'any' types for API response data which can have various structures\n'use client';\n\nimport React, { useState, useMemo, ReactNode, useCallback } from 'react';\n\nimport { useRouter } from 'next/navigation';\nimport {\n  BookOpen,\n  ArrowRight,\n  Clock,\n  Target,\n  Users,\n  Star,\n  ChevronRight,\n  Code,\n  Palette,\n  Zap,\n  Shield,\n  Layers,\n  Settings,\n  Brain,\n  Globe,\n  Search,\n  Filter,\n  Grid,\n  List,\n} from 'lucide-react';\n// This page shows categories → topics → questions (not time-based plans)\nimport Link from 'next/link';\n\ninterface CategoryItem {\n  id: string;\n  name: string;\n  description?: string;\n  color?: string;\n  icon?: string;\n}\n\ninterface PlanDetailsCategory {\n  id: string;\n  name: string;\n  topics: Array<{\n    id: string;\n    name: string;\n    questions: Array<{\n      id: string;\n      text: string;\n      options?: any[];\n    }>;\n  }>;\n}\n\nexport default function LearningPathsPage() {\n  const router = useRouter();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n\n  // Local data for categories/topics/questions\n  const [categories, setCategories] = useState<CategoryItem[]>([]);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<Error | null>(null);\n\n  React.useEffect(() => {\n    let active = true;\n    (async () => {\n      try {\n        const res = await fetch('/api/categories');\n        if (!res.ok) throw new Error(`HTTP ${res.status}: ${res.statusText}`);\n        const json = await res.json();\n        if (active) setCategories(json?.data || []);\n      } catch (e: any) {\n        if (active)\n          setError(new Error(e?.message || 'Failed to load categories'));\n      } finally {\n        if (active) setLoading(false);\n      }\n    })();\n    return () => {\n      active = false;\n    };\n  }, []);\n\n  const [expandedPathId, setExpandedPathId] = useState<string | null>(null);\n  const [pathDetails, setPathDetails] = useState<\n    Record<\n      string,\n      {\n        loading: boolean;\n        error: string | null;\n        categories: PlanDetailsCategory[];\n      }\n    >\n  >({});\n\n  const toggleExpand = useCallback(\n    async (categoryId: string) => {\n      setExpandedPathId(prev => (prev === categoryId ? null : categoryId));\n      if (!pathDetails[categoryId]) {\n        setPathDetails(prev => ({\n          ...prev,\n          [categoryId]: { loading: true, error: null, categories: [] },\n        }));\n        try {\n          // Load all topics then filter by category; then load preview questions per topic\n          const topicsRes = await fetch('/api/topics');\n          if (!topicsRes.ok)\n            throw new Error(\n              `HTTP ${topicsRes.status}: ${topicsRes.statusText}`\n            );\n          const topicsJson = await topicsRes.json();\n          const topics = (topicsJson?.data || []).filter(\n            (t: any) => t.categoryId === categoryId\n          );\n\n          const topicsWithQuestions: Array<{\n            id: string;\n            name: string;\n            questions: Array<{ id: string; text: string; options?: any[] }>;\n          }> = [];\n          for (const t of topics) {\n            try {\n              const qRes = await fetch(`/api/questions?topic=${t.id}&limit=4`);\n              const qJson = qRes.ok ? await qRes.json() : { data: [] };\n              const qs = (qJson?.data || []).map((q: any) => ({\n                id: q.id,\n                text: q.question || q.question_text || '',\n                options: q.options || [],\n              }));\n              topicsWithQuestions.push({\n                id: t.id,\n                name: t.name,\n                questions: qs,\n              });\n            } catch (_) {\n              topicsWithQuestions.push({\n                id: t.id,\n                name: t.name,\n                questions: [],\n              });\n            }\n          }\n\n          const categoriesTransformed: PlanDetailsCategory[] = [\n            {\n              id: categoryId,\n              name:\n                categories.find(c => c.id === categoryId)?.name || 'Category',\n              topics: topicsWithQuestions,\n            },\n          ];\n\n          setPathDetails(prev => ({\n            ...prev,\n            [categoryId]: {\n              loading: false,\n              error: null,\n              categories: categoriesTransformed,\n            },\n          }));\n        } catch (e: any) {\n          setPathDetails(prev => ({\n            ...prev,\n            [categoryId]: {\n              loading: false,\n              error: e?.message || 'Failed to load details',\n              categories: [],\n            },\n          }));\n        }\n      }\n    },\n    [pathDetails, categories]\n  );\n\n  // Filtered learning paths based on search\n  const filteredPaths = useMemo(() => {\n    return categories.filter(cat =>\n      cat.name?.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n  }, [categories, searchTerm]);\n\n  const getPathIcon = (pathId: string) => {\n    const iconMap: Record<string, React.ReactNode> = {\n      'javascript-practice': <Code className='w-6 h-6' />,\n      'javascript-deep-dive': <Code className='w-6 h-6' />,\n      'css-practice': <Palette className='w-6 h-6' />,\n      'css-mastery': <Palette className='w-6 h-6' />,\n      'react-practice': <Zap className='w-6 h-6' />,\n      'react-mastery': <Zap className='w-6 h-6' />,\n      'html-practice': <Globe className='w-6 h-6' />,\n      'typescript-essentials': <Code className='w-6 h-6' />,\n      'security-essentials': <Shield className='w-6 h-6' />,\n      'performance-optimization': <Zap className='w-6 h-6' />,\n      'testing-strategies': <Target className='w-6 h-6' />,\n      'build-tools-devops': <Settings className='w-6 h-6' />,\n      'frontend-system-design': <Layers className='w-6 h-6' />,\n      'api-integration': <Globe className='w-6 h-6' />,\n      'ai-tools-frontend': <Brain className='w-6 h-6' />,\n    };\n    return iconMap[pathId] || <BookOpen className='w-6 h-6' />;\n  };\n\n  const getPathColor = (pathId: string) => {\n    const colorMap: Record<string, string> = {\n      'javascript-practice': 'from-yellow-500 to-orange-500',\n      'javascript-deep-dive': 'from-yellow-500 to-orange-500',\n      'css-practice': 'from-blue-500 to-indigo-500',\n      'css-mastery': 'from-blue-500 to-indigo-500',\n      'react-practice': 'from-cyan-500 to-blue-500',\n      'react-mastery': 'from-cyan-500 to-blue-500',\n      'html-practice': 'from-orange-500 to-red-500',\n      'typescript-essentials': 'from-blue-600 to-indigo-600',\n      'security-essentials': 'from-red-500 to-pink-500',\n      'performance-optimization': 'from-green-500 to-emerald-500',\n      'testing-strategies': 'from-purple-500 to-violet-500',\n      'build-tools-devops': 'from-gray-500 to-slate-500',\n      'frontend-system-design': 'from-indigo-500 to-purple-500',\n      'api-integration': 'from-teal-500 to-cyan-500',\n      'ai-tools-frontend': 'from-pink-500 to-rose-500',\n    };\n    return colorMap[pathId] || 'from-gray-500 to-slate-500';\n  };\n\n  if (loading) {\n    return (\n      <div className='min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center'>\n        <div className='text-center'>\n          <div className='w-16 h-16 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4'></div>\n          <p className='text-gray-600 dark:text-gray-400 text-lg'>\n            Loading learning paths...\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className='min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center'>\n        <div className='text-center'>\n          <div className='w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4'>\n            <BookOpen className='w-8 h-8 text-red-600' />\n          </div>\n          <h2 className='text-2xl font-bold text-gray-900 dark:text-white mb-2'>\n            Error Loading Paths\n          </h2>\n          <p className='text-gray-600 dark:text-gray-400 mb-4'>\n            {error instanceof Error\n              ? error.message\n              : 'Failed to load learning paths'}\n          </p>\n          <button\n            onClick={() => window.location.reload()}\n            className='px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors'\n          >\n            Try Again\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className='min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 pt-24'>\n      <div className='container mx-auto px-4 py-12'>\n        {/* Header */}\n        <div className='text-center mb-12'>\n          <div className='relative mb-8'>\n            <div className='absolute inset-0 bg-gradient-to-r from-indigo-400 via-purple-500 to-pink-500 rounded-3xl blur-3xl opacity-30 scale-110' />\n            <div className='relative w-24 h-24 bg-gradient-to-r from-indigo-500 via-purple-600 to-pink-500 rounded-3xl flex items-center justify-center mx-auto shadow-2xl'>\n              <BookOpen className='w-12 h-12 text-white' />\n            </div>\n          </div>\n\n          <h1 className='text-5xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-6'>\n            Learning Paths\n          </h1>\n          <p className='text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto leading-relaxed'>\n            Browse core knowledge categories (HTML, CSS, JavaScript, React,\n            TypeScript, etc.). Expand a category to see its topics and preview\n            questions.\n          </p>\n        </div>\n\n        {/* Search and Filter */}\n        <div className='mb-8 max-w-4xl mx-auto'>\n          <div className='bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6'>\n            <div className='flex flex-col sm:flex-row gap-4 items-center justify-between'>\n              <div className='relative flex-1'>\n                <Search className='absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5' />\n                <input\n                  type='text'\n                  placeholder='Search categories or topics...'\n                  value={searchTerm}\n                  onChange={e => setSearchTerm(e.target.value)}\n                  className='w-full pl-10 pr-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white'\n                />\n              </div>\n              <div className='flex items-center gap-2'>\n                <button\n                  onClick={() => setViewMode('grid')}\n                  className={`p-2 rounded-lg transition-colors ${\n                    viewMode === 'grid'\n                      ? 'bg-indigo-100 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400'\n                      : 'text-gray-400 hover:text-gray-600 dark:hover:text-gray-300'\n                  }`}\n                >\n                  <Grid className='w-5 h-5' />\n                </button>\n                <button\n                  onClick={() => setViewMode('list')}\n                  className={`p-2 rounded-lg transition-colors ${\n                    viewMode === 'list'\n                      ? 'bg-indigo-100 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400'\n                      : 'text-gray-400 hover:text-gray-600 dark:hover:text-gray-300'\n                  }`}\n                >\n                  <List className='w-5 h-5' />\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Learning Paths */}\n        {filteredPaths.length === 0 ? (\n          <div className='text-center py-12'>\n            <div className='w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4'>\n              <Search className='w-8 h-8 text-gray-400' />\n            </div>\n            <h3 className='text-xl font-semibold text-gray-900 dark:text-white mb-2'>\n              No paths found\n            </h3>\n            <p className='text-gray-600 dark:text-gray-400'>\n              Try adjusting your search terms\n            </p>\n          </div>\n        ) : (\n          <div\n            className={`grid gap-6 max-w-6xl mx-auto ${\n              viewMode === 'grid'\n                ? 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3'\n                : 'grid-cols-1'\n            }`}\n          >\n            {filteredPaths.map(path => (\n              <div\n                key={path.id}\n                className={`bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden border border-gray-100 dark:border-gray-700 hover:border-transparent hover:scale-105 ${\n                  viewMode === 'list' ? 'flex items-center p-6' : 'p-6'\n                }`}\n                onClick={() => toggleExpand(path.id)}\n              >\n                {viewMode === 'grid' ? (\n                  <>\n                    {/* Gradient Background */}\n                    <div\n                      className={`absolute inset-0 bg-gradient-to-br ${getPathColor(path.id)} opacity-5`}\n                    />\n\n                    {/* Content */}\n                    <div className='relative'>\n                      {/* Icon and Title */}\n                      <div className='flex items-center gap-4 mb-4'>\n                        <div\n                          className={`w-12 h-12 bg-gradient-to-br ${getPathColor(path.id)} rounded-xl flex items-center justify-center text-white shadow-lg`}\n                        >\n                          {getPathIcon(path.id)}\n                        </div>\n                        <div className='flex-1'>\n                          <h3 className='text-xl font-bold text-gray-900 dark:text-white mb-1'>\n                            {path.name}\n                          </h3>\n                          <div className='flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400'>\n                            <div className='flex items-center gap-1'>\n                              <Target className='w-4 h-4' />\n                              {/* Topic count is shown after expand; show placeholder */}\n                              <span>Topics</span>\n                            </div>\n                            <div className='flex items-center gap-1'>\n                              <BookOpen className='w-4 h-4' />\n                              <span>Questions</span>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* Topics Preview (after expand will show details) */}\n                      <div className='mb-4'>\n                        <h4 className='text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2'>\n                          Category\n                        </h4>\n                        <div className='flex flex-wrap gap-2'></div>\n                      </div>\n\n                      {/* CTA */}\n                      <div className='flex items-center justify-between'>\n                        <Link\n                          href={`/questions?category=${path.id}`}\n                          className='inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl'\n                          onClick={e => e.stopPropagation()}\n                        >\n                          <span>Start Quizzes</span>\n                          <ArrowRight className='w-4 h-4' />\n                        </Link>\n                      </div>\n\n                      {/* Expandable details: categories -> topics -> questions */}\n                      {expandedPathId === path.id && (\n                        <div className='mt-6 border-t border-gray-200 dark:border-gray-700 pt-4'>\n                          {pathDetails[path.id]?.loading && (\n                            <p className='text-gray-500 dark:text-gray-400'>\n                              Loading details...\n                            </p>\n                          )}\n                          {pathDetails[path.id]?.error && (\n                            <p className='text-red-600 dark:text-red-400'>\n                              {pathDetails[path.id]?.error}\n                            </p>\n                          )}\n                          {!!pathDetails[path.id]?.categories?.length && (\n                            <div className='space-y-4'>\n                              {pathDetails[path.id].categories.map(cat => (\n                                <div\n                                  key={cat.id}\n                                  className='bg-gray-50 dark:bg-gray-900/40 rounded-xl p-4'\n                                >\n                                  <div className='flex items-center justify-between'>\n                                    <h4 className='font-semibold text-gray-900 dark:text-white'>\n                                      {cat.name}\n                                    </h4>\n                                    <span className='text-xs text-gray-500 dark:text-gray-400'>\n                                      {cat.topics.length} topics\n                                    </span>\n                                  </div>\n                                  <div className='mt-3 space-y-3'>\n                                    {cat.topics.map(topic => (\n                                      <div\n                                        key={topic.id}\n                                        className='bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-100 dark:border-gray-700'\n                                      >\n                                        <div className='flex items-center justify-between'>\n                                          <div>\n                                            <p className='text-sm font-medium text-gray-800 dark:text-gray-200'>\n                                              {topic.name}\n                                            </p>\n                                            <p className='text-xs text-gray-500 dark:text-gray-400'>\n                                              {topic.questions.length} questions\n                                            </p>\n                                          </div>\n                                          <Link\n                                            href={`/questions?topic=${topic.id}`}\n                                            className='inline-flex items-center gap-1.5 px-3 py-1.5 text-xs rounded-md bg-indigo-600 text-white hover:bg-indigo-700'\n                                            onClick={e => e.stopPropagation()}\n                                          >\n                                            Start Quiz\n                                            <ArrowRight className='w-3 h-3' />\n                                          </Link>\n                                        </div>\n                                        {topic.questions.length > 0 && (\n                                          <div className='mt-2 grid grid-cols-1 sm:grid-cols-2 gap-2'>\n                                            {topic.questions\n                                              .slice(0, 4)\n                                              .map(q => (\n                                                <div\n                                                  key={q.id}\n                                                  className='text-xs text-gray-600 dark:text-gray-400 truncate'\n                                                >\n                                                  • {q.text}\n                                                </div>\n                                              ))}\n                                          </div>\n                                        )}\n                                      </div>\n                                    ))}\n                                  </div>\n                                </div>\n                              ))}\n                            </div>\n                          )}\n                        </div>\n                      )}\n                    </div>\n                  </>\n                ) : (\n                  <>\n                    {/* List View */}\n                    <div\n                      className={`w-16 h-16 bg-gradient-to-br ${getPathColor(path.id)} rounded-xl flex items-center justify-center text-white shadow-lg flex-shrink-0`}\n                    >\n                      {getPathIcon(path.id)}\n                    </div>\n                    <div className='flex-1 ml-4'>\n                      <h3 className='text-xl font-bold text-gray-900 dark:text-white mb-2'>\n                        {path.name}\n                      </h3>\n                      <div className='flex items-center gap-6 text-sm text-gray-600 dark:text-gray-400 mb-2'>\n                        <div className='flex items-center gap-1'>\n                          <Target className='w-4 h-4' />\n                          <span>Topics</span>\n                        </div>\n                        <div className='flex items-center gap-1'>\n                          <BookOpen className='w-4 h-4' />\n                          <span>Questions</span>\n                        </div>\n                      </div>\n                      <div className='flex flex-wrap gap-2'></div>\n                    </div>\n                    <div className='flex-shrink-0'>\n                      <ChevronRight className='w-6 h-6 text-gray-400' />\n                    </div>\n                  </>\n                )}\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Back Button */}\n        <div className='text-center mt-12'>\n          <button\n            onClick={() => router.back()}\n            className='inline-flex items-center space-x-2 px-6 py-3 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md'\n          >\n            <ArrowRight className='w-4 h-4 rotate-180' />\n            <span>Go Back</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["LearningPathsPage","router","useRouter","searchTerm","setSearchTerm","useState","viewMode","setViewMode","categories","setCategories","loading","setLoading","error","setError","React","useEffect","active","res","fetch","ok","Error","status","statusText","json","data","e","message","expandedPathId","setExpandedPathId","pathDetails","setPathDetails","toggleExpand","useCallback","categoryId","prev","topicsRes","topicsJson","topics","filter","t","topicsWithQuestions","qRes","id","qJson","qs","map","q","text","question","question_text","options","push","name","questions","_","categoriesTransformed","find","c","filteredPaths","useMemo","cat","toLowerCase","includes","getPathIcon","pathId","iconMap","Code","className","Palette","Zap","Globe","Shield","Target","Settings","Layers","Brain","BookOpen","getPathColor","colorMap","div","p","h2","button","onClick","window","location","reload","h1","Search","input","type","placeholder","value","onChange","target","Grid","List","length","h3","path","span","h4","Link","href","stopPropagation","ArrowRight","topic","slice","ChevronRight","back"],"mappings":"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"}