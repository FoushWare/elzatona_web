{"version":3,"sources":["/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/flashcards/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport {\n  loadFlashcards,\n  removeFlashcard,\n  FlashcardItem,\n} from '../../lib/flashcards';\nimport {\n  BookOpen,\n  Trash2,\n  Play,\n  RotateCcw,\n  ArrowLeft,\n  ArrowRight,\n  FlipHorizontal,\n  CheckCircle,\n  XCircle,\n  Shuffle,\n  Filter,\n  Target,\n  X,\n  Eye,\n  EyeOff,\n  Loader2,\n} from 'lucide-react';\n\ntype PracticeMode = 'list' | 'flip' | 'quiz';\n\nexport default function FlashcardsPage() {\n  const [items, setItems] = useState<FlashcardItem[]>([]);\n  const [practiceMode, setPracticeMode] = useState<PracticeMode>('list');\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isFlipped, setIsFlipped] = useState(false);\n  const [shuffledItems, setShuffledItems] = useState<FlashcardItem[]>([]);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const [currentQuestion, setCurrentQuestion] = useState<any>(null);\n  const [selectedAnswer, setSelectedAnswer] = useState<string | null>(null);\n  const [showExplanation, setShowExplanation] = useState(false);\n  const [correctAnswers, setCorrectAnswers] = useState(0);\n  const [filterSection, setFilterSection] = useState<string>('all');\n  const [filterDifficulty, setFilterDifficulty] = useState<string>('all');\n\n  useEffect(() => {\n    const loaded = loadFlashcards();\n    setItems(loaded);\n    if (practiceMode === 'flip' || practiceMode === 'quiz') {\n      let filtered = loaded;\n      if (filterSection !== 'all') {\n        filtered = filtered.filter(item => item.section === filterSection);\n      }\n      if (filterDifficulty !== 'all') {\n        filtered = filtered.filter(\n          item => item.difficulty === filterDifficulty\n        );\n      }\n      setShuffledItems(filtered);\n      setCurrentIndex(0);\n      setIsFlipped(false);\n      if (practiceMode === 'quiz' && filtered.length > 0) {\n        fetchQuestionDetails(filtered[0].id);\n      }\n    }\n  }, [practiceMode, filterSection, filterDifficulty]);\n\n  const fetchQuestionDetails = async (questionId: string) => {\n    try {\n      // Try to fetch question details from API\n      const response = await fetch(`/api/questions/${questionId}`);\n      if (response.ok) {\n        const data = await response.json();\n        if (data.success && data.data) {\n          setCurrentQuestion(data.data);\n        }\n      } else {\n        // If question not found in API, set to null\n        setCurrentQuestion(null);\n      }\n    } catch (error) {\n      console.error('Error fetching question details:', error);\n      setCurrentQuestion(null);\n    }\n  };\n\n  const handleFlip = () => {\n    const newFlippedState = !isFlipped;\n    setIsFlipped(newFlippedState);\n\n    // Fetch question details when flipping to show answer (if not already loaded)\n    if (newFlippedState && currentCard && !currentQuestion) {\n      fetchQuestionDetails(currentCard.id);\n    }\n  };\n\n  const startPractice = (mode: PracticeMode) => {\n    let filtered = items;\n    if (filterSection !== 'all') {\n      filtered = filtered.filter(item => item.section === filterSection);\n    }\n    if (filterDifficulty !== 'all') {\n      filtered = filtered.filter(item => item.difficulty === filterDifficulty);\n    }\n\n    if (filtered.length === 0) {\n      alert('No flashcards match your filters. Please adjust your filters.');\n      return;\n    }\n\n    // Shuffle for practice\n    const shuffled = [...filtered].sort(() => Math.random() - 0.5);\n    setShuffledItems(shuffled);\n    setCurrentIndex(0);\n    setIsFlipped(false);\n    setPracticeMode(mode);\n    setCorrectAnswers(0);\n    setSelectedAnswer(null);\n    setShowExplanation(false);\n\n    if (mode === 'quiz' && shuffled.length > 0) {\n      fetchQuestionDetails(shuffled[0].id);\n    }\n  };\n\n  const handleRemove = (id: string) => {\n    removeFlashcard(id);\n    setItems(loadFlashcards());\n    if (practiceMode !== 'list') {\n      const updated = shuffledItems.filter(item => item.id !== id);\n      setShuffledItems(updated);\n      if (currentIndex >= updated.length && updated.length > 0) {\n        setCurrentIndex(updated.length - 1);\n      }\n      if (updated.length === 0) {\n        setPracticeMode('list');\n      }\n    }\n  };\n\n  const nextCard = () => {\n    if (currentIndex < shuffledItems.length - 1) {\n      setCurrentIndex(currentIndex + 1);\n      setIsFlipped(false);\n      setSelectedAnswer(null);\n      setShowExplanation(false);\n      setCurrentQuestion(null); // Reset question details\n      if (practiceMode === 'quiz') {\n        fetchQuestionDetails(shuffledItems[currentIndex + 1].id);\n      }\n    }\n  };\n\n  const prevCard = () => {\n    if (currentIndex > 0) {\n      setCurrentIndex(currentIndex - 1);\n      setIsFlipped(false);\n      setSelectedAnswer(null);\n      setShowExplanation(false);\n      setCurrentQuestion(null); // Reset question details\n      if (practiceMode === 'quiz') {\n        fetchQuestionDetails(shuffledItems[currentIndex - 1].id);\n      }\n    }\n  };\n\n  const handleQuizAnswer = (answer: string) => {\n    if (selectedAnswer || !currentQuestion) return;\n    setSelectedAnswer(answer);\n    setShowExplanation(true);\n    const isCorrect = answer === currentQuestion.correct_answer;\n    if (isCorrect) {\n      setCorrectAnswers(correctAnswers + 1);\n    }\n  };\n\n  const getUniqueSections = () => {\n    const sections = items\n      .map(item => item.section)\n      .filter(Boolean) as string[];\n    return Array.from(new Set(sections));\n  };\n\n  const getUniqueDifficulties = () => {\n    const difficulties = items\n      .map(item => item.difficulty)\n      .filter(Boolean) as string[];\n    return Array.from(new Set(difficulties));\n  };\n\n  const currentCard = shuffledItems[currentIndex];\n\n  if (practiceMode === 'flip') {\n    return (\n      <div className='min-h-screen bg-gradient-to-br from-amber-50 via-white to-rose-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 pt-24 pb-10'>\n        <div className='container mx-auto px-4 max-w-4xl'>\n          {/* Header */}\n          <div className='flex items-center justify-between mb-6'>\n            <button\n              onClick={() => setPracticeMode('list')}\n              className='inline-flex items-center space-x-2 px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white'\n            >\n              <ArrowLeft className='w-4 h-4' />\n              <span>Back to List</span>\n            </button>\n            <div className='text-center'>\n              <div className='text-sm text-gray-600 dark:text-gray-400'>\n                Card {currentIndex + 1} of {shuffledItems.length}\n              </div>\n            </div>\n            <button\n              onClick={() => {\n                const shuffled = [...shuffledItems].sort(\n                  () => Math.random() - 0.5\n                );\n                setShuffledItems(shuffled);\n                setCurrentIndex(0);\n                setIsFlipped(false);\n                setCurrentQuestion(null);\n              }}\n              className='inline-flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-105 active:scale-95'\n              title='Shuffle Cards'\n            >\n              <Shuffle className='w-4 h-4' />\n              <span className='hidden sm:inline'>Shuffle</span>\n            </button>\n          </div>\n\n          {/* Flashcard Preview */}\n          <div className='mb-8'>\n            <div\n              className='bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 backdrop-blur-xl rounded-2xl p-8 shadow-xl border-2 border-gray-200 dark:border-gray-700 min-h-[400px] flex items-center justify-center cursor-pointer transition-all hover:scale-[1.02] hover:shadow-2xl group'\n              onClick={handleFlip}\n            >\n              <div className='text-center w-full'>\n                <div className='mb-6'>\n                  <div className='inline-flex items-center space-x-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/30 rounded-full'>\n                    <BookOpen className='w-4 h-4 text-blue-600 dark:text-blue-400' />\n                    <span className='text-sm font-medium text-blue-900 dark:text-blue-100'>\n                      {currentCard?.section || 'General'}{' '}\n                      {currentCard?.difficulty\n                        ? `• ${currentCard.difficulty}`\n                        : ''}\n                    </span>\n                  </div>\n                </div>\n                <div className='w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-amber-400 to-rose-500 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform'>\n                  <FlipHorizontal className='w-10 h-10 text-white' />\n                </div>\n                <h2 className='text-3xl font-bold text-gray-900 dark:text-white mb-4'>\n                  Question\n                </h2>\n                <p className='text-xl text-gray-700 dark:text-gray-300 mb-8 max-w-2xl mx-auto leading-relaxed'>\n                  {currentCard?.question}\n                </p>\n                <div className='inline-flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-amber-400 to-rose-500 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all'>\n                  <Eye className='w-5 h-5' />\n                  <span>Click to Reveal Answer</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Modal Popup for Answer */}\n          {isFlipped && (\n            <div\n              className='fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm transition-opacity duration-300'\n              onClick={() => setIsFlipped(false)}\n            >\n              <div\n                className='bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto border-2 border-gray-200 dark:border-gray-700 transform transition-all duration-300 scale-100'\n                onClick={e => e.stopPropagation()}\n              >\n                {/* Modal Header */}\n                <div className='sticky top-0 z-10 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 px-6 py-4 rounded-t-3xl flex items-center justify-between'>\n                  <div className='flex items-center space-x-3'>\n                    <div className='w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center'>\n                      <CheckCircle className='w-6 h-6 text-white' />\n                    </div>\n                    <div>\n                      <h3 className='text-lg font-bold text-white'>Answer</h3>\n                      <p className='text-xs text-white/80'>\n                        {currentCard?.section || 'General'}{' '}\n                        {currentCard?.difficulty\n                          ? `• ${currentCard.difficulty}`\n                          : ''}\n                      </p>\n                    </div>\n                  </div>\n                  <button\n                    onClick={() => setIsFlipped(false)}\n                    className='p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors'\n                    aria-label='Close'\n                  >\n                    <X className='w-5 h-5 text-white' />\n                  </button>\n                </div>\n\n                {/* Modal Content */}\n                <div className='p-8'>\n                  {/* Question Display */}\n                  <div className='mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border-l-4 border-blue-500'>\n                    <div className='text-xs font-semibold text-blue-600 dark:text-blue-400 uppercase tracking-wide mb-2'>\n                      Question\n                    </div>\n                    <p className='text-gray-800 dark:text-gray-200 font-medium'>\n                      {currentCard?.question}\n                    </p>\n                  </div>\n\n                  {/* Answer Display */}\n                  <div className='mb-6'>\n                    {currentQuestion ? (\n                      <>\n                        {currentQuestion.correct_answer && (\n                          <div className='p-6 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-2xl border-2 border-green-200 dark:border-green-800 mb-4'>\n                            <div className='flex items-center space-x-3 mb-3'>\n                              <div className='w-10 h-10 bg-green-500 rounded-xl flex items-center justify-center'>\n                                <CheckCircle className='w-6 h-6 text-white' />\n                              </div>\n                              <h4 className='text-lg font-bold text-green-900 dark:text-green-100'>\n                                Correct Answer\n                              </h4>\n                            </div>\n                            <p className='text-xl text-green-800 dark:text-green-200 font-semibold'>\n                              {currentQuestion.correct_answer}\n                            </p>\n                          </div>\n                        )}\n                        {currentQuestion.explanation && (\n                          <div className='p-6 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-2xl border-2 border-blue-200 dark:border-blue-800'>\n                            <div className='flex items-center space-x-3 mb-4'>\n                              <div className='w-10 h-10 bg-blue-500 rounded-xl flex items-center justify-center'>\n                                <BookOpen className='w-6 h-6 text-white' />\n                              </div>\n                              <h4 className='text-lg font-bold text-blue-900 dark:text-blue-100'>\n                                Explanation\n                              </h4>\n                            </div>\n                            <p className='text-blue-800 dark:text-blue-200 leading-relaxed'>\n                              {currentQuestion.explanation}\n                            </p>\n                          </div>\n                        )}\n                        {!currentQuestion.correct_answer &&\n                          !currentQuestion.explanation && (\n                            <div className='p-6 bg-yellow-50 dark:bg-yellow-900/20 rounded-2xl border-2 border-yellow-200 dark:border-yellow-800 text-center'>\n                              <p className='text-yellow-800 dark:text-yellow-200'>\n                                Full answer details not available for this\n                                question.\n                              </p>\n                            </div>\n                          )}\n                      </>\n                    ) : (\n                      <div className='p-6 bg-gray-50 dark:bg-gray-700/50 rounded-2xl text-center'>\n                        <Loader2 className='w-8 h-8 animate-spin text-blue-500 mx-auto mb-3' />\n                        <p className='text-gray-600 dark:text-gray-400'>\n                          Loading answer details...\n                        </p>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Action Buttons */}\n                  <div className='flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200 dark:border-gray-700'>\n                    <button\n                      onClick={() => setIsFlipped(false)}\n                      className='flex-1 inline-flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white rounded-xl font-semibold transition-all shadow-lg hover:shadow-xl'\n                    >\n                      <EyeOff className='w-4 h-4' />\n                      <span>Hide Answer</span>\n                    </button>\n                    <button\n                      onClick={() => {\n                        setIsFlipped(false);\n                        nextCard();\n                      }}\n                      disabled={currentIndex === shuffledItems.length - 1}\n                      className='flex-1 inline-flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed text-white rounded-xl font-semibold transition-all shadow-lg hover:shadow-xl'\n                    >\n                      <ArrowRight className='w-4 h-4' />\n                      <span>Next Card</span>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Navigation */}\n          <div className='flex justify-between items-center'>\n            <button\n              onClick={prevCard}\n              disabled={currentIndex === 0}\n              className='inline-flex items-center space-x-2 px-6 py-3 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg font-semibold transition-colors'\n            >\n              <ArrowLeft className='w-4 h-4' />\n              <span>Previous</span>\n            </button>\n            <div className='flex gap-2'>\n              {currentCard && (\n                <button\n                  onClick={() => handleRemove(currentCard.id)}\n                  className='p-2 rounded-md text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20'\n                  title='Remove from Flashcards'\n                >\n                  <Trash2 className='w-4 h-4' />\n                </button>\n              )}\n            </div>\n            <button\n              onClick={nextCard}\n              disabled={currentIndex === shuffledItems.length - 1}\n              className='inline-flex items-center space-x-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed text-white rounded-lg font-semibold transition-colors'\n            >\n              <span>Next</span>\n              <ArrowRight className='w-4 h-4' />\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (practiceMode === 'quiz') {\n    const isCorrect = selectedAnswer === currentQuestion?.correct_answer;\n\n    return (\n      <div className='min-h-screen bg-gradient-to-br from-amber-50 via-white to-rose-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 pt-24 pb-10'>\n        <div className='container mx-auto px-4 max-w-4xl'>\n          {/* Header */}\n          <div className='flex items-center justify-between mb-6'>\n            <button\n              onClick={() => setPracticeMode('list')}\n              className='inline-flex items-center space-x-2 px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white'\n            >\n              <ArrowLeft className='w-4 h-4' />\n              <span>Back to List</span>\n            </button>\n            <div className='text-center'>\n              <div className='text-sm text-gray-600 dark:text-gray-400'>\n                Question {currentIndex + 1} of {shuffledItems.length}\n              </div>\n              <div className='text-sm font-semibold text-green-600 dark:text-green-400'>\n                Score: {correctAnswers}/\n                {currentIndex + (selectedAnswer ? 1 : 0)}\n              </div>\n            </div>\n            <button\n              onClick={() => {\n                const shuffled = [...shuffledItems].sort(\n                  () => Math.random() - 0.5\n                );\n                setShuffledItems(shuffled);\n                setCurrentIndex(0);\n                setSelectedAnswer(null);\n                setShowExplanation(false);\n                setCorrectAnswers(0);\n                fetchQuestionDetails(shuffled[0].id);\n              }}\n              className='inline-flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-105 active:scale-95'\n              title='Shuffle Cards'\n            >\n              <Shuffle className='w-4 h-4' />\n              <span className='hidden sm:inline'>Shuffle</span>\n            </button>\n          </div>\n\n          {/* Question Card */}\n          {currentCard && (\n            <div className='bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-2xl p-8 shadow-xl border-2 border-white/20 dark:border-gray-700/20 mb-8'>\n              <div className='mb-6'>\n                <div className='text-sm text-gray-500 dark:text-gray-400 mb-2'>\n                  {currentCard.section || 'General'}{' '}\n                  {currentCard.difficulty ? `• ${currentCard.difficulty}` : ''}\n                </div>\n                <h2 className='text-2xl font-bold text-gray-900 dark:text-white mb-4'>\n                  {currentQuestion?.title || currentCard.question}\n                </h2>\n                <p className='text-lg text-gray-700 dark:text-gray-300'>\n                  {currentQuestion?.content || currentCard.question}\n                </p>\n              </div>\n\n              {/* Options */}\n              {currentQuestion?.options &&\n              currentQuestion.options.length > 0 ? (\n                <div className='space-y-3 mb-6'>\n                  {currentQuestion.options.map((option: any, index: number) => {\n                    const optionText =\n                      typeof option === 'string' ? option : option.text;\n                    const isSelected = selectedAnswer === optionText;\n                    const isCorrectOption =\n                      optionText === currentQuestion.correct_answer;\n\n                    let buttonClass =\n                      'w-full text-left p-4 rounded-lg border-2 transition-colors ';\n                    if (selectedAnswer) {\n                      if (isCorrectOption) {\n                        buttonClass +=\n                          'border-green-500 bg-green-50 dark:bg-green-900/30 text-green-900 dark:text-green-100';\n                      } else if (isSelected && !isCorrectOption) {\n                        buttonClass +=\n                          'border-red-500 bg-red-50 dark:bg-red-900/30 text-red-900 dark:text-red-100';\n                      } else {\n                        buttonClass +=\n                          'border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 text-gray-500 dark:text-gray-400';\n                      }\n                    } else {\n                      buttonClass +=\n                        'border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-white';\n                    }\n\n                    return (\n                      <button\n                        key={index}\n                        onClick={() => handleQuizAnswer(optionText)}\n                        disabled={!!selectedAnswer}\n                        className={buttonClass}\n                      >\n                        <div className='flex items-center space-x-3'>\n                          <div\n                            className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${\n                              selectedAnswer && isCorrectOption\n                                ? 'bg-green-500 text-white'\n                                : selectedAnswer &&\n                                    isSelected &&\n                                    !isCorrectOption\n                                  ? 'bg-red-500 text-white'\n                                  : 'bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300'\n                            }`}\n                          >\n                            {String.fromCharCode(65 + index)}\n                          </div>\n                          <span className='flex-1'>{optionText}</span>\n                          {selectedAnswer && isCorrectOption && (\n                            <CheckCircle className='w-5 h-5 text-green-500' />\n                          )}\n                          {selectedAnswer && isSelected && !isCorrectOption && (\n                            <XCircle className='w-5 h-5 text-red-500' />\n                          )}\n                        </div>\n                      </button>\n                    );\n                  })}\n                </div>\n              ) : (\n                <div className='p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg mb-6'>\n                  <p className='text-yellow-800 dark:text-yellow-200'>\n                    This question doesn't have answer options. Use Flip Card\n                    mode to review it.\n                  </p>\n                </div>\n              )}\n\n              {/* Explanation */}\n              {showExplanation && currentQuestion?.explanation && (\n                <div className='mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg'>\n                  <p className='text-blue-800 dark:text-blue-200'>\n                    <strong>Explanation:</strong> {currentQuestion.explanation}\n                  </p>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Navigation */}\n          <div className='flex justify-between items-center'>\n            <button\n              onClick={prevCard}\n              disabled={currentIndex === 0}\n              className='inline-flex items-center space-x-2 px-6 py-3 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg font-semibold transition-colors'\n            >\n              <ArrowLeft className='w-4 h-4' />\n              <span>Previous</span>\n            </button>\n            <div className='flex gap-2'>\n              {currentCard && (\n                <button\n                  onClick={() => handleRemove(currentCard.id)}\n                  className='p-2 rounded-md text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20'\n                  title='Remove from Flashcards'\n                >\n                  <Trash2 className='w-4 h-4' />\n                </button>\n              )}\n            </div>\n            <button\n              onClick={nextCard}\n              disabled={\n                !selectedAnswer || currentIndex === shuffledItems.length - 1\n              }\n              className='inline-flex items-center space-x-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed text-white rounded-lg font-semibold transition-colors'\n            >\n              <span>Next</span>\n              <ArrowRight className='w-4 h-4' />\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // List View\n  const uniqueSections = getUniqueSections();\n  const uniqueDifficulties = getUniqueDifficulties();\n  const filteredItems =\n    filterSection === 'all' && filterDifficulty === 'all'\n      ? items\n      : items.filter(item => {\n          const sectionMatch =\n            filterSection === 'all' || item.section === filterSection;\n          const difficultyMatch =\n            filterDifficulty === 'all' || item.difficulty === filterDifficulty;\n          return sectionMatch && difficultyMatch;\n        });\n\n  return (\n    <div className='min-h-screen bg-gradient-to-br from-amber-50 via-white to-rose-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 pt-24 pb-10'>\n      <div className='container mx-auto px-4 max-w-4xl'>\n        <div className='text-center mb-8'>\n          <div className='w-20 h-20 bg-gradient-to-r from-amber-500 to-rose-600 rounded-2xl flex items-center justify-center mx-auto mb-6'>\n            <BookOpen className='w-10 h-10 text-white' />\n          </div>\n          <h1 className='text-3xl font-bold text-gray-900 dark:text-white'>\n            Flashcards\n          </h1>\n          <p className='text-gray-600 dark:text-gray-400 mt-2'>\n            Review questions you saved from practice.\n          </p>\n        </div>\n\n        {items.length === 0 ? (\n          <div className='text-center text-gray-600 dark:text-gray-400'>\n            No flashcards yet. Add some from your practice sessions.\n          </div>\n        ) : (\n          <>\n            {/* Practice Mode Buttons */}\n            <div className='mb-6 flex flex-col sm:flex-row gap-4 justify-center'>\n              <button\n                onClick={() => startPractice('flip')}\n                className='inline-flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white rounded-xl font-semibold transition-all shadow-lg hover:shadow-xl'\n              >\n                <FlipHorizontal className='w-5 h-5' />\n                <span>Practice with Flip Cards</span>\n              </button>\n              <button\n                onClick={() => startPractice('quiz')}\n                className='inline-flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white rounded-xl font-semibold transition-all shadow-lg hover:shadow-xl'\n              >\n                <Target className='w-5 h-5' />\n                <span>Quiz Mode</span>\n              </button>\n            </div>\n\n            {/* Filters */}\n            {(uniqueSections.length > 0 || uniqueDifficulties.length > 0) && (\n              <div className='mb-6 bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-xl p-4 border border-white/30 dark:border-gray-700/30'>\n                <div className='flex items-center space-x-2 mb-4'>\n                  <Filter className='w-5 h-5 text-gray-600 dark:text-gray-400' />\n                  <span className='font-semibold text-gray-900 dark:text-white'>\n                    Filters\n                  </span>\n                </div>\n                <div className='flex flex-wrap gap-4'>\n                  {uniqueSections.length > 0 && (\n                    <div>\n                      <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1'>\n                        Section\n                      </label>\n                      <select\n                        value={filterSection}\n                        onChange={e => setFilterSection(e.target.value)}\n                        className='px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white'\n                      >\n                        <option value='all'>All Sections</option>\n                        {uniqueSections.map(section => (\n                          <option key={section} value={section}>\n                            {section}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                  )}\n                  {uniqueDifficulties.length > 0 && (\n                    <div>\n                      <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1'>\n                        Difficulty\n                      </label>\n                      <select\n                        value={filterDifficulty}\n                        onChange={e => setFilterDifficulty(e.target.value)}\n                        className='px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white'\n                      >\n                        <option value='all'>All Difficulties</option>\n                        {uniqueDifficulties.map(difficulty => (\n                          <option key={difficulty} value={difficulty}>\n                            {difficulty}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {/* Stats */}\n            <div className='mb-6 text-center'>\n              <div className='inline-flex items-center space-x-6 px-6 py-3 bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-xl border border-white/30 dark:border-gray-700/30'>\n                <div>\n                  <div className='text-2xl font-bold text-gray-900 dark:text-white'>\n                    {filteredItems.length}\n                  </div>\n                  <div className='text-sm text-gray-600 dark:text-gray-400'>\n                    {filterSection === 'all' && filterDifficulty === 'all'\n                      ? 'Total Cards'\n                      : 'Filtered Cards'}\n                  </div>\n                </div>\n                <div className='h-12 w-px bg-gray-300 dark:bg-gray-600'></div>\n                <div>\n                  <div className='text-2xl font-bold text-gray-900 dark:text-white'>\n                    {items.length}\n                  </div>\n                  <div className='text-sm text-gray-600 dark:text-gray-400'>\n                    Total Saved\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* List */}\n            <div className='grid grid-cols-1 gap-4'>\n              {filteredItems.map(item => (\n                <div\n                  key={item.id}\n                  className='bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-xl p-5 border border-white/30 dark:border-gray-700/30 shadow'\n                >\n                  <div className='flex justify-between items-start gap-4'>\n                    <div>\n                      <div className='text-sm text-gray-500 dark:text-gray-400 mb-1'>\n                        {item.section || 'General'}{' '}\n                        {item.difficulty ? `• ${item.difficulty}` : ''}\n                      </div>\n                      <div className='font-medium text-gray-900 dark:text-white'>\n                        {item.question}\n                      </div>\n                    </div>\n                    <button\n                      onClick={() => handleRemove(item.id)}\n                      className='p-2 rounded-md text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20'\n                      title='Remove from Flashcards'\n                    >\n                      <Trash2 className='w-4 h-4' />\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["FlashcardsPage","items","setItems","useState","practiceMode","setPracticeMode","currentIndex","setCurrentIndex","isFlipped","setIsFlipped","shuffledItems","setShuffledItems","currentQuestion","setCurrentQuestion","selectedAnswer","setSelectedAnswer","showExplanation","setShowExplanation","correctAnswers","setCorrectAnswers","filterSection","setFilterSection","filterDifficulty","setFilterDifficulty","useEffect","loaded","loadFlashcards","filtered","filter","item","section","difficulty","length","fetchQuestionDetails","id","questionId","response","fetch","ok","data","json","success","error","console","handleFlip","newFlippedState","currentCard","startPractice","mode","alert","shuffled","sort","Math","random","handleRemove","removeFlashcard","updated","nextCard","prevCard","handleQuizAnswer","answer","isCorrect","correct_answer","getUniqueSections","sections","map","Boolean","Array","from","Set","getUniqueDifficulties","difficulties","div","className","button","onClick","ArrowLeft","span","title","Shuffle","BookOpen","FlipHorizontal","h2","p","question","Eye","e","stopPropagation","CheckCircle","h3","aria-label","X","h4","explanation","Loader2","EyeOff","disabled","ArrowRight","Trash2","content","options","option","index","optionText","text","isSelected","isCorrectOption","buttonClass","String","fromCharCode","XCircle","strong","uniqueSections","uniqueDifficulties","filteredItems","sectionMatch","difficultyMatch","h1","Target","Filter","label","select","value","onChange","target"],"mappings":"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"}