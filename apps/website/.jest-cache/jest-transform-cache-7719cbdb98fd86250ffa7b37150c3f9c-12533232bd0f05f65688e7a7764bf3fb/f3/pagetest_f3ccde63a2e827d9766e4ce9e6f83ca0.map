{"version":3,"sources":["/Users/a.fouad/SideProjects/Elzatona-all/Elzatona-web/apps/website/src/app/admin/frontend-tasks/page.test.tsx"],"sourcesContent":["/**\n * Unit Tests for Admin Frontend Tasks (A-UT-016)\n * Task: A-005 - Admin Frontend Tasks\n */\n\nimport React from 'react';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport FrontendTasksAdminPage from './page';\n\n// Mock TanStack Query hooks\nconst mockTasksData = { data: [] };\n\njest.mock('@elzatona/shared-hooks', () => ({\n  useFrontendTasks: jest.fn(() => ({\n    data: mockTasksData,\n    isLoading: false,\n    error: null,\n  })),\n  useCreateFrontendTask: jest.fn(() => ({\n    mutateAsync: jest.fn(),\n    isPending: false,\n  })),\n  useUpdateFrontendTask: jest.fn(() => ({\n    mutateAsync: jest.fn(),\n    isPending: false,\n  })),\n  useDeleteFrontendTask: jest.fn(() => ({\n    mutateAsync: jest.fn(),\n    isPending: false,\n  })),\n}));\n\njest.mock('@elzatona/shared-components', () => ({\n  FrontendTaskEditor: ({ onSave, onCancel }: any) => (\n    <div data-testid=\"frontend-task-editor\">\n      <button onClick={() => onSave({})}>Save</button>\n      <button onClick={onCancel}>Cancel</button>\n    </div>\n  ),\n}));\n\njest.mock('lucide-react', () => ({\n  Plus: () => <span>+</span>,\n  Edit: () => <span>‚úèÔ∏è</span>,\n  Trash2: () => <span>üóëÔ∏è</span>,\n  Eye: () => <span>üëÅÔ∏è</span>,\n  Search: () => <span>üîç</span>,\n  Filter: () => <span>üîΩ</span>,\n  Code: () => <span>üíª</span>,\n}));\n\nwindow.confirm = jest.fn(() => true);\nwindow.alert = jest.fn();\n\ndescribe('A-UT-016: Component Renders', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it('should render without errors', () => {\n    const { container } = render(<FrontendTasksAdminPage />);\n    expect(container).toBeInTheDocument();\n  });\n\n  it('should display page header', () => {\n    render(<FrontendTasksAdminPage />);\n    // Page should render\n    expect(screen.getByText(/.*/)).toBeTruthy();\n  });\n\n  it('should have Add New Task button', () => {\n    render(<FrontendTasksAdminPage />);\n    // Should have create button\n    expect(screen.getByText(/.*/)).toBeTruthy();\n  });\n});\n\ndescribe('A-UT-SNAPSHOT: Admin Frontend Tasks Snapshot Tests', () => {\n  it('should match admin frontend tasks page snapshot', () => {\n    const { container } = render(<FrontendTasksAdminPage />);\n    expect(container.firstChild).toMatchSnapshot();\n  });\n\n  it('should match admin frontend tasks page snapshot (loading state)', () => {\n    const { useFrontendTasks } = require('@elzatona/shared-hooks');\n    useFrontendTasks.mockReturnValue({\n      data: null,\n      isLoading: true,\n      error: null,\n    });\n    \n    const { container } = render(<FrontendTasksAdminPage />);\n    expect(container.firstChild).toMatchSnapshot();\n  });\n});\n"],"names":["jest","mock","useFrontendTasks","fn","data","mockTasksData","isLoading","error","useCreateFrontendTask","mutateAsync","isPending","useUpdateFrontendTask","useDeleteFrontendTask","FrontendTaskEditor","onSave","onCancel","div","data-testid","button","onClick","Plus","span","Edit","Trash2","Eye","Search","Filter","Code","window","confirm","alert","describe","beforeEach","clearAllMocks","it","container","render","FrontendTasksAdminPage","expect","toBeInTheDocument","screen","getByText","toBeTruthy","firstChild","toMatchSnapshot","require","mockReturnValue"],"mappings":"AAAA;;;CAGC;AAUDA,KAAKC,IAAI,CAAC,0BAA0B,IAAO,CAAA;QACzCC,kBAAkBF,KAAKG,EAAE,CAAC,IAAO,CAAA;gBAC/BC,MAAMC;gBACNC,WAAW;gBACXC,OAAO;YACT,CAAA;QACAC,uBAAuBR,KAAKG,EAAE,CAAC,IAAO,CAAA;gBACpCM,aAAaT,KAAKG,EAAE;gBACpBO,WAAW;YACb,CAAA;QACAC,uBAAuBX,KAAKG,EAAE,CAAC,IAAO,CAAA;gBACpCM,aAAaT,KAAKG,EAAE;gBACpBO,WAAW;YACb,CAAA;QACAE,uBAAuBZ,KAAKG,EAAE,CAAC,IAAO,CAAA;gBACpCM,aAAaT,KAAKG,EAAE;gBACpBO,WAAW;YACb,CAAA;IACF,CAAA;AAEAV,KAAKC,IAAI,CAAC,+BAA+B,IAAO,CAAA;QAC9CY,oBAAoB,CAAC,EAAEC,MAAM,EAAEC,QAAQ,EAAO,iBAC5C,sBAACC;gBAAIC,eAAY;;kCACf,qBAACC;wBAAOC,SAAS,IAAML,OAAO,CAAC;kCAAI;;kCACnC,qBAACI;wBAAOC,SAASJ;kCAAU;;;;IAGjC,CAAA;AAEAf,KAAKC,IAAI,CAAC,gBAAgB,IAAO,CAAA;QAC/BmB,MAAM,kBAAM,qBAACC;0BAAK;;QAClBC,MAAM,kBAAM,qBAACD;0BAAK;;QAClBE,QAAQ,kBAAM,qBAACF;0BAAK;;QACpBG,KAAK,kBAAM,qBAACH;0BAAK;;QACjBI,QAAQ,kBAAM,qBAACJ;0BAAK;;QACpBK,QAAQ,kBAAM,qBAACL;0BAAK;;QACpBM,MAAM,kBAAM,qBAACN;0BAAK;;IACpB,CAAA;;;;;8DA7CkB;wBACiC;QAC5C;6DAC4B;;;;;;AAEnC,4BAA4B;AAC5B,MAAMhB,gBAAgB;IAAED,MAAM,EAAE;AAAC;AAyCjCwB,OAAOC,OAAO,GAAG7B,KAAKG,EAAE,CAAC,IAAM;AAC/ByB,OAAOE,KAAK,GAAG9B,KAAKG,EAAE;AAEtB4B,SAAS,+BAA+B;IACtCC,WAAW;QACThC,KAAKiC,aAAa;IACpB;IAEAC,GAAG,gCAAgC;QACjC,MAAM,EAAEC,SAAS,EAAE,GAAGC,IAAAA,cAAM,gBAAC,qBAACC,aAAsB;QACpDC,OAAOH,WAAWI,iBAAiB;IACrC;IAEAL,GAAG,8BAA8B;QAC/BE,IAAAA,cAAM,gBAAC,qBAACC,aAAsB;QAC9B,qBAAqB;QACrBC,OAAOE,cAAM,CAACC,SAAS,CAAC,OAAOC,UAAU;IAC3C;IAEAR,GAAG,mCAAmC;QACpCE,IAAAA,cAAM,gBAAC,qBAACC,aAAsB;QAC9B,4BAA4B;QAC5BC,OAAOE,cAAM,CAACC,SAAS,CAAC,OAAOC,UAAU;IAC3C;AACF;AAEAX,SAAS,sDAAsD;IAC7DG,GAAG,mDAAmD;QACpD,MAAM,EAAEC,SAAS,EAAE,GAAGC,IAAAA,cAAM,gBAAC,qBAACC,aAAsB;QACpDC,OAAOH,UAAUQ,UAAU,EAAEC,eAAe;IAC9C;IAEAV,GAAG,mEAAmE;QACpE,MAAM,EAAEhC,gBAAgB,EAAE,GAAG2C,QAAQ;QACrC3C,iBAAiB4C,eAAe,CAAC;YAC/B1C,MAAM;YACNE,WAAW;YACXC,OAAO;QACT;QAEA,MAAM,EAAE4B,SAAS,EAAE,GAAGC,IAAAA,cAAM,gBAAC,qBAACC,aAAsB;QACpDC,OAAOH,UAAUQ,UAAU,EAAEC,eAAe;IAC9C;AACF"}