35e734f30f0a8fe0978118f8c59cb0c1
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get GET () {
        return GET;
    },
    get POST () {
        return POST;
    }
});
const _server = require("next/server");
const _supabaseserver = require("../../../lib/supabase-server");
async function GET(request) {
    try {
        const { searchParams } = new URL(request.url);
        const cardType = searchParams.get('cardType');
        const category = searchParams.get('category');
        const categories = searchParams.getAll('categories'); // Support multiple categories
        const topic = searchParams.get('topic');
        const subtopic = searchParams.get('subtopic'); // Support subtopic slug
        const difficulty = searchParams.get('difficulty');
        const type = searchParams.get('type');
        const limit = searchParams.get('limit');
        // Validate topic is a UUID, or resolve subtopic slug to topic ID
        let topicId = undefined;
        // Check if topic is a valid UUID format
        const isValidUUID = (str)=>{
            const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;
            return uuidRegex.test(str);
        };
        if (topic && isValidUUID(topic)) {
            topicId = topic;
        } else if (subtopic || topic && !isValidUUID(topic)) {
            // Resolve topic/subtopic slug to topic ID
            try {
                const { data: topics, error: topicsError } = await _supabaseserver.supabaseOperations.getTopics({
                    isActive: true
                });
                if (!topicsError && topics) {
                    const slugToFind = subtopic || topic || '';
                    const slugLower = slugToFind.toLowerCase();
                    console.log(`ðŸ” API: Searching for topic/subtopic "${slugToFind}"`);
                    // Normalize slug for better matching (remove plural 's', handle common variations)
                    const normalizeForMatch = (str)=>{
                        return str.toLowerCase().replace(/s$/, '') // Remove trailing 's' for plural matching
                        .replace(/\s+/g, '-').replace(/[^a-z0-9-]/g, '');
                    };
                    const slugNormalized = normalizeForMatch(slugLower);
                    // Try multiple matching strategies
                    const matchingTopic = topics.find((t)=>{
                        const topicSlug = t.slug?.toLowerCase() || '';
                        const topicName = t.name?.toLowerCase() || '';
                        const topicNameSlug = topicName.replace(/\s+/g, '-');
                        const topicSlugNormalized = normalizeForMatch(topicSlug);
                        const topicNameNormalized = normalizeForMatch(topicName);
                        // Exact matches
                        if (topicSlug === slugLower || topicNameSlug === slugLower || t.id?.toLowerCase() === slugLower) {
                            return true;
                        }
                        // Check if slug contains the subtopic (e.g., "js-scope-closure" contains "closure")
                        if (topicSlug.includes(slugLower) || topicSlug.includes(slugNormalized)) {
                            return true;
                        }
                        // Check normalized matching (handles plural/singular)
                        if (topicSlugNormalized.includes(slugNormalized) || slugNormalized.includes(topicSlugNormalized)) {
                            return true;
                        }
                        // Check if the subtopic appears as a word boundary in the slug
                        const escapedSlug = slugLower.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                        const escapedSlugNormalized = slugNormalized.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                        if (new RegExp(`(^|-)${escapedSlug}(-|$)`).test(topicSlug) || new RegExp(`(^|-)${escapedSlugNormalized}(-|$)`).test(topicSlug)) {
                            return true;
                        }
                        // Check name matching
                        if (topicName.includes(slugLower.replace(/-/g, ' ')) || topicNameNormalized.includes(slugNormalized) || slugNormalized.includes(topicNameNormalized)) {
                            return true;
                        }
                        return false;
                    });
                    if (matchingTopic) {
                        topicId = matchingTopic.id;
                        console.log(`âœ… Resolved topic/subtopic "${slugToFind}" to topic: "${matchingTopic.name}" (ID: ${topicId})`);
                    } else {
                        console.warn(`âš ï¸ Could not resolve topic/subtopic "${slugToFind}" to a topic ID`);
                        console.log('Available topics:', topics.slice(0, 10).map((t)=>({
                                id: t.id,
                                name: t.name,
                                slug: t.slug
                            })));
                    }
                }
            } catch (error) {
                console.error('Error resolving topic:', error);
            }
        }
        const filters = {
            topicId: topicId,
            categoryId: categories.length > 0 ? categories : category ? [
                category
            ] : undefined,
            difficulty: difficulty || undefined,
            questionType: type || undefined,
            is_active: true,
            limit: limit ? parseInt(limit, 10) : undefined,
            orderBy: 'created_at',
            orderDirection: 'desc'
        };
        // Log the filters being applied
        console.log('ðŸ” API Questions Route - Applied Filters:', {
            topicId: topicId || 'none',
            categoryId: filters.categoryId || 'none',
            difficulty: filters.difficulty || 'none',
            questionType: filters.questionType || 'none',
            limit: filters.limit || 'none'
        });
        // Get the filtered count (same filters, without limit)
        if (!_supabaseserver.supabase) {
            throw new Error('Supabase client not initialized');
        }
        let countQuery = _supabaseserver.supabase.from('questions').select('*', {
            count: 'exact',
            head: true
        });
        countQuery = countQuery.eq('is_active', true);
        if (filters.categoryId) {
            if (Array.isArray(filters.categoryId)) {
                countQuery = countQuery.in('category_id', filters.categoryId);
            } else {
                countQuery = countQuery.eq('category_id', filters.categoryId);
            }
        }
        if (filters.difficulty) {
            countQuery = countQuery.eq('difficulty', filters.difficulty);
        }
        if (filters.questionType) {
            countQuery = countQuery.eq('question_type', filters.questionType);
        }
        if (filters.topicId) {
            console.log(`ðŸ“Œ Applying topic_id filter: ${filters.topicId}`);
            countQuery = countQuery.eq('topic_id', filters.topicId);
        } else {
            console.log('âš ï¸ No topic_id filter applied');
        }
        const { count: filteredCount } = await countQuery;
        const { data: questions, error } = await _supabaseserver.supabaseOperations.getQuestions(filters);
        if (error) {
            console.error('Supabase error fetching questions:', error);
            throw new Error(error.message || 'Failed to fetch questions from database');
        }
        // Handle null or undefined questions
        if (!questions) {
            console.warn('No questions returned from database');
            return _server.NextResponse.json({
                success: true,
                data: [],
                count: 0,
                totalCount: filteredCount || 0
            });
        }
        // Log the results for debugging
        console.log(`ðŸ“Š Questions fetched: ${questions.length || 0}`);
        if (filters.topicId && questions.length > 0) {
            console.log('Sample question topic_ids:', questions.slice(0, 3).map((q)=>q.topic_id || 'NULL'));
        }
        // Transform data to match expected format
        const transformedQuestions = questions?.map((question)=>{
            try {
                // Try multiple possible field names for question text
                const questionText = question.question_text || question.question || question.title || question.content || question.text || '';
                if (!questionText) {
                    console.warn('Question missing text field:', {
                        id: question.id,
                        availableFields: Object.keys(question)
                    });
                }
                return {
                    id: question.id,
                    question: questionText,
                    question_text: questionText,
                    answer: question.correct_answer,
                    explanation: question.explanation || '',
                    topicId: question.topic_id,
                    categoryId: question.category_id,
                    difficulty: question.difficulty,
                    type: question.question_type,
                    questionType: question.question_type,
                    options: question.options ? typeof question.options === 'string' ? JSON.parse(question.options) : question.options : null,
                    correctAnswer: question.correct_answer,
                    tags: question.tags ? typeof question.tags === 'string' ? JSON.parse(question.tags) : question.tags : [],
                    is_active: question.is_active,
                    created_at: question.created_at ? new Date(question.created_at) : new Date(),
                    updated_at: question.updated_at ? new Date(question.updated_at) : new Date()
                };
            } catch (parseError) {
                console.error('Error parsing question:', question.id, parseError);
                return null;
            }
        }).filter((q)=>q !== null && q.question) || []; // Filter out questions without text
        // Additional filters that aren't handled by Supabase (already filtered by categoryId above)
        const filteredQuestions = transformedQuestions;
        if (cardType && cardType !== 'all') {
        // This would need to be handled by joining with learning_cards table
        // For now, we'll skip this filter
        }
        return _server.NextResponse.json({
            success: true,
            data: filteredQuestions,
            count: filteredCount || filteredQuestions.length,
            totalCount: filteredCount || filteredQuestions.length
        });
    } catch (error) {
        console.error('Error fetching questions:', error);
        const errorMessage = error instanceof Error ? error.message : 'Failed to fetch questions';
        return _server.NextResponse.json({
            success: false,
            error: errorMessage,
            details: error instanceof Error ? error.stack : String(error)
        }, {
            status: 500
        });
    }
}
async function POST(request) {
    try {
        const questionData = await request.json();
        // Transform data to match Supabase schema
        const supabaseQuestionData = {
            question_text: questionData.question,
            explanation: questionData.explanation || '',
            topic_id: questionData.topicId || undefined,
            difficulty: questionData.difficulty || 'easy',
            question_type: questionData.type || questionData.questionType || 'multiple_choice',
            options: questionData.options ? JSON.stringify(questionData.options) : undefined,
            correct_answer: questionData.answer || questionData.correctAnswer || undefined,
            tags: questionData.tags ? JSON.stringify(questionData.tags) : undefined,
            is_active: questionData.isActive !== false
        };
        const { data: newQuestion, error } = await _supabaseserver.supabaseOperations.createQuestion(supabaseQuestionData);
        if (error) {
            throw new Error(error.message);
        }
        // Transform response to match expected format
        const transformedQuestion = {
            id: newQuestion.id,
            question: newQuestion.question_text,
            answer: newQuestion.correct_answer,
            explanation: newQuestion.explanation,
            topicId: newQuestion.topic_id,
            difficulty: newQuestion.difficulty,
            type: newQuestion.question_type,
            questionType: newQuestion.question_type,
            options: newQuestion.options ? JSON.parse(newQuestion.options) : null,
            correctAnswer: newQuestion.correct_answer,
            tags: newQuestion.tags ? JSON.parse(newQuestion.tags) : null,
            is_active: newQuestion.is_active,
            created_at: new Date(newQuestion.created_at),
            updated_at: new Date(newQuestion.updated_at)
        };
        return _server.NextResponse.json({
            success: true,
            data: transformedQuestion,
            message: 'Question created successfully'
        });
    } catch (error) {
        console.error('Error creating question:', error);
        return _server.NextResponse.json({
            success: false,
            error: 'Failed to create question'
        }, {
            status: 500
        });
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hLmZvdWFkL1NpZGVQcm9qZWN0cy9FbHphdG9uYS1hbGwvRWx6YXRvbmEtd2ViL2FwcHMvd2Vic2l0ZS9zcmMvYXBwL2FwaS9xdWVzdGlvbnMvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IHN1cGFiYXNlT3BlcmF0aW9ucywgc3VwYWJhc2UgfSBmcm9tICcuLi8uLi8uLi9saWIvc3VwYWJhc2Utc2VydmVyJztcblxuLy8gR0VUIC9hcGkvcXVlc3Rpb25zIC0gR2V0IGFsbCBxdWVzdGlvbnMgd2l0aCBvcHRpb25hbCBmaWx0ZXJpbmdcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgY29uc3QgY2FyZFR5cGUgPSBzZWFyY2hQYXJhbXMuZ2V0KCdjYXJkVHlwZScpO1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gc2VhcmNoUGFyYW1zLmdldCgnY2F0ZWdvcnknKTtcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gc2VhcmNoUGFyYW1zLmdldEFsbCgnY2F0ZWdvcmllcycpOyAvLyBTdXBwb3J0IG11bHRpcGxlIGNhdGVnb3JpZXNcbiAgICBjb25zdCB0b3BpYyA9IHNlYXJjaFBhcmFtcy5nZXQoJ3RvcGljJyk7XG4gICAgY29uc3Qgc3VidG9waWMgPSBzZWFyY2hQYXJhbXMuZ2V0KCdzdWJ0b3BpYycpOyAvLyBTdXBwb3J0IHN1YnRvcGljIHNsdWdcbiAgICBjb25zdCBkaWZmaWN1bHR5ID0gc2VhcmNoUGFyYW1zLmdldCgnZGlmZmljdWx0eScpO1xuICAgIGNvbnN0IHR5cGUgPSBzZWFyY2hQYXJhbXMuZ2V0KCd0eXBlJyk7XG4gICAgY29uc3QgbGltaXQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdsaW1pdCcpO1xuXG4gICAgLy8gVmFsaWRhdGUgdG9waWMgaXMgYSBVVUlELCBvciByZXNvbHZlIHN1YnRvcGljIHNsdWcgdG8gdG9waWMgSURcbiAgICBsZXQgdG9waWNJZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gQ2hlY2sgaWYgdG9waWMgaXMgYSB2YWxpZCBVVUlEIGZvcm1hdFxuICAgIGNvbnN0IGlzVmFsaWRVVUlEID0gKHN0cjogc3RyaW5nKSA9PiB7XG4gICAgICBjb25zdCB1dWlkUmVnZXggPVxuICAgICAgICAvXlswLTlhLWZdezh9LVswLTlhLWZdezR9LVswLTlhLWZdezR9LVswLTlhLWZdezR9LVswLTlhLWZdezEyfSQvaTtcbiAgICAgIHJldHVybiB1dWlkUmVnZXgudGVzdChzdHIpO1xuICAgIH07XG5cbiAgICBpZiAodG9waWMgJiYgaXNWYWxpZFVVSUQodG9waWMpKSB7XG4gICAgICB0b3BpY0lkID0gdG9waWM7XG4gICAgfSBlbHNlIGlmIChzdWJ0b3BpYyB8fCAodG9waWMgJiYgIWlzVmFsaWRVVUlEKHRvcGljKSkpIHtcbiAgICAgIC8vIFJlc29sdmUgdG9waWMvc3VidG9waWMgc2x1ZyB0byB0b3BpYyBJRFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBkYXRhOiB0b3BpY3MsIGVycm9yOiB0b3BpY3NFcnJvciB9ID1cbiAgICAgICAgICBhd2FpdCBzdXBhYmFzZU9wZXJhdGlvbnMuZ2V0VG9waWNzKHtcbiAgICAgICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghdG9waWNzRXJyb3IgJiYgdG9waWNzKSB7XG4gICAgICAgICAgY29uc3Qgc2x1Z1RvRmluZCA9IHN1YnRvcGljIHx8IHRvcGljIHx8ICcnO1xuICAgICAgICAgIGNvbnN0IHNsdWdMb3dlciA9IHNsdWdUb0ZpbmQudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SNIEFQSTogU2VhcmNoaW5nIGZvciB0b3BpYy9zdWJ0b3BpYyBcIiR7c2x1Z1RvRmluZH1cImApO1xuXG4gICAgICAgICAgLy8gTm9ybWFsaXplIHNsdWcgZm9yIGJldHRlciBtYXRjaGluZyAocmVtb3ZlIHBsdXJhbCAncycsIGhhbmRsZSBjb21tb24gdmFyaWF0aW9ucylcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVGb3JNYXRjaCA9IChzdHI6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHN0clxuICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAucmVwbGFjZSgvcyQvLCAnJykgLy8gUmVtb3ZlIHRyYWlsaW5nICdzJyBmb3IgcGx1cmFsIG1hdGNoaW5nXG4gICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICctJylcbiAgICAgICAgICAgICAgLnJlcGxhY2UoL1teYS16MC05LV0vZywgJycpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBjb25zdCBzbHVnTm9ybWFsaXplZCA9IG5vcm1hbGl6ZUZvck1hdGNoKHNsdWdMb3dlcik7XG5cbiAgICAgICAgICAvLyBUcnkgbXVsdGlwbGUgbWF0Y2hpbmcgc3RyYXRlZ2llc1xuICAgICAgICAgIGNvbnN0IG1hdGNoaW5nVG9waWMgPSAodG9waWNzIGFzIGFueVtdKS5maW5kKCh0OiBhbnkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRvcGljU2x1ZyA9IHQuc2x1Zz8udG9Mb3dlckNhc2UoKSB8fCAnJztcbiAgICAgICAgICAgIGNvbnN0IHRvcGljTmFtZSA9IHQubmFtZT8udG9Mb3dlckNhc2UoKSB8fCAnJztcbiAgICAgICAgICAgIGNvbnN0IHRvcGljTmFtZVNsdWcgPSB0b3BpY05hbWUucmVwbGFjZSgvXFxzKy9nLCAnLScpO1xuICAgICAgICAgICAgY29uc3QgdG9waWNTbHVnTm9ybWFsaXplZCA9IG5vcm1hbGl6ZUZvck1hdGNoKHRvcGljU2x1Zyk7XG4gICAgICAgICAgICBjb25zdCB0b3BpY05hbWVOb3JtYWxpemVkID0gbm9ybWFsaXplRm9yTWF0Y2godG9waWNOYW1lKTtcblxuICAgICAgICAgICAgLy8gRXhhY3QgbWF0Y2hlc1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICB0b3BpY1NsdWcgPT09IHNsdWdMb3dlciB8fFxuICAgICAgICAgICAgICB0b3BpY05hbWVTbHVnID09PSBzbHVnTG93ZXIgfHxcbiAgICAgICAgICAgICAgdC5pZD8udG9Mb3dlckNhc2UoKSA9PT0gc2x1Z0xvd2VyXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHNsdWcgY29udGFpbnMgdGhlIHN1YnRvcGljIChlLmcuLCBcImpzLXNjb3BlLWNsb3N1cmVcIiBjb250YWlucyBcImNsb3N1cmVcIilcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgdG9waWNTbHVnLmluY2x1ZGVzKHNsdWdMb3dlcikgfHxcbiAgICAgICAgICAgICAgdG9waWNTbHVnLmluY2x1ZGVzKHNsdWdOb3JtYWxpemVkKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBub3JtYWxpemVkIG1hdGNoaW5nIChoYW5kbGVzIHBsdXJhbC9zaW5ndWxhcilcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgdG9waWNTbHVnTm9ybWFsaXplZC5pbmNsdWRlcyhzbHVnTm9ybWFsaXplZCkgfHxcbiAgICAgICAgICAgICAgc2x1Z05vcm1hbGl6ZWQuaW5jbHVkZXModG9waWNTbHVnTm9ybWFsaXplZClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHN1YnRvcGljIGFwcGVhcnMgYXMgYSB3b3JkIGJvdW5kYXJ5IGluIHRoZSBzbHVnXG4gICAgICAgICAgICBjb25zdCBlc2NhcGVkU2x1ZyA9IHNsdWdMb3dlci5yZXBsYWNlKFxuICAgICAgICAgICAgICAvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csXG4gICAgICAgICAgICAgICdcXFxcJCYnXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgZXNjYXBlZFNsdWdOb3JtYWxpemVkID0gc2x1Z05vcm1hbGl6ZWQucmVwbGFjZShcbiAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLFxuICAgICAgICAgICAgICAnXFxcXCQmJ1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBuZXcgUmVnRXhwKGAoXnwtKSR7ZXNjYXBlZFNsdWd9KC18JClgKS50ZXN0KHRvcGljU2x1ZykgfHxcbiAgICAgICAgICAgICAgbmV3IFJlZ0V4cChgKF58LSkke2VzY2FwZWRTbHVnTm9ybWFsaXplZH0oLXwkKWApLnRlc3QodG9waWNTbHVnKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBuYW1lIG1hdGNoaW5nXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHRvcGljTmFtZS5pbmNsdWRlcyhzbHVnTG93ZXIucmVwbGFjZSgvLS9nLCAnICcpKSB8fFxuICAgICAgICAgICAgICB0b3BpY05hbWVOb3JtYWxpemVkLmluY2x1ZGVzKHNsdWdOb3JtYWxpemVkKSB8fFxuICAgICAgICAgICAgICBzbHVnTm9ybWFsaXplZC5pbmNsdWRlcyh0b3BpY05hbWVOb3JtYWxpemVkKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAobWF0Y2hpbmdUb3BpYykge1xuICAgICAgICAgICAgdG9waWNJZCA9IG1hdGNoaW5nVG9waWMuaWQ7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgYOKchSBSZXNvbHZlZCB0b3BpYy9zdWJ0b3BpYyBcIiR7c2x1Z1RvRmluZH1cIiB0byB0b3BpYzogXCIke21hdGNoaW5nVG9waWMubmFtZX1cIiAoSUQ6ICR7dG9waWNJZH0pYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICBg4pqg77iPIENvdWxkIG5vdCByZXNvbHZlIHRvcGljL3N1YnRvcGljIFwiJHtzbHVnVG9GaW5kfVwiIHRvIGEgdG9waWMgSURgXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICdBdmFpbGFibGUgdG9waWNzOicsXG4gICAgICAgICAgICAgICh0b3BpY3MgYXMgYW55W10pLnNsaWNlKDAsIDEwKS5tYXAoKHQ6IGFueSkgPT4gKHtcbiAgICAgICAgICAgICAgICBpZDogdC5pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiB0Lm5hbWUsXG4gICAgICAgICAgICAgICAgc2x1ZzogdC5zbHVnLFxuICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXNvbHZpbmcgdG9waWM6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGZpbHRlcnMgPSB7XG4gICAgICB0b3BpY0lkOiB0b3BpY0lkLFxuICAgICAgY2F0ZWdvcnlJZDpcbiAgICAgICAgY2F0ZWdvcmllcy5sZW5ndGggPiAwID8gY2F0ZWdvcmllcyA6IGNhdGVnb3J5ID8gW2NhdGVnb3J5XSA6IHVuZGVmaW5lZCxcbiAgICAgIGRpZmZpY3VsdHk6IGRpZmZpY3VsdHkgfHwgdW5kZWZpbmVkLFxuICAgICAgcXVlc3Rpb25UeXBlOiB0eXBlIHx8IHVuZGVmaW5lZCxcbiAgICAgIGlzX2FjdGl2ZTogdHJ1ZSxcbiAgICAgIGxpbWl0OiBsaW1pdCA/IHBhcnNlSW50KGxpbWl0LCAxMCkgOiB1bmRlZmluZWQsXG4gICAgICBvcmRlckJ5OiAnY3JlYXRlZF9hdCcsXG4gICAgICBvcmRlckRpcmVjdGlvbjogJ2Rlc2MnIGFzIGNvbnN0LFxuICAgIH07XG5cbiAgICAvLyBMb2cgdGhlIGZpbHRlcnMgYmVpbmcgYXBwbGllZFxuICAgIGNvbnNvbGUubG9nKCfwn5SNIEFQSSBRdWVzdGlvbnMgUm91dGUgLSBBcHBsaWVkIEZpbHRlcnM6Jywge1xuICAgICAgdG9waWNJZDogdG9waWNJZCB8fCAnbm9uZScsXG4gICAgICBjYXRlZ29yeUlkOiBmaWx0ZXJzLmNhdGVnb3J5SWQgfHwgJ25vbmUnLFxuICAgICAgZGlmZmljdWx0eTogZmlsdGVycy5kaWZmaWN1bHR5IHx8ICdub25lJyxcbiAgICAgIHF1ZXN0aW9uVHlwZTogZmlsdGVycy5xdWVzdGlvblR5cGUgfHwgJ25vbmUnLFxuICAgICAgbGltaXQ6IGZpbHRlcnMubGltaXQgfHwgJ25vbmUnLFxuICAgIH0pO1xuXG4gICAgLy8gR2V0IHRoZSBmaWx0ZXJlZCBjb3VudCAoc2FtZSBmaWx0ZXJzLCB3aXRob3V0IGxpbWl0KVxuICAgIGlmICghc3VwYWJhc2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU3VwYWJhc2UgY2xpZW50IG5vdCBpbml0aWFsaXplZCcpO1xuICAgIH1cblxuICAgIGxldCBjb3VudFF1ZXJ5ID0gc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdxdWVzdGlvbnMnKVxuICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSk7XG5cbiAgICBjb3VudFF1ZXJ5ID0gY291bnRRdWVyeS5lcSgnaXNfYWN0aXZlJywgdHJ1ZSk7XG5cbiAgICBpZiAoZmlsdGVycy5jYXRlZ29yeUlkKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShmaWx0ZXJzLmNhdGVnb3J5SWQpKSB7XG4gICAgICAgIGNvdW50UXVlcnkgPSBjb3VudFF1ZXJ5LmluKCdjYXRlZ29yeV9pZCcsIGZpbHRlcnMuY2F0ZWdvcnlJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb3VudFF1ZXJ5ID0gY291bnRRdWVyeS5lcSgnY2F0ZWdvcnlfaWQnLCBmaWx0ZXJzLmNhdGVnb3J5SWQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmlsdGVycy5kaWZmaWN1bHR5KSB7XG4gICAgICBjb3VudFF1ZXJ5ID0gY291bnRRdWVyeS5lcSgnZGlmZmljdWx0eScsIGZpbHRlcnMuZGlmZmljdWx0eSk7XG4gICAgfVxuICAgIGlmIChmaWx0ZXJzLnF1ZXN0aW9uVHlwZSkge1xuICAgICAgY291bnRRdWVyeSA9IGNvdW50UXVlcnkuZXEoJ3F1ZXN0aW9uX3R5cGUnLCBmaWx0ZXJzLnF1ZXN0aW9uVHlwZSk7XG4gICAgfVxuICAgIGlmIChmaWx0ZXJzLnRvcGljSWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OMIEFwcGx5aW5nIHRvcGljX2lkIGZpbHRlcjogJHtmaWx0ZXJzLnRvcGljSWR9YCk7XG4gICAgICBjb3VudFF1ZXJ5ID0gY291bnRRdWVyeS5lcSgndG9waWNfaWQnLCBmaWx0ZXJzLnRvcGljSWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygn4pqg77iPIE5vIHRvcGljX2lkIGZpbHRlciBhcHBsaWVkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBjb3VudDogZmlsdGVyZWRDb3VudCB9ID0gYXdhaXQgY291bnRRdWVyeTtcblxuICAgIGNvbnN0IHsgZGF0YTogcXVlc3Rpb25zLCBlcnJvciB9ID1cbiAgICAgIGF3YWl0IHN1cGFiYXNlT3BlcmF0aW9ucy5nZXRRdWVzdGlvbnMoZmlsdGVycyk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlIGVycm9yIGZldGNoaW5nIHF1ZXN0aW9uczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBmZXRjaCBxdWVzdGlvbnMgZnJvbSBkYXRhYmFzZSdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIG51bGwgb3IgdW5kZWZpbmVkIHF1ZXN0aW9uc1xuICAgIGlmICghcXVlc3Rpb25zKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ05vIHF1ZXN0aW9ucyByZXR1cm5lZCBmcm9tIGRhdGFiYXNlJyk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgY291bnQ6IDAsXG4gICAgICAgIHRvdGFsQ291bnQ6IGZpbHRlcmVkQ291bnQgfHwgMCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIExvZyB0aGUgcmVzdWx0cyBmb3IgZGVidWdnaW5nXG4gICAgY29uc29sZS5sb2coYPCfk4ogUXVlc3Rpb25zIGZldGNoZWQ6ICR7cXVlc3Rpb25zLmxlbmd0aCB8fCAwfWApO1xuICAgIGlmIChmaWx0ZXJzLnRvcGljSWQgJiYgcXVlc3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAnU2FtcGxlIHF1ZXN0aW9uIHRvcGljX2lkczonLFxuICAgICAgICBxdWVzdGlvbnMuc2xpY2UoMCwgMykubWFwKChxOiBhbnkpID0+IHEudG9waWNfaWQgfHwgJ05VTEwnKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBUcmFuc2Zvcm0gZGF0YSB0byBtYXRjaCBleHBlY3RlZCBmb3JtYXRcbiAgICBjb25zdCB0cmFuc2Zvcm1lZFF1ZXN0aW9ucyA9XG4gICAgICAocXVlc3Rpb25zIGFzIGFueVtdKVxuICAgICAgICA/Lm1hcChxdWVzdGlvbiA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFRyeSBtdWx0aXBsZSBwb3NzaWJsZSBmaWVsZCBuYW1lcyBmb3IgcXVlc3Rpb24gdGV4dFxuICAgICAgICAgICAgY29uc3QgcXVlc3Rpb25UZXh0ID1cbiAgICAgICAgICAgICAgcXVlc3Rpb24ucXVlc3Rpb25fdGV4dCB8fFxuICAgICAgICAgICAgICBxdWVzdGlvbi5xdWVzdGlvbiB8fFxuICAgICAgICAgICAgICBxdWVzdGlvbi50aXRsZSB8fFxuICAgICAgICAgICAgICBxdWVzdGlvbi5jb250ZW50IHx8XG4gICAgICAgICAgICAgIHF1ZXN0aW9uLnRleHQgfHxcbiAgICAgICAgICAgICAgJyc7XG5cbiAgICAgICAgICAgIGlmICghcXVlc3Rpb25UZXh0KSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybignUXVlc3Rpb24gbWlzc2luZyB0ZXh0IGZpZWxkOicsIHtcbiAgICAgICAgICAgICAgICBpZDogcXVlc3Rpb24uaWQsXG4gICAgICAgICAgICAgICAgYXZhaWxhYmxlRmllbGRzOiBPYmplY3Qua2V5cyhxdWVzdGlvbiksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBpZDogcXVlc3Rpb24uaWQsXG4gICAgICAgICAgICAgIHF1ZXN0aW9uOiBxdWVzdGlvblRleHQsXG4gICAgICAgICAgICAgIHF1ZXN0aW9uX3RleHQ6IHF1ZXN0aW9uVGV4dCwgLy8gQWxzbyBpbmNsdWRlIHJhdyBmaWVsZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgICBhbnN3ZXI6IHF1ZXN0aW9uLmNvcnJlY3RfYW5zd2VyLFxuICAgICAgICAgICAgICBleHBsYW5hdGlvbjogcXVlc3Rpb24uZXhwbGFuYXRpb24gfHwgJycsXG4gICAgICAgICAgICAgIHRvcGljSWQ6IHF1ZXN0aW9uLnRvcGljX2lkLFxuICAgICAgICAgICAgICBjYXRlZ29yeUlkOiBxdWVzdGlvbi5jYXRlZ29yeV9pZCxcbiAgICAgICAgICAgICAgZGlmZmljdWx0eTogcXVlc3Rpb24uZGlmZmljdWx0eSxcbiAgICAgICAgICAgICAgdHlwZTogcXVlc3Rpb24ucXVlc3Rpb25fdHlwZSxcbiAgICAgICAgICAgICAgcXVlc3Rpb25UeXBlOiBxdWVzdGlvbi5xdWVzdGlvbl90eXBlLFxuICAgICAgICAgICAgICBvcHRpb25zOiBxdWVzdGlvbi5vcHRpb25zXG4gICAgICAgICAgICAgICAgPyB0eXBlb2YgcXVlc3Rpb24ub3B0aW9ucyA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgID8gSlNPTi5wYXJzZShxdWVzdGlvbi5vcHRpb25zKVxuICAgICAgICAgICAgICAgICAgOiBxdWVzdGlvbi5vcHRpb25zXG4gICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICBjb3JyZWN0QW5zd2VyOiBxdWVzdGlvbi5jb3JyZWN0X2Fuc3dlcixcbiAgICAgICAgICAgICAgdGFnczogcXVlc3Rpb24udGFnc1xuICAgICAgICAgICAgICAgID8gdHlwZW9mIHF1ZXN0aW9uLnRhZ3MgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICA/IEpTT04ucGFyc2UocXVlc3Rpb24udGFncylcbiAgICAgICAgICAgICAgICAgIDogcXVlc3Rpb24udGFnc1xuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgICAgICAgIGlzX2FjdGl2ZTogcXVlc3Rpb24uaXNfYWN0aXZlLFxuICAgICAgICAgICAgICBjcmVhdGVkX2F0OiBxdWVzdGlvbi5jcmVhdGVkX2F0XG4gICAgICAgICAgICAgICAgPyBuZXcgRGF0ZShxdWVzdGlvbi5jcmVhdGVkX2F0KVxuICAgICAgICAgICAgICAgIDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgdXBkYXRlZF9hdDogcXVlc3Rpb24udXBkYXRlZF9hdFxuICAgICAgICAgICAgICAgID8gbmV3IERhdGUocXVlc3Rpb24udXBkYXRlZF9hdClcbiAgICAgICAgICAgICAgICA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgcXVlc3Rpb246JywgcXVlc3Rpb24uaWQsIHBhcnNlRXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuZmlsdGVyKHEgPT4gcSAhPT0gbnVsbCAmJiBxLnF1ZXN0aW9uKSB8fCBbXTsgLy8gRmlsdGVyIG91dCBxdWVzdGlvbnMgd2l0aG91dCB0ZXh0XG5cbiAgICAvLyBBZGRpdGlvbmFsIGZpbHRlcnMgdGhhdCBhcmVuJ3QgaGFuZGxlZCBieSBTdXBhYmFzZSAoYWxyZWFkeSBmaWx0ZXJlZCBieSBjYXRlZ29yeUlkIGFib3ZlKVxuICAgIGNvbnN0IGZpbHRlcmVkUXVlc3Rpb25zID0gdHJhbnNmb3JtZWRRdWVzdGlvbnM7XG5cbiAgICBpZiAoY2FyZFR5cGUgJiYgY2FyZFR5cGUgIT09ICdhbGwnKSB7XG4gICAgICAvLyBUaGlzIHdvdWxkIG5lZWQgdG8gYmUgaGFuZGxlZCBieSBqb2luaW5nIHdpdGggbGVhcm5pbmdfY2FyZHMgdGFibGVcbiAgICAgIC8vIEZvciBub3csIHdlJ2xsIHNraXAgdGhpcyBmaWx0ZXJcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IGZpbHRlcmVkUXVlc3Rpb25zLFxuICAgICAgY291bnQ6IGZpbHRlcmVkQ291bnQgfHwgZmlsdGVyZWRRdWVzdGlvbnMubGVuZ3RoLCAvLyBBY3R1YWwgZmlsdGVyZWQgY291bnQgZnJvbSBkYXRhYmFzZVxuICAgICAgdG90YWxDb3VudDogZmlsdGVyZWRDb3VudCB8fCBmaWx0ZXJlZFF1ZXN0aW9ucy5sZW5ndGgsIC8vIFRvdGFsIGNvdW50IGFmdGVyIGZpbHRlcmluZ1xuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHF1ZXN0aW9uczonLCBlcnJvcik7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID1cbiAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBmZXRjaCBxdWVzdGlvbnMnO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6IFN0cmluZyhlcnJvciksXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG4vLyBQT1NUIC9hcGkvcXVlc3Rpb25zIC0gQ3JlYXRlIGEgbmV3IHF1ZXN0aW9uXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHF1ZXN0aW9uRGF0YSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuXG4gICAgLy8gVHJhbnNmb3JtIGRhdGEgdG8gbWF0Y2ggU3VwYWJhc2Ugc2NoZW1hXG4gICAgY29uc3Qgc3VwYWJhc2VRdWVzdGlvbkRhdGEgPSB7XG4gICAgICBxdWVzdGlvbl90ZXh0OiBxdWVzdGlvbkRhdGEucXVlc3Rpb24sXG4gICAgICBleHBsYW5hdGlvbjogcXVlc3Rpb25EYXRhLmV4cGxhbmF0aW9uIHx8ICcnLFxuICAgICAgdG9waWNfaWQ6IHF1ZXN0aW9uRGF0YS50b3BpY0lkIHx8IHVuZGVmaW5lZCxcbiAgICAgIGRpZmZpY3VsdHk6IHF1ZXN0aW9uRGF0YS5kaWZmaWN1bHR5IHx8ICdlYXN5JyxcbiAgICAgIHF1ZXN0aW9uX3R5cGU6XG4gICAgICAgIHF1ZXN0aW9uRGF0YS50eXBlIHx8IHF1ZXN0aW9uRGF0YS5xdWVzdGlvblR5cGUgfHwgJ211bHRpcGxlX2Nob2ljZScsXG4gICAgICBvcHRpb25zOiBxdWVzdGlvbkRhdGEub3B0aW9uc1xuICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHF1ZXN0aW9uRGF0YS5vcHRpb25zKVxuICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIGNvcnJlY3RfYW5zd2VyOlxuICAgICAgICBxdWVzdGlvbkRhdGEuYW5zd2VyIHx8IHF1ZXN0aW9uRGF0YS5jb3JyZWN0QW5zd2VyIHx8IHVuZGVmaW5lZCxcbiAgICAgIHRhZ3M6IHF1ZXN0aW9uRGF0YS50YWdzID8gSlNPTi5zdHJpbmdpZnkocXVlc3Rpb25EYXRhLnRhZ3MpIDogdW5kZWZpbmVkLFxuICAgICAgaXNfYWN0aXZlOiBxdWVzdGlvbkRhdGEuaXNBY3RpdmUgIT09IGZhbHNlLFxuICAgIH07XG5cbiAgICBjb25zdCB7IGRhdGE6IG5ld1F1ZXN0aW9uLCBlcnJvciB9ID1cbiAgICAgIGF3YWl0IHN1cGFiYXNlT3BlcmF0aW9ucy5jcmVhdGVRdWVzdGlvbihzdXBhYmFzZVF1ZXN0aW9uRGF0YSk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgdG8gbWF0Y2ggZXhwZWN0ZWQgZm9ybWF0XG4gICAgY29uc3QgdHJhbnNmb3JtZWRRdWVzdGlvbiA9IHtcbiAgICAgIGlkOiAobmV3UXVlc3Rpb24gYXMgYW55KS5pZCxcbiAgICAgIHF1ZXN0aW9uOiAobmV3UXVlc3Rpb24gYXMgYW55KS5xdWVzdGlvbl90ZXh0LFxuICAgICAgYW5zd2VyOiAobmV3UXVlc3Rpb24gYXMgYW55KS5jb3JyZWN0X2Fuc3dlcixcbiAgICAgIGV4cGxhbmF0aW9uOiAobmV3UXVlc3Rpb24gYXMgYW55KS5leHBsYW5hdGlvbixcbiAgICAgIHRvcGljSWQ6IChuZXdRdWVzdGlvbiBhcyBhbnkpLnRvcGljX2lkLFxuICAgICAgZGlmZmljdWx0eTogKG5ld1F1ZXN0aW9uIGFzIGFueSkuZGlmZmljdWx0eSxcbiAgICAgIHR5cGU6IChuZXdRdWVzdGlvbiBhcyBhbnkpLnF1ZXN0aW9uX3R5cGUsXG4gICAgICBxdWVzdGlvblR5cGU6IChuZXdRdWVzdGlvbiBhcyBhbnkpLnF1ZXN0aW9uX3R5cGUsXG4gICAgICBvcHRpb25zOiAobmV3UXVlc3Rpb24gYXMgYW55KS5vcHRpb25zXG4gICAgICAgID8gSlNPTi5wYXJzZSgobmV3UXVlc3Rpb24gYXMgYW55KS5vcHRpb25zKVxuICAgICAgICA6IG51bGwsXG4gICAgICBjb3JyZWN0QW5zd2VyOiAobmV3UXVlc3Rpb24gYXMgYW55KS5jb3JyZWN0X2Fuc3dlcixcbiAgICAgIHRhZ3M6IChuZXdRdWVzdGlvbiBhcyBhbnkpLnRhZ3NcbiAgICAgICAgPyBKU09OLnBhcnNlKChuZXdRdWVzdGlvbiBhcyBhbnkpLnRhZ3MpXG4gICAgICAgIDogbnVsbCxcbiAgICAgIGlzX2FjdGl2ZTogKG5ld1F1ZXN0aW9uIGFzIGFueSkuaXNfYWN0aXZlLFxuICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKG5ld1F1ZXN0aW9uIGFzIGFueSkuY3JlYXRlZF9hdCksXG4gICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgobmV3UXVlc3Rpb24gYXMgYW55KS51cGRhdGVkX2F0KSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiB0cmFuc2Zvcm1lZFF1ZXN0aW9uLFxuICAgICAgbWVzc2FnZTogJ1F1ZXN0aW9uIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBxdWVzdGlvbjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gY3JlYXRlIHF1ZXN0aW9uJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkdFVCIsIlBPU1QiLCJyZXF1ZXN0Iiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwiY2FyZFR5cGUiLCJnZXQiLCJjYXRlZ29yeSIsImNhdGVnb3JpZXMiLCJnZXRBbGwiLCJ0b3BpYyIsInN1YnRvcGljIiwiZGlmZmljdWx0eSIsInR5cGUiLCJsaW1pdCIsInRvcGljSWQiLCJ1bmRlZmluZWQiLCJpc1ZhbGlkVVVJRCIsInN0ciIsInV1aWRSZWdleCIsInRlc3QiLCJkYXRhIiwidG9waWNzIiwiZXJyb3IiLCJ0b3BpY3NFcnJvciIsInN1cGFiYXNlT3BlcmF0aW9ucyIsImdldFRvcGljcyIsImlzQWN0aXZlIiwic2x1Z1RvRmluZCIsInNsdWdMb3dlciIsInRvTG93ZXJDYXNlIiwiY29uc29sZSIsImxvZyIsIm5vcm1hbGl6ZUZvck1hdGNoIiwicmVwbGFjZSIsInNsdWdOb3JtYWxpemVkIiwibWF0Y2hpbmdUb3BpYyIsImZpbmQiLCJ0IiwidG9waWNTbHVnIiwic2x1ZyIsInRvcGljTmFtZSIsIm5hbWUiLCJ0b3BpY05hbWVTbHVnIiwidG9waWNTbHVnTm9ybWFsaXplZCIsInRvcGljTmFtZU5vcm1hbGl6ZWQiLCJpZCIsImluY2x1ZGVzIiwiZXNjYXBlZFNsdWciLCJlc2NhcGVkU2x1Z05vcm1hbGl6ZWQiLCJSZWdFeHAiLCJ3YXJuIiwic2xpY2UiLCJtYXAiLCJmaWx0ZXJzIiwiY2F0ZWdvcnlJZCIsImxlbmd0aCIsInF1ZXN0aW9uVHlwZSIsImlzX2FjdGl2ZSIsInBhcnNlSW50Iiwib3JkZXJCeSIsIm9yZGVyRGlyZWN0aW9uIiwic3VwYWJhc2UiLCJFcnJvciIsImNvdW50UXVlcnkiLCJmcm9tIiwic2VsZWN0IiwiY291bnQiLCJoZWFkIiwiZXEiLCJBcnJheSIsImlzQXJyYXkiLCJpbiIsImZpbHRlcmVkQ291bnQiLCJxdWVzdGlvbnMiLCJnZXRRdWVzdGlvbnMiLCJtZXNzYWdlIiwiTmV4dFJlc3BvbnNlIiwianNvbiIsInN1Y2Nlc3MiLCJ0b3RhbENvdW50IiwicSIsInRvcGljX2lkIiwidHJhbnNmb3JtZWRRdWVzdGlvbnMiLCJxdWVzdGlvbiIsInF1ZXN0aW9uVGV4dCIsInF1ZXN0aW9uX3RleHQiLCJ0aXRsZSIsImNvbnRlbnQiLCJ0ZXh0IiwiYXZhaWxhYmxlRmllbGRzIiwiT2JqZWN0Iiwia2V5cyIsImFuc3dlciIsImNvcnJlY3RfYW5zd2VyIiwiZXhwbGFuYXRpb24iLCJjYXRlZ29yeV9pZCIsInF1ZXN0aW9uX3R5cGUiLCJvcHRpb25zIiwiSlNPTiIsInBhcnNlIiwiY29ycmVjdEFuc3dlciIsInRhZ3MiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInVwZGF0ZWRfYXQiLCJwYXJzZUVycm9yIiwiZmlsdGVyIiwiZmlsdGVyZWRRdWVzdGlvbnMiLCJlcnJvck1lc3NhZ2UiLCJkZXRhaWxzIiwic3RhY2siLCJTdHJpbmciLCJzdGF0dXMiLCJxdWVzdGlvbkRhdGEiLCJzdXBhYmFzZVF1ZXN0aW9uRGF0YSIsInN0cmluZ2lmeSIsIm5ld1F1ZXN0aW9uIiwiY3JlYXRlUXVlc3Rpb24iLCJ0cmFuc2Zvcm1lZFF1ZXN0aW9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztRQUlzQkE7ZUFBQUE7O1FBbVRBQztlQUFBQTs7O3dCQXZUb0I7Z0NBQ0c7QUFHdEMsZUFBZUQsSUFBSUUsT0FBb0I7SUFDNUMsSUFBSTtRQUNGLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUcsSUFBSUMsSUFBSUYsUUFBUUcsR0FBRztRQUM1QyxNQUFNQyxXQUFXSCxhQUFhSSxHQUFHLENBQUM7UUFDbEMsTUFBTUMsV0FBV0wsYUFBYUksR0FBRyxDQUFDO1FBQ2xDLE1BQU1FLGFBQWFOLGFBQWFPLE1BQU0sQ0FBQyxlQUFlLDhCQUE4QjtRQUNwRixNQUFNQyxRQUFRUixhQUFhSSxHQUFHLENBQUM7UUFDL0IsTUFBTUssV0FBV1QsYUFBYUks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