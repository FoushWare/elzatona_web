name: CodeQL Configuration
version: 2.0

# Aggressively reduce scanning scope to avoid rate limits
paths-ignore:
  - "**/node_modules/**"
  - "**/dist/**"
  - "**/build/**"
  - "**/.nx/**"
  - "**/coverage/**"
  - "**/.git/**"
  - "**/.next/**"
  - "**/logs/**"
  - "**/*.log"
  - "**/.backup.logs/**"
  - "**/.scannerwork/**"
  - "**/playwright-report/**"
  - "**/*.test.ts"
  - "**/*.test.tsx"
  - "**/*.spec.ts"
  - "**/*.spec.tsx"
  - "**/*.stories.tsx"
  - "**/public/**"
  - "**/assets/**"
  - "**/*.config.js"
  - "**/*.config.ts"

# Focus only on critical source code directories
paths:
  - "apps/website/src/**"
  - "libs/shared-atoms/src/**"
  - "libs/components/src/**"
  - "libs/contexts/src/**"
  - "libs/hooks/src/**"

# Use only critical security queries to prevent memory issues
queries:
  - name: Critical Security Only
    uses: security-extended
